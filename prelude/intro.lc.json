{
    "type": "script",
    "cellvars": [],
    "localvars": [],
    "body": [
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "fibonacci",
                "loc": [0, 4, 9, 4, 0]
            },
            "value": {
                "type": "closure",
                "cellvars": [],
                "localvars": [
                    {"type": "cell", "deref": false, "name": "a", "defs": 1}
                ],
                "frame": [],
                "args": [
                    {"slot": {"type": "slot", "kind": "local", "index": 0}}
                ],
                "body": [
                    {
                        "type": "cond",
                        "cond": {
                            "type": "cmp",
                            "exprs": [
                                {"type": "slot", "kind": "local", "index": 0},
                                {
                                    "type": "literal",
                                    "kind": "integer",
                                    "value": "2"
                                }
                            ],
                            "ops": [
                                {
                                    "type": "slot",
                                    "kind": "global",
                                    "name": "<",
                                    "loc": [7, 5, 12, 5, 0]
                                }
                            ],
                            "loc": [7, 5, 12, 5, 0]
                        },
                        "tbody": [
                            {
                                "type": "return",
                                "value": {
                                    "type": "literal",
                                    "kind": "integer",
                                    "value": "1"
                                }
                            }
                        ],
                        "fbody": [
                            {
                                "type": "return",
                                "value": {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "+",
                                        "loc": [15, 8, 46, 8, 0]
                                    },
                                    "args": [
                                        {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "fibonacci",
                                                "loc": [15, 8, 24, 8, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "call",
                                                    "callee": {
                                                        "type": "slot",
                                                        "kind": "global",
                                                        "name": "-",
                                                        "loc": [25, 8, 28, 8, 0]
                                                    },
                                                    "args": [
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 0
                                                        },
                                                        {
                                                            "type": "literal",
                                                            "kind": "integer",
                                                            "value": "1"
                                                        }
                                                    ],
                                                    "loc": [25, 8, 28, 8, 0]
                                                }
                                            ],
                                            "loc": [15, 8, 29, 8, 0]
                                        },
                                        {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "fibonacci",
                                                "loc": [32, 8, 41, 8, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "call",
                                                    "callee": {
                                                        "type": "slot",
                                                        "kind": "global",
                                                        "name": "-",
                                                        "loc": [42, 8, 45, 8, 0]
                                                    },
                                                    "args": [
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 0
                                                        },
                                                        {
                                                            "type": "literal",
                                                            "kind": "integer",
                                                            "value": "2"
                                                        }
                                                    ],
                                                    "loc": [42, 8, 45, 8, 0]
                                                }
                                            ],
                                            "loc": [32, 8, 46, 8, 0]
                                        }
                                    ],
                                    "loc": [15, 8, 46, 8, 0]
                                }
                            }
                        ],
                        "loc": [4, 5, 46, 8, 0]
                    }
                ],
                "loc": [12, 4, 46, 8, 0]
            }
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "factorial",
                "loc": [0, 10, 9, 10, 0]
            },
            "value": {
                "type": "closure",
                "cellvars": [],
                "localvars": [
                    {"type": "cell", "deref": false, "name": "a", "defs": 1}
                ],
                "frame": [],
                "args": [
                    {"slot": {"type": "slot", "kind": "local", "index": 0}}
                ],
                "body": [
                    {
                        "type": "cond",
                        "cond": {
                            "type": "cmp",
                            "exprs": [
                                {"type": "slot", "kind": "local", "index": 0},
                                {
                                    "type": "literal",
                                    "kind": "integer",
                                    "value": "1"
                                }
                            ],
                            "ops": [
                                {
                                    "type": "slot",
                                    "kind": "global",
                                    "name": "<",
                                    "loc": [7, 11, 12, 11, 0]
                                }
                            ],
                            "loc": [7, 11, 12, 11, 0]
                        },
                        "tbody": [
                            {
                                "type": "return",
                                "value": {
                                    "type": "literal",
                                    "kind": "integer",
                                    "value": "1"
                                }
                            }
                        ],
                        "fbody": [
                            {
                                "type": "return",
                                "value": {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "*",
                                        "loc": [15, 14, 33, 14, 0]
                                    },
                                    "args": [
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 0
                                        },
                                        {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "factorial",
                                                "loc": [19, 14, 28, 14, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "call",
                                                    "callee": {
                                                        "type": "slot",
                                                        "kind": "global",
                                                        "name": "-",
                                                        "loc": [
                                                            29,
                                                            14,
                                                            32,
                                                            14,
                                                            0
                                                        ]
                                                    },
                                                    "args": [
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 0
                                                        },
                                                        {
                                                            "type": "literal",
                                                            "kind": "integer",
                                                            "value": "1"
                                                        }
                                                    ],
                                                    "loc": [29, 14, 32, 14, 0]
                                                }
                                            ],
                                            "loc": [19, 14, 33, 14, 0]
                                        }
                                    ],
                                    "loc": [15, 14, 33, 14, 0]
                                }
                            }
                        ],
                        "loc": [4, 11, 33, 14, 0]
                    }
                ],
                "loc": [12, 10, 33, 14, 0]
            }
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "simple_generator",
                "loc": [0, 16, 16, 16, 0]
            },
            "value": {
                "type": "closure",
                "cellvars": [],
                "localvars": [
                    {"type": "cell", "deref": false, "name": "sg", "defs": 1},
                    {"type": "cell", "deref": false, "name": "s", "defs": 2},
                    {"type": "cell", "deref": false, "name": "x", "defs": 1}
                ],
                "frame": [],
                "args": [],
                "body": [
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "local", "index": 0},
                        "value": {
                            "type": "generator",
                            "cellvars": [],
                            "localvars": [
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "x",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "y",
                                    "defs": 1
                                }
                            ],
                            "frame": [],
                            "body": [
                                {
                                    "type": "repeat",
                                    "fresh": [],
                                    "heads": [
                                        {
                                            "type": "for",
                                            "slot": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 0
                                            },
                                            "value": {
                                                "type": "call",
                                                "callee": {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "range",
                                                    "loc": [17, 18, 22, 18, 0]
                                                },
                                                "args": [
                                                    {
                                                        "type": "literal",
                                                        "kind": "integer",
                                                        "value": "10"
                                                    }
                                                ],
                                                "loc": [17, 18, 26, 18, 0]
                                            }
                                        },
                                        {
                                            "type": "for",
                                            "slot": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 1
                                            },
                                            "value": {
                                                "type": "call",
                                                "callee": {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "range",
                                                    "loc": [17, 19, 22, 19, 0]
                                                },
                                                "args": [
                                                    {
                                                        "type": "literal",
                                                        "kind": "integer",
                                                        "value": "20"
                                                    }
                                                ],
                                                "loc": [17, 19, 26, 19, 0]
                                            }
                                        }
                                    ],
                                    "body": [
                                        {
                                            "type": "yield",
                                            "value": {
                                                "type": "call",
                                                "callee": {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "*",
                                                    "loc": [18, 21, 23, 21, 0]
                                                },
                                                "args": [
                                                    {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 0
                                                    },
                                                    {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 1
                                                    }
                                                ],
                                                "loc": [18, 21, 23, 21, 0]
                                            }
                                        }
                                    ]
                                }
                            ]
                        }
                    },
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "local", "index": 1},
                        "value": {
                            "type": "literal",
                            "kind": "integer",
                            "value": "0"
                        }
                    },
                    {
                        "type": "repeat",
                        "fresh": [],
                        "heads": [
                            {
                                "type": "for",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 2
                                },
                                "value": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 0
                                }
                            }
                        ],
                        "body": [
                            {
                                "type": "assign",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 1
                                },
                                "value": {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "+",
                                        "loc": [12, 25, 17, 25, 0]
                                    },
                                    "args": [
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 1
                                        },
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 2
                                        }
                                    ],
                                    "loc": [12, 25, 17, 25, 0]
                                }
                            }
                        ]
                    },
                    {
                        "type": "call",
                        "callee": {
                            "type": "slot",
                            "kind": "global",
                            "name": "print",
                            "loc": [4, 26, 9, 26, 0]
                        },
                        "args": [
                            {
                                "type": "literal",
                                "kind": "string",
                                "value": "simple_generator output sum:"
                            },
                            {"type": "slot", "kind": "local", "index": 1}
                        ],
                        "loc": [4, 26, 44, 26, 0]
                    }
                ],
                "loc": [19, 16, 44, 26, 0]
            }
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "hello",
                "loc": [0, 29, 5, 29, 0]
            },
            "value": {
                "type": "call",
                "callee": {
                    "type": "slot",
                    "kind": "global",
                    "name": "++",
                    "loc": [8, 29, 33, 29, 0]
                },
                "args": [
                    {
                        "type": "call",
                        "callee": {
                            "type": "slot",
                            "kind": "global",
                            "name": "++",
                            "loc": [8, 29, 22, 29, 0]
                        },
                        "args": [
                            {
                                "type": "literal",
                                "kind": "string",
                                "value": "Hello"
                            },
                            {"type": "literal", "kind": "string", "value": " "}
                        ],
                        "loc": [8, 29, 22, 29, 0]
                    },
                    {"type": "literal", "kind": "string", "value": "world"}
                ],
                "loc": [8, 29, 33, 29, 0]
            }
        },
        {
            "type": "call",
            "callee": {
                "type": "slot",
                "kind": "global",
                "name": "print",
                "loc": [0, 30, 5, 30, 0]
            },
            "args": [
                {
                    "type": "slot",
                    "kind": "global",
                    "name": "hello",
                    "loc": [6, 30, 11, 30, 0]
                }
            ],
            "loc": [0, 30, 12, 30, 0]
        },
        {
            "type": "case",
            "value": {
                "type": "slot",
                "kind": "global",
                "name": "true",
                "loc": [5, 54, 9, 54, 0]
            },
            "cases": [
                {
                    "type": "constant",
                    "value": {
                        "type": "slot",
                        "kind": "global",
                        "name": "true",
                        "loc": [0, 55, 4, 55, 0]
                    },
                    "body": [
                        {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "global",
                                "name": "print",
                                "loc": [10, 55, 15, 55, 0]
                            },
                            "args": [
                                {
                                    "type": "literal",
                                    "kind": "string",
                                    "value": "hello"
                                }
                            ],
                            "loc": [10, 55, 24, 55, 0]
                        }
                    ],
                    "loc": [0, 55, 24, 55, 0]
                },
                {
                    "type": "constant",
                    "value": {
                        "type": "slot",
                        "kind": "global",
                        "name": "false",
                        "loc": [0, 56, 5, 56, 0]
                    },
                    "body": [
                        {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "global",
                                "name": "print",
                                "loc": [11, 56, 16, 56, 0]
                            },
                            "args": [
                                {
                                    "type": "literal",
                                    "kind": "string",
                                    "value": "hmm"
                                }
                            ],
                            "loc": [11, 56, 23, 56, 0]
                        }
                    ],
                    "loc": [0, 56, 23, 56, 0]
                }
            ],
            "default": [],
            "loc": [0, 54, 23, 56, 0]
        }
    ],
    "sources": ["intro.lc"]
}
