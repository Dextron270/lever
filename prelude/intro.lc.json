{
    "type": "script",
    "cellvars": [],
    "localvars": [
        {"type": "cell", "deref": false, "name": "param", "defs": 1},
        {"type": "cell", "deref": false, "name": "st", "defs": 1},
        {"type": "cell", "deref": false, "name": "param", "defs": 1},
        {"type": "cell", "deref": false, "name": "st", "defs": 1}
    ],
    "body": [
        {
            "type": "bind",
            "module": {
                "type": "call",
                "callee": {
                    "type": "slot",
                    "kind": "global",
                    "name": "import",
                    "loc": [0, 1, 33, 2, 0]
                },
                "args": [
                    {
                        "type": "literal",
                        "kind": "string",
                        "value": "graph_utils"
                    }
                ],
                "loc": [0, 1, 33, 2, 0]
            },
            "bindings": {
                "greedy_biclique_decomposition": "greedy_biclique_decomposition"
            },
            "loc": [0, 1, 33, 2, 0]
        },
        {
            "type": "datatype",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "State",
                "loc": [9, 7, 14, 7, 0]
            },
            "varc": 2,
            "rows": [
                [
                    {
                        "type": "slot",
                        "kind": "global",
                        "name": "state",
                        "loc": [24, 7, 29, 7, 0]
                    },
                    4,
                    {"pol": 0, "heads": 1, "flow": 2, "transitions": 3},
                    {
                        "type": "closure",
                        "cellvars": [],
                        "localvars": [
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "op",
                                "defs": 1
                            },
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "a",
                                "defs": 1
                            }
                        ],
                        "frame": [],
                        "args": [
                            {
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 0
                                }
                            },
                            {
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 1
                                }
                            }
                        ],
                        "body": [
                            {
                                "type": "return",
                                "value": {
                                    "type": "make_tuple",
                                    "items": [
                                        {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "Integer",
                                            "loc": [17, 8, 24, 8, 0]
                                        },
                                        {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "Set",
                                                "loc": [17, 9, 20, 9, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "call",
                                                    "callee": {
                                                        "type": "slot",
                                                        "kind": "global",
                                                        "name": "Sink",
                                                        "loc": [21, 9, 25, 9, 0]
                                                    },
                                                    "args": [
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 0
                                                        },
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 1
                                                        }
                                                    ],
                                                    "loc": [21, 9, 32, 9, 0]
                                                }
                                            ],
                                            "loc": [17, 9, 33, 9, 0]
                                        },
                                        {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "Set",
                                                "loc": [17, 10, 20, 10, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "call",
                                                    "callee": {
                                                        "type": "slot",
                                                        "kind": "global",
                                                        "name": "State",
                                                        "loc": [
                                                            21,
                                                            10,
                                                            26,
                                                            10,
                                                            0
                                                        ]
                                                    },
                                                    "args": [
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 0
                                                        },
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 1
                                                        }
                                                    ],
                                                    "loc": [21, 10, 33, 10, 0]
                                                }
                                            ],
                                            "loc": [17, 10, 34, 10, 0]
                                        },
                                        {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "Dict",
                                                "loc": [17, 11, 21, 11, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "Parameter",
                                                    "loc": [22, 11, 31, 11, 0]
                                                },
                                                {
                                                    "type": "call",
                                                    "callee": {
                                                        "type": "slot",
                                                        "kind": "global",
                                                        "name": "State",
                                                        "loc": [
                                                            33,
                                                            11,
                                                            38,
                                                            11,
                                                            0
                                                        ]
                                                    },
                                                    "args": [
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 0
                                                        },
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 1
                                                        }
                                                    ],
                                                    "loc": [33, 11, 45, 11, 0]
                                                }
                                            ],
                                            "loc": [17, 11, 46, 11, 0]
                                        }
                                    ]
                                }
                            }
                        ],
                        "loc": [0, 7, 50, 24, 0]
                    }
                ]
            ],
            "decls": [
                {
                    "type": "derived",
                    "ops": [
                        {
                            "type": "slot",
                            "kind": "global",
                            "name": "hash",
                            "loc": [7, 12, 11, 12, 0]
                        },
                        {
                            "type": "slot",
                            "kind": "global",
                            "name": "==",
                            "loc": [14, 12, 16, 12, 0]
                        }
                    ],
                    "value": {
                        "type": "slot",
                        "kind": "global",
                        "name": "by_reference",
                        "loc": [19, 12, 31, 12, 0]
                    }
                },
                {
                    "type": "attr_method",
                    "name": "add_flow",
                    "value": {
                        "type": "closure",
                        "cellvars": [],
                        "localvars": [
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "self",
                                "defs": 1
                            },
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "other",
                                "defs": 1
                            }
                        ],
                        "frame": [],
                        "args": [
                            {
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 0
                                }
                            },
                            {
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 1
                                }
                            }
                        ],
                        "body": [
                            {
                                "type": "assert",
                                "cond": {
                                    "type": "cmp",
                                    "exprs": [
                                        {
                                            "type": "slot",
                                            "kind": "attr",
                                            "base": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 0
                                            },
                                            "name": "pol",
                                            "loc": [11, 14, 19, 14, 0]
                                        },
                                        {
                                            "type": "slot",
                                            "kind": "attr",
                                            "base": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 1
                                            },
                                            "name": "pol",
                                            "loc": [23, 14, 32, 14, 0]
                                        }
                                    ],
                                    "ops": [
                                        {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "!=",
                                            "loc": [11, 14, 32, 14, 0]
                                        }
                                    ],
                                    "loc": [11, 14, 32, 14, 0]
                                },
                                "value": {
                                    "type": "literal",
                                    "kind": "string",
                                    "value": "polarity conflict"
                                },
                                "loc": [4, 14, 55, 14, 0]
                            },
                            {
                                "type": "call",
                                "callee": {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "attr",
                                        "base": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 0
                                        },
                                        "name": "flow",
                                        "loc": [4, 15, 13, 15, 0]
                                    },
                                    "name": "add",
                                    "loc": [4, 15, 17, 15, 0]
                                },
                                "args": [
                                    {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 1
                                    }
                                ],
                                "loc": [4, 15, 24, 15, 0]
                            },
                            {
                                "type": "call",
                                "callee": {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "attr",
                                        "base": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 1
                                        },
                                        "name": "flow",
                                        "loc": [4, 16, 14, 16, 0]
                                    },
                                    "name": "add",
                                    "loc": [4, 16, 18, 16, 0]
                                },
                                "args": [
                                    {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 0
                                    }
                                ],
                                "loc": [4, 16, 24, 16, 0]
                            }
                        ],
                        "loc": [28, 13, 24, 16, 0]
                    }
                },
                {
                    "type": "attr_method",
                    "name": "add_transition",
                    "value": {
                        "type": "closure",
                        "cellvars": [],
                        "localvars": [
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "self",
                                "defs": 1
                            },
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "parameter",
                                "defs": 1
                            },
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "other",
                                "defs": 1
                            }
                        ],
                        "frame": [],
                        "args": [
                            {
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 0
                                }
                            },
                            {
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 1
                                }
                            },
                            {
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 2
                                }
                            }
                        ],
                        "body": [
                            {
                                "type": "assert",
                                "cond": {
                                    "type": "cmp",
                                    "exprs": [
                                        {
                                            "type": "cmp",
                                            "exprs": [
                                                {
                                                    "type": "slot",
                                                    "kind": "attr",
                                                    "base": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 1
                                                    },
                                                    "name": "pol",
                                                    "loc": [12, 20, 25, 20, 0]
                                                },
                                                {
                                                    "type": "literal",
                                                    "kind": "integer",
                                                    "value": "0"
                                                }
                                            ],
                                            "ops": [
                                                {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": ">=",
                                                    "loc": [12, 20, 30, 20, 0]
                                                }
                                            ],
                                            "loc": [12, 20, 30, 20, 0]
                                        },
                                        {
                                            "type": "cmp",
                                            "exprs": [
                                                {
                                                    "type": "slot",
                                                    "kind": "attr",
                                                    "base": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 0
                                                    },
                                                    "name": "pol",
                                                    "loc": [36, 20, 44, 20, 0]
                                                },
                                                {
                                                    "type": "slot",
                                                    "kind": "attr",
                                                    "base": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 2
                                                    },
                                                    "name": "pol",
                                                    "loc": [48, 20, 57, 20, 0]
                                                }
                                            ],
                                            "ops": [
                                                {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "==",
                                                    "loc": [36, 20, 57, 20, 0]
                                                }
                                            ],
                                            "loc": [36, 20, 57, 20, 0]
                                        }
                                    ],
                                    "ops": [
                                        {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "==",
                                            "loc": [11, 20, 58, 20, 0]
                                        }
                                    ],
                                    "loc": [11, 20, 58, 20, 0]
                                },
                                "value": {
                                    "type": "literal",
                                    "kind": "string",
                                    "value": "polarity conflict"
                                },
                                "loc": [4, 20, 27, 21, 0]
                            },
                            {
                                "type": "except",
                                "body": [
                                    {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "attr",
                                            "base": {
                                                "type": "slot",
                                                "kind": "item",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "attr",
                                                    "base": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 0
                                                    },
                                                    "name": "transitions",
                                                    "loc": [4, 22, 20, 22, 0]
                                                },
                                                "index": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 1
                                                },
                                                "loc": [4, 22, 31, 22, 0]
                                            },
                                            "name": "add",
                                            "loc": [4, 22, 35, 22, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 2
                                            }
                                        ],
                                        "loc": [4, 22, 42, 22, 0]
                                    }
                                ],
                                "excepts": [
                                    {
                                        "exc": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "NoIndex",
                                            "loc": [11, 23, 18, 23, 0]
                                        },
                                        "body": [
                                            {
                                                "type": "assign",
                                                "slot": {
                                                    "type": "slot",
                                                    "kind": "item",
                                                    "base": {
                                                        "type": "slot",
                                                        "kind": "attr",
                                                        "base": {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 0
                                                        },
                                                        "name": "transitions",
                                                        "loc": [
                                                            8,
                                                            24,
                                                            24,
                                                            24,
                                                            0
                                                        ]
                                                    },
                                                    "index": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 1
                                                    },
                                                    "loc": [8, 24, 35, 24, 0]
                                                },
                                                "value": {
                                                    "type": "call",
                                                    "callee": {
                                                        "type": "slot",
                                                        "kind": "global",
                                                        "name": "set",
                                                        "loc": [
                                                            38,
                                                            24,
                                                            41,
                                                            24,
                                                            0
                                                        ]
                                                    },
                                                    "args": [
                                                        {
                                                            "type": "list",
                                                            "values": [
                                                                {
                                                                    "type": "slot",
                                                                    "kind": "local",
                                                                    "index": 2
                                                                }
                                                            ]
                                                        }
                                                    ],
                                                    "loc": [38, 24, 50, 24, 0]
                                                }
                                            }
                                        ]
                                    }
                                ],
                                "loc": [4, 22, 50, 24, 0]
                            }
                        ],
                        "loc": [34, 19, 50, 24, 0]
                    }
                }
            ],
            "loc": [0, 7, 50, 24, 0]
        },
        {
            "type": "datatype",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "Site",
                "loc": [9, 34, 13, 34, 0]
            },
            "varc": 2,
            "rows": [
                [
                    {
                        "type": "slot",
                        "kind": "global",
                        "name": "site",
                        "loc": [23, 34, 27, 34, 0]
                    },
                    6,
                    {
                        "op": 0,
                        "coerces": 1,
                        "state": 2,
                        "expect": 3,
                        "operators": 4,
                        "slots": 5
                    },
                    {
                        "type": "closure",
                        "cellvars": [],
                        "localvars": [
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "op",
                                "defs": 1
                            },
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "a",
                                "defs": 1
                            }
                        ],
                        "frame": [],
                        "args": [
                            {
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 0
                                }
                            },
                            {
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 1
                                }
                            }
                        ],
                        "body": [
                            {
                                "type": "return",
                                "value": {
                                    "type": "make_tuple",
                                    "items": [
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 0
                                        },
                                        {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "Set",
                                                "loc": [13, 36, 16, 36, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "make_tuple",
                                                    "items": [
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 1
                                                        },
                                                        {
                                                            "type": "slot",
                                                            "kind": "global",
                                                            "name": "Integer",
                                                            "loc": [
                                                                21,
                                                                36,
                                                                28,
                                                                36,
                                                                0
                                                            ]
                                                        },
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 1
                                                        }
                                                    ]
                                                }
                                            ],
                                            "loc": [13, 36, 33, 36, 0]
                                        },
                                        {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "State",
                                                "loc": [11, 37, 16, 37, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 0
                                                },
                                                {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 1
                                                }
                                            ],
                                            "loc": [11, 37, 23, 37, 0]
                                        },
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 1
                                        },
                                        {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "Dict",
                                                "loc": [15, 39, 19, 39, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 1
                                                },
                                                {
                                                    "type": "record",
                                                    "fields": [
                                                        {
                                                            "name": "input",
                                                            "mutable": false,
                                                            "value": {
                                                                "type": "call",
                                                                "callee": {
                                                                    "type": "slot",
                                                                    "kind": "global",
                                                                    "name": "State",
                                                                    "loc": [
                                                                        31,
                                                                        39,
                                                                        36,
                                                                        39,
                                                                        0
                                                                    ]
                                                                },
                                                                "args": [
                                                                    {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 0
                                                                    },
                                                                    {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 1
                                                                    }
                                                                ],
                                                                "loc": [
                                                                    31,
                                                                    39,
                                                                    43,
                                                                    39,
                                                                    0
                                                                ]
                                                            }
                                                        },
                                                        {
                                                            "name": "output",
                                                            "mutable": false,
                                                            "value": {
                                                                "type": "call",
                                                                "callee": {
                                                                    "type": "slot",
                                                                    "kind": "global",
                                                                    "name": "State",
                                                                    "loc": [
                                                                        53,
                                                                        39,
                                                                        58,
                                                                        39,
                                                                        0
                                                                    ]
                                                                },
                                                                "args": [
                                                                    {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 0
                                                                    },
                                                                    {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 1
                                                                    }
                                                                ],
                                                                "loc": [
                                                                    53,
                                                                    39,
                                                                    65,
                                                                    39,
                                                                    0
                                                                ]
                                                            }
                                                        }
                                                    ]
                                                }
                                            ],
                                            "loc": [15, 39, 67, 39, 0]
                                        },
                                        {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "Dict",
                                                "loc": [11, 40, 15, 40, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "Integer",
                                                    "loc": [16, 40, 23, 40, 0]
                                                },
                                                {
                                                    "type": "call",
                                                    "callee": {
                                                        "type": "slot",
                                                        "kind": "global",
                                                        "name": "Set",
                                                        "loc": [
                                                            25,
                                                            40,
                                                            28,
                                                            40,
                                                            0
                                                        ]
                                                    },
                                                    "args": [
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 1
                                                        }
                                                    ],
                                                    "loc": [25, 40, 31, 40, 0]
                                                }
                                            ],
                                            "loc": [11, 40, 32, 40, 0]
                                        }
                                    ]
                                }
                            }
                        ],
                        "loc": [0, 34, 66, 50, 0]
                    }
                ]
            ],
            "decls": [
                {
                    "type": "derived",
                    "ops": [
                        {
                            "type": "slot",
                            "kind": "global",
                            "name": "hash",
                            "loc": [7, 41, 11, 41, 0]
                        },
                        {
                            "type": "slot",
                            "kind": "global",
                            "name": "==",
                            "loc": [14, 41, 16, 41, 0]
                        }
                    ],
                    "value": {
                        "type": "slot",
                        "kind": "global",
                        "name": "by_reference",
                        "loc": [19, 41, 31, 41, 0]
                    }
                },
                {
                    "type": "attr_method",
                    "name": "transfer",
                    "value": {
                        "type": "closure",
                        "cellvars": [],
                        "localvars": [
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "self",
                                "defs": 1
                            },
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "fn",
                                "defs": 1
                            },
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "coerces",
                                "defs": 1
                            },
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "expect",
                                "defs": 1
                            },
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "state",
                                "defs": 1
                            },
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "operators",
                                "defs": 1
                            },
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "slots",
                                "defs": 1
                            },
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "index",
                                "defs": 1
                            },
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "slot",
                                "defs": 1
                            }
                        ],
                        "frame": [],
                        "args": [
                            {
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 0
                                }
                            },
                            {
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 1
                                }
                            }
                        ],
                        "body": [
                            {
                                "type": "assign",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 2
                                },
                                "value": {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "set",
                                        "loc": [14, 43, 17, 43, 0]
                                    },
                                    "args": [
                                        {
                                            "type": "slot",
                                            "kind": "attr",
                                            "base": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 0
                                            },
                                            "name": "coerces",
                                            "loc": [18, 43, 30, 43, 0]
                                        }
                                    ],
                                    "loc": [14, 43, 31, 43, 0]
                                }
                            },
                            {
                                "type": "assign",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 3
                                },
                                "value": {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 0
                                    },
                                    "name": "expect",
                                    "loc": [13, 44, 24, 44, 0]
                                }
                            },
                            {
                                "type": "assign",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 4
                                },
                                "value": {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 1
                                    },
                                    "args": [
                                        {
                                            "type": "slot",
                                            "kind": "attr",
                                            "base": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 0
                                            },
                                            "name": "state",
                                            "loc": [15, 45, 25, 45, 0]
                                        }
                                    ],
                                    "loc": [12, 45, 26, 45, 0]
                                }
                            },
                            {
                                "type": "assign",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 5
                                },
                                "value": {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "dict",
                                        "loc": [16, 46, 20, 46, 0]
                                    },
                                    "args": [{"type": "list", "values": []}],
                                    "loc": [16, 46, 24, 46, 0]
                                }
                            },
                            {
                                "type": "assign",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 6
                                },
                                "value": {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "copy",
                                        "loc": [12, 47, 16, 47, 0]
                                    },
                                    "args": [
                                        {
                                            "type": "slot",
                                            "kind": "attr",
                                            "base": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 0
                                            },
                                            "name": "slots",
                                            "loc": [17, 47, 27, 47, 0]
                                        }
                                    ],
                                    "loc": [12, 47, 28, 47, 0]
                                }
                            },
                            {
                                "type": "repeat",
                                "fresh": [],
                                "heads": [
                                    {
                                        "type": "for",
                                        "slot": {
                                            "type": "slot",
                                            "kind": "tuple",
                                            "slots": [
                                                {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 7
                                                },
                                                {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 8
                                                }
                                            ],
                                            "loc": [8, 48, 19, 48, 0]
                                        },
                                        "value": {
                                            "type": "slot",
                                            "kind": "attr",
                                            "base": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 0
                                            },
                                            "name": "operators",
                                            "loc": [23, 48, 37, 48, 0]
                                        }
                                    }
                                ],
                                "body": [
                                    {
                                        "type": "assign",
                                        "slot": {
                                            "type": "slot",
                                            "kind": "item",
                                            "base": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 5
                                            },
                                            "index": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 7
                                            },
                                            "loc": [8, 49, 24, 49, 0]
                                        },
                                        "value": {
                                            "type": "record",
                                            "fields": [
                                                {
                                                    "name": "input",
                                                    "mutable": false,
                                                    "value": {
                                                        "type": "call",
                                                        "callee": {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 1
                                                        },
                                                        "args": [
                                                            {
                                                                "type": "slot",
                                                                "kind": "attr",
                                                                "base": {
                                                                    "type": "slot",
                                                                    "kind": "local",
                                                                    "index": 8
                                                                },
                                                                "name": "input",
                                                                "loc": [
                                                                    37,
                                                                    49,
                                                                    47,
                                                                    49,
                                                                    0
                                                                ]
                                                            }
                                                        ],
                                                        "loc": [
                                                            34,
                                                            49,
                                                            48,
                                                            49,
                                                            0
                                                        ]
                                                    }
                                                },
                                                {
                                                    "name": "output",
                                                    "mutable": false,
                                                    "value": {
                                                        "type": "call",
                                                        "callee": {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 1
                                                        },
                                                        "args": [
                                                            {
                                                                "type": "slot",
                                                                "kind": "attr",
                                                                "base": {
                                                                    "type": "slot",
                                                                    "kind": "local",
                                                                    "index": 8
                                                                },
                                                                "name": "output",
                                                                "loc": [
                                                                    60,
                                                                    49,
                                                                    71,
                                                                    49,
                                                                    0
                                                                ]
                                                            }
                                                        ],
                                                        "loc": [
                                                            57,
                                                            49,
                                                            72,
                                                            49,
                                                            0
                                                        ]
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                ]
                            },
                            {
                                "type": "return",
                                "value": {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "site",
                                        "loc": [11, 50, 15, 50, 0]
                                    },
                                    "args": [
                                        {
                                            "type": "slot",
                                            "kind": "attr",
                                            "base": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 0
                                            },
                                            "name": "op",
                                            "loc": [16, 50, 23, 50, 0]
                                        },
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 2
                                        },
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 4
                                        },
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 3
                                        },
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 5
                                        },
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 6
                                        }
                                    ],
                                    "loc": [11, 50, 66, 50, 0]
                                }
                            }
                        ],
                        "loc": [28, 42, 66, 50, 0]
                    }
                }
            ],
            "loc": [0, 34, 66, 50, 0]
        },
        {
            "type": "datatype",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "Sink",
                "loc": [9, 52, 13, 52, 0]
            },
            "varc": 2,
            "rows": [
                [
                    {
                        "type": "slot",
                        "kind": "global",
                        "name": "sink",
                        "loc": [4, 53, 8, 53, 0]
                    },
                    2,
                    {"index": 0, "site": 1},
                    {
                        "type": "closure",
                        "cellvars": [],
                        "localvars": [
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "op",
                                "defs": 1
                            },
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "a",
                                "defs": 1
                            }
                        ],
                        "frame": [],
                        "args": [
                            {
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 0
                                }
                            },
                            {
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 1
                                }
                            }
                        ],
                        "body": [
                            {
                                "type": "return",
                                "value": {
                                    "type": "make_tuple",
                                    "items": [
                                        {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "Integer",
                                            "loc": [16, 53, 23, 53, 0]
                                        },
                                        {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "Site",
                                                "loc": [31, 53, 35, 53, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 0
                                                },
                                                {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 1
                                                }
                                            ],
                                            "loc": [31, 53, 42, 53, 0]
                                        }
                                    ]
                                }
                            }
                        ],
                        "loc": [0, 52, 27, 54, 0]
                    }
                ],
                [
                    {
                        "type": "slot",
                        "kind": "global",
                        "name": "faucet",
                        "loc": [46, 53, 52, 53, 0]
                    },
                    1,
                    {},
                    {
                        "type": "closure",
                        "cellvars": [],
                        "localvars": [
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "op",
                                "defs": 1
                            },
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "a",
                                "defs": 1
                            }
                        ],
                        "frame": [],
                        "args": [
                            {
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 0
                                }
                            },
                            {
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 1
                                }
                            }
                        ],
                        "body": [
                            {
                                "type": "return",
                                "value": {
                                    "type": "make_tuple",
                                    "items": [
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 1
                                        }
                                    ]
                                }
                            }
                        ],
                        "loc": [0, 52, 27, 54, 0]
                    }
                ]
            ],
            "decls": [
                {
                    "type": "derived",
                    "ops": [
                        {
                            "type": "slot",
                            "kind": "global",
                            "name": "hash",
                            "loc": [7, 54, 11, 54, 0]
                        },
                        {
                            "type": "slot",
                            "kind": "global",
                            "name": "==",
                            "loc": [14, 54, 16, 54, 0]
                        }
                    ],
                    "value": {
                        "type": "slot",
                        "kind": "global",
                        "name": "by_value",
                        "loc": [19, 54, 27, 54, 0]
                    }
                }
            ],
            "loc": [0, 52, 27, 54, 0]
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "unwrap",
                "loc": [0, 56, 6, 56, 0]
            },
            "value": {
                "type": "closure",
                "cellvars": [],
                "localvars": [
                    {"type": "cell", "deref": false, "name": "item", "defs": 1},
                    {"type": "cell", "deref": false, "name": "a", "defs": 1}
                ],
                "frame": [],
                "args": [
                    {"slot": {"type": "slot", "kind": "local", "index": 0}}
                ],
                "body": [
                    {
                        "type": "case",
                        "value": {"type": "slot", "kind": "local", "index": 0},
                        "cases": [
                            {
                                "type": "pattern",
                                "pattern": {
                                    "type": "slot",
                                    "kind": "global",
                                    "name": "faucet",
                                    "loc": [4, 58, 10, 58, 0]
                                },
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 1
                                },
                                "body": [
                                    {
                                        "type": "return",
                                        "value": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 1
                                        }
                                    }
                                ],
                                "loc": [4, 58, 27, 58, 0]
                            }
                        ],
                        "default": [],
                        "loc": [4, 57, 27, 58, 0]
                    }
                ],
                "loc": [9, 56, 27, 58, 0]
            }
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "fresh_state",
                "loc": [0, 61, 11, 61, 0]
            },
            "value": {
                "type": "closure",
                "cellvars": [],
                "localvars": [
                    {"type": "cell", "deref": false, "name": "pol", "defs": 1}
                ],
                "frame": [],
                "args": [
                    {"slot": {"type": "slot", "kind": "local", "index": 0}}
                ],
                "body": [
                    {
                        "type": "return",
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "global",
                                "name": "state",
                                "loc": [11, 62, 16, 62, 0]
                            },
                            "args": [
                                {"type": "slot", "kind": "local", "index": 0},
                                {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "set",
                                        "loc": [22, 62, 25, 62, 0]
                                    },
                                    "args": [{"type": "list", "values": []}],
                                    "loc": [22, 62, 29, 62, 0]
                                },
                                {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "set",
                                        "loc": [31, 62, 34, 62, 0]
                                    },
                                    "args": [{"type": "list", "values": []}],
                                    "loc": [31, 62, 38, 62, 0]
                                },
                                {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "dict",
                                        "loc": [40, 62, 44, 62, 0]
                                    },
                                    "args": [{"type": "list", "values": []}],
                                    "loc": [40, 62, 48, 62, 0]
                                }
                            ],
                            "loc": [11, 62, 49, 62, 0]
                        }
                    }
                ],
                "loc": [14, 61, 49, 62, 0]
            }
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "fresh_operator",
                "loc": [0, 64, 14, 64, 0]
            },
            "value": {
                "type": "closure",
                "cellvars": [],
                "localvars": [
                    {"type": "cell", "deref": false, "name": "state", "defs": 1
                    },
                    {"type": "cell", "deref": false, "name": "op", "defs": 1},
                    {
                        "type": "cell",
                        "deref": false,
                        "name": "indices",
                        "defs": 1
                    },
                    {"type": "cell", "deref": false, "name": "argc", "defs": 1},
                    {
                        "type": "cell",
                        "deref": false,
                        "name": "coerces",
                        "defs": 1
                    },
                    {
                        "type": "cell",
                        "deref": false,
                        "name": "expect",
                        "defs": 1
                    },
                    {
                        "type": "cell",
                        "deref": false,
                        "name": "operators",
                        "defs": 1
                    },
                    {"type": "cell", "deref": false, "name": "slots", "defs": 1
                    },
                    {"type": "cell", "deref": false, "name": "index", "defs": 1}
                ],
                "frame": [],
                "args": [
                    {"slot": {"type": "slot", "kind": "local", "index": 0}},
                    {"slot": {"type": "slot", "kind": "local", "index": 1}},
                    {"slot": {"type": "slot", "kind": "local", "index": 2}},
                    {"slot": {"type": "slot", "kind": "local", "index": 3}}
                ],
                "body": [
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "local", "index": 4},
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "global",
                                "name": "set",
                                "loc": [14, 65, 17, 65, 0]
                            },
                            "args": [],
                            "loc": [14, 65, 19, 65, 0]
                        }
                    },
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "local", "index": 5},
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "global",
                                "name": "get_function_header",
                                "loc": [13, 66, 32, 66, 0]
                            },
                            "args": [
                                {"type": "slot", "kind": "local", "index": 3},
                                {
                                    "type": "literal",
                                    "kind": "integer",
                                    "value": "0"
                                }
                            ],
                            "loc": [13, 66, 41, 66, 0]
                        }
                    },
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "local", "index": 6},
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "global",
                                "name": "dict",
                                "loc": [16, 67, 20, 67, 0]
                            },
                            "args": [],
                            "loc": [16, 67, 22, 67, 0]
                        }
                    },
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "local", "index": 7},
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "global",
                                "name": "dict",
                                "loc": [12, 68, 16, 68, 0]
                            },
                            "args": [],
                            "loc": [12, 68, 18, 68, 0]
                        }
                    },
                    {
                        "type": "repeat",
                        "fresh": [],
                        "heads": [
                            {
                                "type": "for",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 8
                                },
                                "value": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 2
                                }
                            }
                        ],
                        "body": [
                            {
                                "type": "assign",
                                "slot": {
                                    "type": "slot",
                                    "kind": "item",
                                    "base": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 7
                                    },
                                    "index": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 8
                                    },
                                    "loc": [8, 70, 20, 70, 0]
                                },
                                "value": {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "set",
                                        "loc": [23, 70, 26, 70, 0]
                                    },
                                    "args": [],
                                    "loc": [23, 70, 28, 70, 0]
                                }
                            }
                        ]
                    },
                    {
                        "type": "call",
                        "callee": {
                            "type": "slot",
                            "kind": "attr",
                            "base": {
                                "type": "slot",
                                "kind": "attr",
                                "base": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 0
                                },
                                "name": "heads",
                                "loc": [4, 71, 15, 71, 0]
                            },
                            "name": "add",
                            "loc": [4, 71, 19, 71, 0]
                        },
                        "args": [
                            {
                                "type": "call",
                                "callee": {
                                    "type": "slot",
                                    "kind": "global",
                                    "name": "faucet",
                                    "loc": [20, 71, 26, 71, 0]
                                },
                                "args": [
                                    {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 5
                                    }
                                ],
                                "loc": [20, 71, 34, 71, 0]
                            }
                        ],
                        "loc": [4, 71, 35, 71, 0]
                    },
                    {
                        "type": "return",
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "global",
                                "name": "site",
                                "loc": [11, 72, 15, 72, 0]
                            },
                            "args": [
                                {"type": "slot", "kind": "local", "index": 1},
                                {"type": "slot", "kind": "local", "index": 4},
                                {"type": "slot", "kind": "local", "index": 0},
                                {"type": "slot", "kind": "local", "index": 5},
                                {"type": "slot", "kind": "local", "index": 6},
                                {"type": "slot", "kind": "local", "index": 7}
                            ],
                            "loc": [11, 72, 61, 72, 0]
                        }
                    }
                ],
                "loc": [17, 64, 61, 72, 0]
            }
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "fresh_port",
                "loc": [0, 74, 10, 74, 0]
            },
            "value": {
                "type": "closure",
                "cellvars": [],
                "localvars": [
                    {"type": "cell", "deref": false, "name": "input", "defs": 1
                    },
                    {
                        "type": "cell",
                        "deref": false,
                        "name": "output",
                        "defs": 1
                    }
                ],
                "frame": [],
                "args": [],
                "body": [
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "local", "index": 0},
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "global",
                                "name": "fresh_state",
                                "loc": [12, 75, 23, 75, 0]
                            },
                            "args": [
                                {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "-expr",
                                        "loc": [24, 75, 26, 75, 0]
                                    },
                                    "args": [
                                        {
                                            "type": "literal",
                                            "kind": "integer",
                                            "value": "1"
                                        }
                                    ],
                                    "loc": [24, 75, 26, 75, 0]
                                }
                            ],
                            "loc": [12, 75, 27, 75, 0]
                        }
                    },
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "local", "index": 1},
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "global",
                                "name": "fresh_state",
                                "loc": [13, 76, 24, 76, 0]
                            },
                            "args": [
                                {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "+expr",
                                        "loc": [25, 76, 27, 76, 0]
                                    },
                                    "args": [
                                        {
                                            "type": "literal",
                                            "kind": "integer",
                                            "value": "1"
                                        }
                                    ],
                                    "loc": [25, 76, 27, 76, 0]
                                }
                            ],
                            "loc": [13, 76, 28, 76, 0]
                        }
                    },
                    {
                        "type": "call",
                        "callee": {
                            "type": "slot",
                            "kind": "attr",
                            "base": {
                                "type": "slot",
                                "kind": "local",
                                "index": 0
                            },
                            "name": "add_flow",
                            "loc": [4, 77, 18, 77, 0]
                        },
                        "args": [{"type": "slot", "kind": "local", "index": 1}],
                        "loc": [4, 77, 26, 77, 0]
                    },
                    {
                        "type": "return",
                        "value": {
                            "type": "record",
                            "fields": [
                                {
                                    "name": "input",
                                    "mutable": false,
                                    "value": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 0
                                    }
                                },
                                {
                                    "name": "output",
                                    "mutable": false,
                                    "value": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 1
                                    }
                                }
                            ]
                        }
                    }
                ],
                "loc": [13, 74, 41, 78, 0]
            }
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "fresh_free_port",
                "loc": [0, 80, 15, 80, 0]
            },
            "value": {
                "type": "closure",
                "cellvars": [],
                "localvars": [
                    {"type": "cell", "deref": false, "name": "graph", "defs": 1
                    },
                    {"type": "cell", "deref": false, "name": "port", "defs": 1}
                ],
                "frame": [],
                "args": [
                    {"slot": {"type": "slot", "kind": "local", "index": 0}}
                ],
                "body": [
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "local", "index": 1},
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "global",
                                "name": "fresh_port",
                                "loc": [11, 81, 21, 81, 0]
                            },
                            "args": [],
                            "loc": [11, 81, 23, 81, 0]
                        }
                    },
                    {
                        "type": "call",
                        "callee": {
                            "type": "slot",
                            "kind": "attr",
                            "base": {
                                "type": "slot",
                                "kind": "local",
                                "index": 0
                            },
                            "name": "add",
                            "loc": [4, 82, 13, 82, 0]
                        },
                        "args": [
                            {
                                "type": "slot",
                                "kind": "attr",
                                "base": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 1
                                },
                                "name": "input",
                                "loc": [14, 82, 24, 82, 0]
                            }
                        ],
                        "loc": [4, 82, 25, 82, 0]
                    },
                    {
                        "type": "call",
                        "callee": {
                            "type": "slot",
                            "kind": "attr",
                            "base": {
                                "type": "slot",
                                "kind": "local",
                                "index": 0
                            },
                            "name": "add",
                            "loc": [4, 83, 13, 83, 0]
                        },
                        "args": [
                            {
                                "type": "slot",
                                "kind": "attr",
                                "base": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 1
                                },
                                "name": "output",
                                "loc": [14, 83, 25, 83, 0]
                            }
                        ],
                        "loc": [4, 83, 26, 83, 0]
                    },
                    {
                        "type": "return",
                        "value": {"type": "slot", "kind": "local", "index": 1}
                    }
                ],
                "loc": [18, 80, 15, 84, 0]
            }
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "biunify",
                "loc": [0, 86, 7, 86, 0]
            },
            "value": {
                "type": "closure",
                "cellvars": [],
                "localvars": [
                    {"type": "cell", "deref": false, "name": "pair", "defs": 1},
                    {
                        "type": "cell",
                        "deref": false,
                        "name": "visited",
                        "defs": 1
                    },
                    {"type": "cell", "deref": false, "name": "p", "defs": 1},
                    {"type": "cell", "deref": false, "name": "q", "defs": 1},
                    {"type": "cell", "deref": false, "name": "x", "defs": 1},
                    {"type": "cell", "deref": false, "name": "y", "defs": 1},
                    {"type": "cell", "deref": false, "name": "ok", "defs": 1},
                    {"type": "cell", "deref": false, "name": "s", "defs": 1},
                    {"type": "cell", "deref": false, "name": "s", "defs": 1},
                    {"type": "cell", "deref": false, "name": "param", "defs": 1
                    },
                    {"type": "cell", "deref": false, "name": "ws", "defs": 1},
                    {"type": "cell", "deref": false, "name": "wu", "defs": 1},
                    {"type": "cell", "deref": false, "name": "s", "defs": 1},
                    {"type": "cell", "deref": false, "name": "u", "defs": 1},
                    {"type": "cell", "deref": false, "name": "u", "defs": 1},
                    {"type": "cell", "deref": false, "name": "s", "defs": 1}
                ],
                "frame": [],
                "args": [
                    {"slot": {"type": "slot", "kind": "local", "index": 0}},
                    {"slot": {"type": "slot", "kind": "local", "index": 1}}
                ],
                "body": [
                    {
                        "type": "cond",
                        "cond": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "global",
                                "name": "in",
                                "loc": [7, 87, 22, 87, 0]
                            },
                            "args": [
                                {"type": "slot", "kind": "local", "index": 0},
                                {"type": "slot", "kind": "local", "index": 1}
                            ],
                            "loc": [7, 87, 22, 87, 0]
                        },
                        "tbody": [
                            {
                                "type": "return",
                                "value": {
                                    "type": "slot",
                                    "kind": "global",
                                    "name": "null",
                                    "loc": [8, 88, 14, 88, 0]
                                }
                            }
                        ],
                        "fbody": [],
                        "loc": [4, 87, 14, 88, 0]
                    },
                    {
                        "type": "call",
                        "callee": {
                            "type": "slot",
                            "kind": "attr",
                            "base": {
                                "type": "slot",
                                "kind": "local",
                                "index": 1
                            },
                            "name": "add",
                            "loc": [4, 89, 15, 89, 0]
                        },
                        "args": [{"type": "slot", "kind": "local", "index": 0}],
                        "loc": [4, 89, 21, 89, 0]
                    },
                    {
                        "type": "assign",
                        "slot": {
                            "type": "slot",
                            "kind": "tuple",
                            "slots": [
                                {"type": "slot", "kind": "local", "index": 2},
                                {"type": "slot", "kind": "local", "index": 3}
                            ],
                            "loc": [4, 90, 8, 90, 0]
                        },
                        "value": {"type": "slot", "kind": "local", "index": 0}
                    },
                    {
                        "type": "assert",
                        "cond": {
                            "type": "cmp",
                            "exprs": [
                                {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 2
                                    },
                                    "name": "pol",
                                    "loc": [11, 91, 16, 91, 0]
                                },
                                {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 3
                                    },
                                    "name": "pol",
                                    "loc": [19, 91, 24, 91, 0]
                                }
                            ],
                            "ops": [
                                {
                                    "type": "slot",
                                    "kind": "global",
                                    "name": ">",
                                    "loc": [11, 91, 24, 91, 0]
                                }
                            ],
                            "loc": [11, 91, 24, 91, 0]
                        },
                        "value": {
                            "type": "literal",
                            "kind": "string",
                            "value": "polarity conflict"
                        },
                        "loc": [4, 91, 47, 91, 0]
                    },
                    {
                        "type": "repeat",
                        "fresh": [],
                        "heads": [
                            {
                                "type": "for",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 4
                                },
                                "value": {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 2
                                    },
                                    "name": "heads",
                                    "loc": [13, 92, 20, 92, 0]
                                }
                            },
                            {
                                "type": "for",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 5
                                },
                                "value": {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 3
                                    },
                                    "name": "heads",
                                    "loc": [30, 92, 37, 92, 0]
                                }
                            }
                        ],
                        "body": [
                            {
                                "type": "assign",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 6
                                },
                                "value": {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "fit_subtype",
                                        "loc": [13, 93, 24, 93, 0]
                                    },
                                    "args": [
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 2
                                        },
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 3
                                        },
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 4
                                        },
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 5
                                        },
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 1
                                        }
                                    ],
                                    "loc": [13, 93, 45, 93, 0]
                                }
                            },
                            {
                                "type": "assert",
                                "cond": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 6
                                },
                                "value": {
                                    "type": "literal",
                                    "kind": "string",
                                    "value": "type error"
                                },
                                "loc": [8, 94, 24, 95, 0]
                            }
                        ]
                    },
                    {
                        "type": "repeat",
                        "fresh": [],
                        "heads": [
                            {
                                "type": "for",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 7
                                },
                                "value": {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 3
                                    },
                                    "name": "flow",
                                    "loc": [13, 96, 19, 96, 0]
                                }
                            }
                        ],
                        "body": [
                            {
                                "type": "call",
                                "callee": {
                                    "type": "slot",
                                    "kind": "global",
                                    "name": "merge",
                                    "loc": [8, 97, 13, 97, 0]
                                },
                                "args": [
                                    {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 7
                                    },
                                    {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 2
                                    }
                                ],
                                "loc": [8, 97, 19, 97, 0]
                            }
                        ]
                    },
                    {
                        "type": "repeat",
                        "fresh": [],
                        "heads": [
                            {
                                "type": "for",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 8
                                },
                                "value": {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 2
                                    },
                                    "name": "flow",
                                    "loc": [13, 98, 19, 98, 0]
                                }
                            }
                        ],
                        "body": [
                            {
                                "type": "call",
                                "callee": {
                                    "type": "slot",
                                    "kind": "global",
                                    "name": "merge",
                                    "loc": [8, 99, 13, 99, 0]
                                },
                                "args": [
                                    {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 8
                                    },
                                    {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 3
                                    }
                                ],
                                "loc": [8, 99, 19, 99, 0]
                            }
                        ]
                    },
                    {
                        "type": "repeat",
                        "fresh": [],
                        "heads": [
                            {
                                "type": "for",
                                "slot": {
                                    "type": "slot",
                                    "kind": "tuple",
                                    "slots": [
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 9
                                        },
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 10
                                        }
                                    ],
                                    "loc": [8, 100, 17, 100, 0]
                                },
                                "value": {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 2
                                    },
                                    "name": "transitions",
                                    "loc": [21, 100, 34, 100, 0]
                                }
                            }
                        ],
                        "body": [
                            {
                                "type": "assign",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 11
                                },
                                "value": {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "attr",
                                        "base": {
                                            "type": "slot",
                                            "kind": "attr",
                                            "base": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 3
                                            },
                                            "name": "transitions",
                                            "loc": [13, 101, 26, 101, 0]
                                        },
                                        "name": "get",
                                        "loc": [13, 101, 30, 101, 0]
                                    },
                                    "args": [
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 9
                                        },
                                        {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "dict",
                                                "loc": [38, 101, 42, 101, 0]
                                            },
                                            "args": [],
                                            "loc": [38, 101, 44, 101, 0]
                                        }
                                    ],
                                    "loc": [13, 101, 45, 101, 0]
                                }
                            },
                            {
                                "type": "cond",
                                "cond": {
                                    "type": "cmp",
                                    "exprs": [
                                        {
                                            "type": "slot",
                                            "kind": "attr",
                                            "base": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 9
                                            },
                                            "name": "pol",
                                            "loc": [11, 102, 20, 102, 0]
                                        },
                                        {
                                            "type": "literal",
                                            "kind": "integer",
                                            "value": "0"
                                        }
                                    ],
                                    "ops": [
                                        {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": ">",
                                            "loc": [11, 102, 24, 102, 0]
                                        }
                                    ],
                                    "loc": [11, 102, 24, 102, 0]
                                },
                                "tbody": [
                                    {
                                        "type": "repeat",
                                        "fresh": [],
                                        "heads": [
                                            {
                                                "type": "for",
                                                "slot": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 12
                                                },
                                                "value": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 10
                                                }
                                            },
                                            {
                                                "type": "for",
                                                "slot": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 13
                                                },
                                                "value": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 11
                                                }
                                            }
                                        ],
                                        "body": [
                                            {
                                                "type": "call",
                                                "callee": {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "biunify",
                                                    "loc": [16, 104, 23, 104, 0]
                                                },
                                                "args": [
                                                    {
                                                        "type": "make_tuple",
                                                        "items": [
                                                            {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 12
                                                            },
                                                            {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 13
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 1
                                                    }
                                                ],
                                                "loc": [16, 104, 40, 104, 0]
                                            }
                                        ]
                                    }
                                ],
                                "fbody": [
                                    {
                                        "type": "repeat",
                                        "fresh": [],
                                        "heads": [
                                            {
                                                "type": "for",
                                                "slot": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 14
                                                },
                                                "value": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 11
                                                }
                                            },
                                            {
                                                "type": "for",
                                                "slot": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 15
                                                },
                                                "value": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 10
                                                }
                                            }
                                        ],
                                        "body": [
                                            {
                                                "type": "call",
                                                "callee": {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "biunify",
                                                    "loc": [16, 107, 23, 107, 0]
                                                },
                                                "args": [
                                                    {
                                                        "type": "make_tuple",
                                                        "items": [
                                                            {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 14
                                                            },
                                                            {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 15
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 1
                                                    }
                                                ],
                                                "loc": [16, 107, 40, 107, 0]
                                            }
                                        ]
                                    }
                                ],
                                "loc": [8, 102, 40, 107, 0]
                            }
                        ]
                    }
                ],
                "loc": [10, 86, 40, 107, 0]
            }
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "fit_subtype",
                "loc": [0, 109, 11, 109, 0]
            },
            "value": {
                "type": "closure",
                "cellvars": [],
                "localvars": [
                    {"type": "cell", "deref": false, "name": "p", "defs": 1},
                    {"type": "cell", "deref": false, "name": "q", "defs": 1},
                    {"type": "cell", "deref": false, "name": "x", "defs": 1},
                    {"type": "cell", "deref": false, "name": "y", "defs": 1},
                    {
                        "type": "cell",
                        "deref": false,
                        "name": "visited",
                        "defs": 1
                    },
                    {"type": "cell", "deref": false, "name": "index", "defs": 1
                    },
                    {"type": "cell", "deref": false, "name": "site", "defs": 1},
                    {"type": "cell", "deref": false, "name": "_", "defs": 1}
                ],
                "frame": [],
                "args": [
                    {"slot": {"type": "slot", "kind": "local", "index": 0}},
                    {"slot": {"type": "slot", "kind": "local", "index": 1}},
                    {"slot": {"type": "slot", "kind": "local", "index": 2}},
                    {"slot": {"type": "slot", "kind": "local", "index": 3}},
                    {"slot": {"type": "slot", "kind": "local", "index": 4}}
                ],
                "body": [
                    {
                        "type": "case",
                        "value": {"type": "slot", "kind": "local", "index": 3},
                        "cases": [
                            {
                                "type": "pattern",
                                "pattern": {
                                    "type": "slot",
                                    "kind": "global",
                                    "name": "sink",
                                    "loc": [4, 111, 8, 111, 0]
                                },
                                "slot": {
                                    "type": "slot",
                                    "kind": "tuple",
                                    "slots": [
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 5
                                        },
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 6
                                        }
                                    ],
                                    "loc": [4, 111, 19, 113, 0]
                                },
                                "body": [
                                    {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "inference_coerce",
                                            "loc": [8, 112, 24, 112, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 2
                                            },
                                            {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 1
                                            },
                                            {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 5
                                            },
                                            {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 6
                                            },
                                            {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 4
                                            }
                                        ],
                                        "loc": [8, 112, 52, 112, 0]
                                    },
                                    {
                                        "type": "return",
                                        "value": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "true",
                                            "loc": [15, 113, 19, 113, 0]
                                        }
                                    }
                                ],
                                "loc": [4, 111, 19, 113, 0]
                            },
                            {
                                "type": "pattern",
                                "pattern": {
                                    "type": "slot",
                                    "kind": "global",
                                    "name": "faucet",
                                    "loc": [4, 114, 10, 114, 0]
                                },
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 7
                                },
                                "body": [
                                    {
                                        "type": "return",
                                        "value": {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "is_subtype",
                                                "loc": [15, 115, 25, 115, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "call",
                                                    "callee": {
                                                        "type": "slot",
                                                        "kind": "global",
                                                        "name": "unwrap",
                                                        "loc": [
                                                            26,
                                                            115,
                                                            32,
                                                            115,
                                                            0
                                                        ]
                                                    },
                                                    "args": [
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 2
                                                        }
                                                    ],
                                                    "loc": [26, 115, 35, 115, 0]
                                                },
                                                {
                                                    "type": "call",
                                                    "callee": {
                                                        "type": "slot",
                                                        "kind": "global",
                                                        "name": "unwrap",
                                                        "loc": [
                                                            37,
                                                            115,
                                                            43,
                                                            115,
                                                            0
                                                        ]
                                                    },
                                                    "args": [
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 3
                                                        }
                                                    ],
                                                    "loc": [37, 115, 46, 115, 0]
                                                }
                                            ],
                                            "loc": [15, 115, 47, 115, 0]
                                        }
                                    }
                                ],
                                "loc": [4, 114, 47, 115, 0]
                            }
                        ],
                        "default": [],
                        "loc": [4, 110, 47, 115, 0]
                    }
                ],
                "loc": [14, 109, 47, 115, 0]
            }
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "merge",
                "loc": [0, 117, 5, 117, 0]
            },
            "value": {
                "type": "closure",
                "cellvars": [],
                "localvars": [
                    {"type": "cell", "deref": false, "name": "dst", "defs": 1},
                    {"type": "cell", "deref": false, "name": "src", "defs": 1},
                    {"type": "cell", "deref": false, "name": "head", "defs": 1},
                    {"type": "cell", "deref": false, "name": "state", "defs": 1
                    },
                    {"type": "cell", "deref": false, "name": "param", "defs": 1
                    },
                    {"type": "cell", "deref": false, "name": "ws", "defs": 1}
                ],
                "frame": [],
                "args": [
                    {"slot": {"type": "slot", "kind": "local", "index": 0}},
                    {"slot": {"type": "slot", "kind": "local", "index": 1}}
                ],
                "body": [
                    {
                        "type": "assert",
                        "cond": {
                            "type": "cmp",
                            "exprs": [
                                {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 0
                                    },
                                    "name": "pol",
                                    "loc": [11, 118, 18, 118, 0]
                                },
                                {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 1
                                    },
                                    "name": "pol",
                                    "loc": [22, 118, 29, 118, 0]
                                }
                            ],
                            "ops": [
                                {
                                    "type": "slot",
                                    "kind": "global",
                                    "name": "==",
                                    "loc": [11, 118, 29, 118, 0]
                                }
                            ],
                            "loc": [11, 118, 29, 118, 0]
                        },
                        "value": {
                            "type": "literal",
                            "kind": "string",
                            "value": "polarity conflict"
                        },
                        "loc": [4, 118, 52, 118, 0]
                    },
                    {
                        "type": "repeat",
                        "fresh": [],
                        "heads": [
                            {
                                "type": "for",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 2
                                },
                                "value": {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 1
                                    },
                                    "name": "heads",
                                    "loc": [16, 119, 25, 119, 0]
                                }
                            }
                        ],
                        "body": [
                            {
                                "type": "call",
                                "callee": {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "attr",
                                        "base": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 0
                                        },
                                        "name": "heads",
                                        "loc": [8, 120, 17, 120, 0]
                                    },
                                    "name": "add",
                                    "loc": [8, 120, 21, 120, 0]
                                },
                                "args": [
                                    {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 2
                                    }
                                ],
                                "loc": [8, 120, 27, 120, 0]
                            }
                        ]
                    },
                    {
                        "type": "repeat",
                        "fresh": [],
                        "heads": [
                            {
                                "type": "for",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 3
                                },
                                "value": {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 1
                                    },
                                    "name": "flow",
                                    "loc": [17, 121, 25, 121, 0]
                                }
                            }
                        ],
                        "body": [
                            {
                                "type": "call",
                                "callee": {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 0
                                    },
                                    "name": "add_flow",
                                    "loc": [8, 122, 20, 122, 0]
                                },
                                "args": [
                                    {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 3
                                    }
                                ],
                                "loc": [8, 122, 27, 122, 0]
                            }
                        ]
                    },
                    {
                        "type": "repeat",
                        "fresh": [],
                        "heads": [
                            {
                                "type": "for",
                                "slot": {
                                    "type": "slot",
                                    "kind": "tuple",
                                    "slots": [
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 4
                                        },
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 5
                                        }
                                    ],
                                    "loc": [8, 123, 17, 123, 0]
                                },
                                "value": {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 1
                                    },
                                    "name": "transitions",
                                    "loc": [21, 123, 36, 123, 0]
                                }
                            }
                        ],
                        "body": [
                            {
                                "type": "except",
                                "body": [
                                    {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "attr",
                                            "base": {
                                                "type": "slot",
                                                "kind": "item",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "attr",
                                                    "base": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 0
                                                    },
                                                    "name": "transitions",
                                                    "loc": [8, 124, 23, 124, 0]
                                                },
                                                "index": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 4
                                                },
                                                "loc": [8, 124, 30, 124, 0]
                                            },
                                            "name": "update",
                                            "loc": [8, 124, 37, 124, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 5
                                            }
                                        ],
                                        "loc": [8, 124, 41, 124, 0]
                                    }
                                ],
                                "excepts": [
                                    {
                                        "exc": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "NoIndex",
                                            "loc": [15, 125, 22, 125, 0]
                                        },
                                        "body": [
                                            {
                                                "type": "assign",
                                                "slot": {
                                                    "type": "slot",
                                                    "kind": "item",
                                                    "base": {
                                                        "type": "slot",
                                                        "kind": "attr",
                                                        "base": {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 0
                                                        },
                                                        "name": "transitions",
                                                        "loc": [
                                                            12,
                                                            126,
                                                            27,
                                                            126,
                                                            0
                                                        ]
                                                    },
                                                    "index": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 4
                                                    },
                                                    "loc": [12, 126, 34, 126, 0]
                                                },
                                                "value": {
                                                    "type": "call",
                                                    "callee": {
                                                        "type": "slot",
                                                        "kind": "global",
                                                        "name": "set",
                                                        "loc": [
                                                            37,
                                                            126,
                                                            40,
                                                            126,
                                                            0
                                                        ]
                                                    },
                                                    "args": [
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 5
                                                        }
                                                    ],
                                                    "loc": [37, 126, 44, 126, 0]
                                                }
                                            }
                                        ]
                                    }
                                ],
                                "loc": [8, 124, 44, 126, 0]
                            }
                        ]
                    }
                ],
                "loc": [8, 117, 44, 126, 0]
            }
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "inference_coerce",
                "loc": [0, 130, 16, 130, 0]
            },
            "value": {
                "type": "closure",
                "cellvars": [],
                "localvars": [
                    {"type": "cell", "deref": false, "name": "head", "defs": 1},
                    {"type": "cell", "deref": false, "name": "q", "defs": 1},
                    {
                        "type": "cell",
                        "deref": false,
                        "name": "slot_idx",
                        "defs": 1
                    },
                    {"type": "cell", "deref": false, "name": "site", "defs": 1},
                    {
                        "type": "cell",
                        "deref": false,
                        "name": "visited",
                        "defs": 1
                    },
                    {"type": "cell", "deref": false, "name": "k", "defs": 3},
                    {"type": "cell", "deref": false, "name": "i", "defs": 1},
                    {"type": "cell", "deref": false, "name": "n", "defs": 1},
                    {"type": "cell", "deref": false, "name": "t", "defs": 1},
                    {"type": "cell", "deref": false, "name": "h", "defs": 1},
                    {"type": "cell", "deref": false, "name": "doms", "defs": 1},
                    {"type": "cell", "deref": false, "name": "i", "defs": 1},
                    {
                        "type": "cell",
                        "deref": false,
                        "name": "coercions",
                        "defs": 1
                    },
                    {"type": "cell", "deref": false, "name": "heads", "defs": 1
                    },
                    {"type": "cell", "deref": false, "name": "c", "defs": 1},
                    {"type": "cell", "deref": false, "name": "i", "defs": 1},
                    {"type": "cell", "deref": false, "name": "u", "defs": 1},
                    {"type": "cell", "deref": false, "name": "ports", "defs": 2
                    },
                    {"type": "cell", "deref": false, "name": "fn", "defs": 1},
                    {"type": "cell", "deref": false, "name": "out", "defs": 1},
                    {"type": "cell", "deref": false, "name": "e", "defs": 1},
                    {"type": "cell", "deref": false, "name": "ws", "defs": 1},
                    {"type": "cell", "deref": false, "name": "xx", "defs": 1},
                    {"type": "cell", "deref": false, "name": "yy", "defs": 1},
                    {"type": "cell", "deref": false, "name": "rr", "defs": 1},
                    {"type": "cell", "deref": false, "name": "w", "defs": 1},
                    {"type": "cell", "deref": false, "name": "h", "defs": 1},
                    {"type": "cell", "deref": false, "name": "i", "defs": 1},
                    {"type": "cell", "deref": false, "name": "cf", "defs": 1},
                    {"type": "cell", "deref": false, "name": "z", "defs": 1},
                    {"type": "cell", "deref": false, "name": "w", "defs": 1},
                    {"type": "cell", "deref": false, "name": "port", "defs": 1},
                    {"type": "cell", "deref": false, "name": "w", "defs": 1}
                ],
                "frame": [],
                "args": [
                    {"slot": {"type": "slot", "kind": "local", "index": 0}},
                    {"slot": {"type": "slot", "kind": "local", "index": 1}},
                    {"slot": {"type": "slot", "kind": "local", "index": 2}},
                    {"slot": {"type": "slot", "kind": "local", "index": 3}},
                    {"slot": {"type": "slot", "kind": "local", "index": 4}}
                ],
                "body": [
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "local", "index": 5},
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "global",
                                "name": "set",
                                "loc": [8, 131, 11, 131, 0]
                            },
                            "args": [
                                {
                                    "type": "list",
                                    "values": [
                                        {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "set",
                                                "loc": [13, 131, 16, 131, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "list",
                                                    "values": [
                                                        {
                                                            "type": "call",
                                                            "callee": {
                                                                "type": "slot",
                                                                "kind": "global",
                                                                "name": "unwrap",
                                                                "loc": [
                                                                    18,
                                                                    131,
                                                                    24,
                                                                    131,
                                                                    0
                                                                ]
                                                            },
                                                            "args": [
                                                                {
                                                                    "type": "slot",
                                                                    "kind": "local",
                                                                    "index": 0
                                                                }
                                                            ],
                                                            "loc": [
                                                                18,
                                                                131,
                                                                30,
                                                                131,
                                                                0
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ],
                                            "loc": [13, 131, 32, 131, 0]
                                        }
                                    ]
                                }
                            ],
                            "loc": [8, 131, 34, 131, 0]
                        }
                    },
                    {
                        "type": "repeat",
                        "fresh": [],
                        "heads": [
                            {
                                "type": "for",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 6
                                },
                                "value": {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "attr",
                                        "base": {
                                            "type": "slot",
                                            "kind": "attr",
                                            "base": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 3
                                            },
                                            "name": "slots",
                                            "loc": [13, 133, 23, 133, 0]
                                        },
                                        "name": "keys",
                                        "loc": [13, 133, 28, 133, 0]
                                    },
                                    "args": [],
                                    "loc": [13, 133, 30, 133, 0]
                                }
                            }
                        ],
                        "body": [
                            {
                                "type": "cond",
                                "cond": {
                                    "type": "cmp",
                                    "exprs": [
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 6
                                        },
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 2
                                        }
                                    ],
                                    "ops": [
                                        {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "==",
                                            "loc": [11, 134, 24, 134, 0]
                                        }
                                    ],
                                    "loc": [11, 134, 24, 134, 0]
                                },
                                "tbody": [{"type": "continue"}],
                                "fbody": [],
                                "loc": [8, 134, 38, 134, 0]
                            },
                            {
                                "type": "assign",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 7
                                },
                                "value": {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "set",
                                        "loc": [12, 135, 15, 135, 0]
                                    },
                                    "args": [],
                                    "loc": [12, 135, 17, 135, 0]
                                }
                            },
                            {
                                "type": "repeat",
                                "fresh": [],
                                "heads": [
                                    {
                                        "type": "for",
                                        "slot": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 8
                                        },
                                        "value": {
                                            "type": "slot",
                                            "kind": "item",
                                            "base": {
                                                "type": "slot",
                                                "kind": "attr",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 3
                                                },
                                                "name": "slots",
                                                "loc": [17, 136, 27, 136, 0]
                                            },
                                            "index": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 6
                                            },
                                            "loc": [17, 136, 30, 136, 0]
                                        }
                                    },
                                    {
                                        "type": "for",
                                        "slot": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 9
                                        },
                                        "value": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 5
                                        }
                                    }
                                ],
                                "body": [
                                    {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "attr",
                                            "base": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 7
                                            },
                                            "name": "add",
                                            "loc": [12, 137, 17, 137, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "call",
                                                "callee": {
                                                    "type": "slot",
                                                    "kind": "attr",
                                                    "base": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 9
                                                    },
                                                    "name": "union",
                                                    "loc": [18, 137, 25, 137, 0]
                                                },
                                                "args": [
                                                    {
                                                        "type": "list",
                                                        "values": [
                                                            {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 8
                                                            }
                                                        ]
                                                    }
                                                ],
                                                "loc": [18, 137, 30, 137, 0]
                                            }
                                        ],
                                        "loc": [12, 137, 31, 137, 0]
                                    }
                                ]
                            },
                            {
                                "type": "assign",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 5
                                },
                                "value": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 7
                                }
                            }
                        ]
                    },
                    {
                        "type": "call",
                        "callee": {
                            "type": "slot",
                            "kind": "attr",
                            "base": {
                                "type": "slot",
                                "kind": "item",
                                "base": {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 3
                                    },
                                    "name": "slots",
                                    "loc": [4, 139, 14, 139, 0]
                                },
                                "index": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 2
                                },
                                "loc": [4, 139, 24, 139, 0]
                            },
                            "name": "add",
                            "loc": [4, 139, 28, 139, 0]
                        },
                        "args": [
                            {
                                "type": "call",
                                "callee": {
                                    "type": "slot",
                                    "kind": "global",
                                    "name": "unwrap",
                                    "loc": [29, 139, 35, 139, 0]
                                },
                                "args": [
                                    {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 0
                                    }
                                ],
                                "loc": [29, 139, 41, 139, 0]
                            }
                        ],
                        "loc": [4, 139, 42, 139, 0]
                    },
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "local", "index": 10},
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "global",
                                "name": "set",
                                "loc": [11, 141, 14, 141, 0]
                            },
                            "args": [],
                            "loc": [11, 141, 16, 141, 0]
                        }
                    },
                    {
                        "type": "repeat",
                        "fresh": [],
                        "heads": [
                            {
                                "type": "for",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 11
                                },
                                "value": {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "attr",
                                        "base": {
                                            "type": "slot",
                                            "kind": "attr",
                                            "base": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 3
                                            },
                                            "name": "slots",
                                            "loc": [13, 142, 23, 142, 0]
                                        },
                                        "name": "keys",
                                        "loc": [13, 142, 28, 142, 0]
                                    },
                                    "args": [],
                                    "loc": [13, 142, 30, 142, 0]
                                }
                            }
                        ],
                        "body": [
                            {
                                "type": "call",
                                "callee": {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 10
                                    },
                                    "name": "add",
                                    "loc": [8, 143, 16, 143, 0]
                                },
                                "args": [
                                    {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "get_dom",
                                            "loc": [17, 143, 24, 143, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 11
                                            }
                                        ],
                                        "loc": [17, 143, 27, 143, 0]
                                    }
                                ],
                                "loc": [8, 143, 28, 143, 0]
                            }
                        ]
                    },
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "local", "index": 12},
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "global",
                                "name": "set",
                                "loc": [16, 145, 19, 145, 0]
                            },
                            "args": [],
                            "loc": [16, 145, 21, 145, 0]
                        }
                    },
                    {
                        "type": "repeat",
                        "fresh": [],
                        "heads": [
                            {
                                "type": "for",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 13
                                },
                                "value": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 5
                                }
                            }
                        ],
                        "body": [
                            {
                                "type": "assign",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 14
                                },
                                "value": {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "unique_coercion",
                                        "loc": [12, 153, 27, 153, 0]
                                    },
                                    "args": [
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 13
                                        }
                                    ],
                                    "loc": [12, 153, 34, 153, 0]
                                }
                            },
                            {
                                "type": "repeat",
                                "fresh": [],
                                "heads": [
                                    {
                                        "type": "for",
                                        "slot": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 15
                                        },
                                        "value": {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "attr",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "attr",
                                                    "base": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 3
                                                    },
                                                    "name": "slots",
                                                    "loc": [17, 154, 27, 154, 0]
                                                },
                                                "name": "keys",
                                                "loc": [17, 154, 32, 154, 0]
                                            },
                                            "args": [],
                                            "loc": [17, 154, 34, 154, 0]
                                        }
                                    }
                                ],
                                "body": [
                                    {
                                        "type": "cond",
                                        "cond": {
                                            "type": "cmp",
                                            "exprs": [
                                                {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 15
                                                },
                                                {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 2
                                                }
                                            ],
                                            "ops": [
                                                {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "==",
                                                    "loc": [15, 155, 28, 155, 0]
                                                }
                                            ],
                                            "loc": [15, 155, 28, 155, 0]
                                        },
                                        "tbody": [
                                            {
                                                "type": "call",
                                                "callee": {
                                                    "type": "slot",
                                                    "kind": "attr",
                                                    "base": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 12
                                                    },
                                                    "name": "add",
                                                    "loc": [16, 156, 29, 156, 0]
                                                },
                                                "args": [
                                                    {
                                                        "type": "make_tuple",
                                                        "items": [
                                                            {
                                                                "type": "call",
                                                                "callee": {
                                                                    "type": "slot",
                                                                    "kind": "global",
                                                                    "name": "unwrap",
                                                                    "loc": [
                                                                        31,
                                                                        156,
                                                                        37,
                                                                        156,
                                                                        0
                                                                    ]
                                                                },
                                                                "args": [
                                                                    {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 0
                                                                    }
                                                                ],
                                                                "loc": [
                                                                    31,
                                                                    156,
                                                                    43,
                                                                    156,
                                                                    0
                                                                ]
                                                            },
                                                            {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 15
                                                            }
                                                        ]
                                                    }
                                                ],
                                                "loc": [16, 156, 48, 156, 0]
                                            }
                                        ],
                                        "fbody": [
                                            {
                                                "type": "repeat",
                                                "fresh": [],
                                                "heads": [
                                                    {
                                                        "type": "for",
                                                        "slot": {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 16
                                                        },
                                                        "value": {
                                                            "type": "slot",
                                                            "kind": "item",
                                                            "base": {
                                                                "type": "slot",
                                                                "kind": "attr",
                                                                "base": {
                                                                    "type": "slot",
                                                                    "kind": "local",
                                                                    "index": 3
                                                                },
                                                                "name": "slots",
                                                                "loc": [
                                                                    25,
                                                                    158,
                                                                    35,
                                                                    158,
                                                                    0
                                                                ]
                                                            },
                                                            "index": {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 15
                                                            },
                                                            "loc": [
                                                                25,
                                                                158,
                                                                38,
                                                                158,
                                                                0
                                                            ]
                                                        }
                                                    },
                                                    {
                                                        "type": "if",
                                                        "cond": {
                                                            "type": "call",
                                                            "callee": {
                                                                "type": "slot",
                                                                "kind": "global",
                                                                "name": "in",
                                                                "loc": [
                                                                    42,
                                                                    158,
                                                                    52,
                                                                    158,
                                                                    0
                                                                ]
                                                            },
                                                            "args": [
                                                                {
                                                                    "type": "slot",
                                                                    "kind": "local",
                                                                    "index": 16
                                                                },
                                                                {
                                                                    "type": "slot",
                                                                    "kind": "local",
                                                                    "index": 13
                                                                }
                                                            ],
                                                            "loc": [
                                                                42,
                                                                158,
                                                                52,
                                                                158,
                                                                0
                                                            ]
                                                        }
                                                    }
                                                ],
                                                "body": [
                                                    {
                                                        "type": "call",
                                                        "callee": {
                                                            "type": "slot",
                                                            "kind": "attr",
                                                            "base": {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 12
                                                            },
                                                            "name": "add",
                                                            "loc": [
                                                                20,
                                                                159,
                                                                33,
                                                                159,
                                                                0
                                                            ]
                                                        },
                                                        "args": [
                                                            {
                                                                "type": "make_tuple",
                                                                "items": [
                                                                    {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 16
                                                                    },
                                                                    {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 15
                                                                    }
                                                                ]
                                                            }
                                                        ],
                                                        "loc": [
                                                            20,
                                                            159,
                                                            40,
                                                            159,
                                                            0
                                                        ]
                                                    }
                                                ]
                                            }
                                        ],
                                        "loc": [12, 155, 40, 159, 0]
                                    }
                                ]
                            },
                            {
                                "type": "cond",
                                "cond": {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "in",
                                        "loc": [11, 160, 30, 160, 0]
                                    },
                                    "args": [
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 14
                                        },
                                        {
                                            "type": "slot",
                                            "kind": "attr",
                                            "base": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 3
                                            },
                                            "name": "operators",
                                            "loc": [16, 160, 30, 160, 0]
                                        }
                                    ],
                                    "loc": [11, 160, 30, 160, 0]
                                },
                                "tbody": [
                                    {
                                        "type": "assign",
                                        "slot": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 17
                                        },
                                        "value": {
                                            "type": "slot",
                                            "kind": "item",
                                            "base": {
                                                "type": "slot",
                                                "kind": "attr",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 3
                                                },
                                                "name": "operators",
                                                "loc": [20, 161, 34, 161, 0]
                                            },
                                            "index": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 14
                                            },
                                            "loc": [20, 161, 37, 161, 0]
                                        }
                                    }
                                ],
                                "fbody": [
                                    {
                                        "type": "assign",
                                        "slot": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 18
                                        },
                                        "value": {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "binary_operator",
                                                "loc": [17, 164, 32, 164, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "slot",
                                                    "kind": "attr",
                                                    "base": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 3
                                                    },
                                                    "name": "op",
                                                    "loc": [33, 164, 40, 164, 0]
                                                },
                                                {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 14
                                                },
                                                {
                                                    "type": "slot",
                                                    "kind": "attr",
                                                    "base": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 3
                                                    },
                                                    "name": "expect",
                                                    "loc": [45, 164, 56, 164, 0]
                                                }
                                            ],
                                            "loc": [17, 164, 57, 164, 0]
                                        }
                                    },
                                    {
                                        "type": "assign",
                                        "slot": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 17
                                        },
                                        "value": {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "dict",
                                                "loc": [20, 165, 24, 165, 0]
                                            },
                                            "args": [],
                                            "loc": [20, 165, 26, 165, 0]
                                        }
                                    },
                                    {
                                        "type": "assign",
                                        "slot": {
                                            "type": "slot",
                                            "kind": "item",
                                            "base": {
                                                "type": "slot",
                                                "kind": "attr",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 3
                                                },
                                                "name": "operators",
                                                "loc": [12, 166, 26, 166, 0]
                                            },
                                            "index": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 14
                                            },
                                            "loc": [12, 166, 29, 166, 0]
                                        },
                                        "value": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 17
                                        }
                                    },
                                    {
                                        "type": "assign",
                                        "slot": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 19
                                        },
                                        "value": {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "fresh_state",
                                                "loc": [18, 167, 29, 167, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "call",
                                                    "callee": {
                                                        "type": "slot",
                                                        "kind": "global",
                                                        "name": "+expr",
                                                        "loc": [
                                                            30,
                                                            167,
                                                            32,
                                                            167,
                                                            0
                                                        ]
                                                    },
                                                    "args": [
                                                        {
                                                            "type": "literal",
                                                            "kind": "integer",
                                                            "value": "1"
                                                        }
                                                    ],
                                                    "loc": [30, 167, 32, 167, 0]
                                                }
                                            ],
                                            "loc": [18, 167, 33, 167, 0]
                                        }
                                    },
                                    {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "attr",
                                            "base": {
                                                "type": "slot",
                                                "kind": "attr",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 19
                                                },
                                                "name": "heads",
                                                "loc": [12, 168, 21, 168, 0]
                                            },
                                            "name": "update",
                                            "loc": [12, 168, 28, 168, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "slot",
                                                "kind": "attr",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 18
                                                },
                                                "name": "heads",
                                                "loc": [29, 168, 37, 168, 0]
                                            }
                                        ],
                                        "loc": [12, 168, 38, 168, 0]
                                    },
                                    {
                                        "type": "repeat",
                                        "fresh": [],
                                        "heads": [
                                            {
                                                "type": "for",
                                                "slot": {
                                                    "type": "slot",
                                                    "kind": "tuple",
                                                    "slots": [
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 20
                                                        },
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 21
                                                        }
                                                    ],
                                                    "loc": [16, 169, 20, 169, 0]
                                                },
                                                "value": {
                                                    "type": "call",
                                                    "callee": {
                                                        "type": "slot",
                                                        "kind": "attr",
                                                        "base": {
                                                            "type": "slot",
                                                            "kind": "attr",
                                                            "base": {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 18
                                                            },
                                                            "name": "transitions",
                                                            "loc": [
                                                                24,
                                                                169,
                                                                38,
                                                                169,
                                                                0
                                                            ]
                                                        },
                                                        "name": "items",
                                                        "loc": [
                                                            24,
                                                            169,
                                                            44,
                                                            169,
                                                            0
                                                        ]
                                                    },
                                                    "args": [],
                                                    "loc": [24, 169, 46, 169, 0]
                                                }
                                            }
                                        ],
                                        "body": [
                                            {
                                                "type": "cond",
                                                "cond": {
                                                    "type": "call",
                                                    "callee": {
                                                        "type": "slot",
                                                        "kind": "global",
                                                        "name": "in",
                                                        "loc": [
                                                            19,
                                                            170,
                                                            28,
                                                            170,
                                                            0
                                                        ]
                                                    },
                                                    "args": [
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 20
                                                        },
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 10
                                                        }
                                                    ],
                                                    "loc": [19, 170, 28, 170, 0]
                                                },
                                                "tbody": [
                                                    {
                                                        "type": "assign",
                                                        "slot": {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 22
                                                        },
                                                        "value": {
                                                            "type": "call",
                                                            "callee": {
                                                                "type": "slot",
                                                                "kind": "global",
                                                                "name": "fresh_state",
                                                                "loc": [
                                                                    25,
                                                                    171,
                                                                    36,
                                                                    171,
                                                                    0
                                                                ]
                                                            },
                                                            "args": [
                                                                {
                                                                    "type": "call",
                                                                    "callee": {
                                                                        "type": "slot",
                                                                        "kind": "global",
                                                                        "name": "-expr",
                                                                        "loc": [
                                                                            37,
                                                                            171,
                                                                            39,
                                                                            171,
                                                                            0
                                                                        ]
                                                                    },
                                                                    "args": [
                                                                        {
                                                                            "type": "literal",
                                                                            "kind": "integer",
                                                                            "value": "1"
                                                                        }
                                                                    ],
                                                                    "loc": [
                                                                        37,
                                                                        171,
                                                                        39,
                                                                        171,
                                                                        0
                                                                    ]
                                                                }
                                                            ],
                                                            "loc": [
                                                                25,
                                                                171,
                                                                40,
                                                                171,
                                                                0
                                                            ]
                                                        }
                                                    },
                                                    {
                                                        "type": "call",
                                                        "callee": {
                                                            "type": "slot",
                                                            "kind": "attr",
                                                            "base": {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 19
                                                            },
                                                            "name": "add_transition",
                                                            "loc": [
                                                                20,
                                                                172,
                                                                38,
                                                                172,
                                                                0
                                                            ]
                                                        },
                                                        "args": [
                                                            {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 20
                                                            },
                                                            {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 22
                                                            }
                                                        ],
                                                        "loc": [
                                                            20,
                                                            172,
                                                            45,
                                                            172,
                                                            0
                                                        ]
                                                    },
                                                    {
                                                        "type": "assign",
                                                        "slot": {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 23
                                                        },
                                                        "value": {
                                                            "type": "call",
                                                            "callee": {
                                                                "type": "slot",
                                                                "kind": "global",
                                                                "name": "fresh_state",
                                                                "loc": [
                                                                    25,
                                                                    173,
                                                                    36,
                                                                    173,
                                                                    0
                                                                ]
                                                            },
                                                            "args": [
                                                                {
                                                                    "type": "call",
                                                                    "callee": {
                                                                        "type": "slot",
                                                                        "kind": "global",
                                                                        "name": "+expr",
                                                                        "loc": [
                                                                            37,
                                                                            173,
                                                                            39,
                                                                            173,
                                                                            0
                                                                        ]
                                                                    },
                                                                    "args": [
                                                                        {
                                                                            "type": "literal",
                                                                            "kind": "integer",
                                                                            "value": "1"
                                                                        }
                                                                    ],
                                                                    "loc": [
                                                                        37,
                                                                        173,
                                                                        39,
                                                                        173,
                                                                        0
                                                                    ]
                                                                }
                                                            ],
                                                            "loc": [
                                                                25,
                                                                173,
                                                                40,
                                                                173,
                                                                0
                                                            ]
                                                        }
                                                    },
                                                    {
                                                        "type": "call",
                                                        "callee": {
                                                            "type": "slot",
                                                            "kind": "attr",
                                                            "base": {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 22
                                                            },
                                                            "name": "add_flow",
                                                            "loc": [
                                                                20,
                                                                174,
                                                                31,
                                                                174,
                                                                0
                                                            ]
                                                        },
                                                        "args": [
                                                            {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 23
                                                            }
                                                        ],
                                                        "loc": [
                                                            20,
                                                            174,
                                                            35,
                                                            174,
                                                            0
                                                        ]
                                                    },
                                                    {
                                                        "type": "assign",
                                                        "slot": {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 24
                                                        },
                                                        "value": {
                                                            "type": "call",
                                                            "callee": {
                                                                "type": "slot",
                                                                "kind": "global",
                                                                "name": "fresh_state",
                                                                "loc": [
                                                                    25,
                                                                    175,
                                                                    36,
                                                                    175,
                                                                    0
                                                                ]
                                                            },
                                                            "args": [
                                                                {
                                                                    "type": "call",
                                                                    "callee": {
                                                                        "type": "slot",
                                                                        "kind": "global",
                                                                        "name": "-expr",
                                                                        "loc": [
                                                                            37,
                                                                            175,
                                                                            39,
                                                                            175,
                                                                            0
                                                                        ]
                                                                    },
                                                                    "args": [
                                                                        {
                                                                            "type": "literal",
                                                                            "kind": "integer",
                                                                            "value": "1"
                                                                        }
                                                                    ],
                                                                    "loc": [
                                                                        37,
                                                                        175,
                                                                        39,
                                                                        175,
                                                                        0
                                                                    ]
                                                                }
                                                            ],
                                                            "loc": [
                                                                25,
                                                                175,
                                                                40,
                                                                175,
                                                                0
                                                            ]
                                                        }
                                                    },
                                                    {
                                                        "type": "repeat",
                                                        "fresh": [],
                                                        "heads": [
                                                            {
                                                                "type": "for",
                                                                "slot": {
                                                                    "type": "slot",
                                                                    "kind": "local",
                                                                    "index": 25
                                                                },
                                                                "value": {
                                                                    "type": "slot",
                                                                    "kind": "local",
                                                                    "index": 21
                                                                }
                                                            }
                                                        ],
                                                        "body": [
                                                            {
                                                                "type": "call",
                                                                "callee": {
                                                                    "type": "slot",
                                                                    "kind": "global",
                                                                    "name": "merge",
                                                                    "loc": [
                                                                        39,
                                                                        176,
                                                                        44,
                                                                        176,
                                                                        0
                                                                    ]
                                                                },
                                                                "args": [
                                                                    {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 24
                                                                    },
                                                                    {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 25
                                                                    }
                                                                ],
                                                                "loc": [
                                                                    39,
                                                                    176,
                                                                    51,
                                                                    176,
                                                                    0
                                                                ]
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        "type": "assign",
                                                        "slot": {
                                                            "type": "slot",
                                                            "kind": "item",
                                                            "base": {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 17
                                                            },
                                                            "index": {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 20
                                                            },
                                                            "loc": [
                                                                20,
                                                                177,
                                                                28,
                                                                177,
                                                                0
                                                            ]
                                                        },
                                                        "value": {
                                                            "type": "record",
                                                            "fields": [
                                                                {
                                                                    "name": "input",
                                                                    "mutable": false,
                                                                    "value": {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 24
                                                                    }
                                                                },
                                                                {
                                                                    "name": "output",
                                                                    "mutable": false,
                                                                    "value": {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 23
                                                                    }
                                                                }
                                                            ]
                                                        }
                                                    }
                                                ],
                                                "fbody": [
                                                    {
                                                        "type": "assign",
                                                        "slot": {
                                                            "type": "slot",
                                                            "kind": "item",
                                                            "base": {
                                                                "type": "slot",
                                                                "kind": "attr",
                                                                "base": {
                                                                    "type": "slot",
                                                                    "kind": "local",
                                                                    "index": 19
                                                                },
                                                                "name": "transitions",
                                                                "loc": [
                                                                    20,
                                                                    179,
                                                                    35,
                                                                    179,
                                                                    0
                                                                ]
                                                            },
                                                            "index": {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 20
                                                            },
                                                            "loc": [
                                                                20,
                                                                179,
                                                                38,
                                                                179,
                                                                0
                                                            ]
                                                        },
                                                        "value": {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 21
                                                        }
                                                    }
                                                ],
                                                "loc": [16, 170, 43, 179, 0]
                                            }
                                        ]
                                    },
                                    {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "biunify",
                                            "loc": [12, 180, 19, 180, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "make_tuple",
                                                "items": [
                                                    {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 19
                                                    },
                                                    {
                                                        "type": "slot",
                                                        "kind": "attr",
                                                        "base": {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 3
                                                        },
                                                        "name": "state",
                                                        "loc": [
                                                            26,
                                                            180,
                                                            36,
                                                            180,
                                                            0
                                                        ]
                                                    }
                                                ]
                                            },
                                            {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 4
                                            }
                                        ],
                                        "loc": [12, 180, 47, 180, 0]
                                    }
                                ],
                                "loc": [8, 160, 47, 180, 0]
                            },
                            {
                                "type": "repeat",
                                "fresh": [],
                                "heads": [
                                    {
                                        "type": "for",
                                        "slot": {
                                            "type": "slot",
                                            "kind": "tuple",
                                            "slots": [
                                                {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 26
                                                },
                                                {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 27
                                                }
                                            ],
                                            "loc": [12, 182, 15, 182, 0]
                                        },
                                        "value": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 12
                                        }
                                    },
                                    {
                                        "type": "if",
                                        "cond": {
                                            "type": "not",
                                            "value": {
                                                "type": "call",
                                                "callee": {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "in",
                                                    "loc": [32, 182, 59, 182, 0]
                                                },
                                                "args": [
                                                    {
                                                        "type": "make_tuple",
                                                        "items": [
                                                            {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 26
                                                            },
                                                            {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 27
                                                            },
                                                            {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 14
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        "type": "slot",
                                                        "kind": "attr",
                                                        "base": {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 3
                                                        },
                                                        "name": "coerces",
                                                        "loc": [
                                                            47,
                                                            182,
                                                            59,
                                                            182,
                                                            0
                                                        ]
                                                    }
                                                ],
                                                "loc": [32, 182, 59, 182, 0]
                                            },
                                            "loc": [32, 182, 59, 182, 0]
                                        }
                                    }
                                ],
                                "body": [
                                    {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "attr",
                                            "base": {
                                                "type": "slot",
                                                "kind": "attr",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 3
                                                },
                                                "name": "coerces",
                                                "loc": [12, 183, 24, 183, 0]
                                            },
                                            "name": "add",
                                            "loc": [12, 183, 28, 183, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "make_tuple",
                                                "items": [
                                                    {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 26
                                                    },
                                                    {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 27
                                                    },
                                                    {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 14
                                                    }
                                                ]
                                            }
                                        ],
                                        "loc": [12, 183, 37, 183, 0]
                                    },
                                    {
                                        "type": "assign",
                                        "slot": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 5
                                        },
                                        "value": {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "get_coercion_function_type",
                                                "loc": [16, 185, 42, 185, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 26
                                                },
                                                {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 14
                                                }
                                            ],
                                            "loc": [16, 185, 48, 185, 0]
                                        }
                                    },
                                    {
                                        "type": "assign",
                                        "slot": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 28
                                        },
                                        "value": {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "get_function_header",
                                                "loc": [17, 186, 36, 186, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "literal",
                                                    "kind": "integer",
                                                    "value": "1"
                                                },
                                                {
                                                    "type": "literal",
                                                    "kind": "integer",
                                                    "value": "0"
                                                }
                                            ],
                                            "loc": [17, 186, 42, 186, 0]
                                        }
                                    },
                                    {
                                        "type": "assert",
                                        "cond": {
                                            "type": "cmp",
                                            "exprs": [
                                                {
                                                    "type": "slot",
                                                    "kind": "attr",
                                                    "base": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 5
                                                    },
                                                    "name": "heads",
                                                    "loc": [19, 187, 26, 187, 0]
                                                },
                                                {
                                                    "type": "call",
                                                    "callee": {
                                                        "type": "slot",
                                                        "kind": "global",
                                                        "name": "set",
                                                        "loc": [
                                                            30,
                                                            187,
                                                            33,
                                                            187,
                                                            0
                                                        ]
                                                    },
                                                    "args": [
                                                        {
                                                            "type": "list",
                                                            "values": [
                                                                {
                                                                    "type": "call",
                                                                    "callee": {
                                                                        "type": "slot",
                                                                        "kind": "global",
                                                                        "name": "faucet",
                                                                        "loc": [
                                                                            35,
                                                                            187,
                                                                            41,
                                                                            187,
                                                                            0
                                                                        ]
                                                                    },
                                                                    "args": [
                                                                        {
                                                                            "type": "slot",
                                                                            "kind": "local",
                                                                            "index": 28
                                                                        }
                                                                    ],
                                                                    "loc": [
                                                                        35,
                                                                        187,
                                                                        45,
                                                                        187,
                                                                        0
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ],
                                                    "loc": [30, 187, 47, 187, 0]
                                                }
                                            ],
                                            "ops": [
                                                {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "==",
                                                    "loc": [19, 187, 47, 187, 0]
                                                }
                                            ],
                                            "loc": [19, 187, 47, 187, 0]
                                        },
                                        "value": {
                                            "type": "literal",
                                            "kind": "string",
                                            "value": "type error"
                                        },
                                        "loc": [12, 187, 63, 187, 0]
                                    },
                                    {
                                        "type": "assign",
                                        "slot": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 29
                                        },
                                        "value": {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "fresh_state",
                                                "loc": [16, 188, 27, 188, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "call",
                                                    "callee": {
                                                        "type": "slot",
                                                        "kind": "global",
                                                        "name": "-expr",
                                                        "loc": [
                                                            28,
                                                            188,
                                                            30,
                                                            188,
                                                            0
                                                        ]
                                                    },
                                                    "args": [
                                                        {
                                                            "type": "literal",
                                                            "kind": "integer",
                                                            "value": "1"
                                                        }
                                                    ],
                                                    "loc": [28, 188, 30, 188, 0]
                                                }
                                            ],
                                            "loc": [16, 188, 31, 188, 0]
                                        }
                                    },
                                    {
                                        "type": "repeat",
                                        "fresh": [],
                                        "heads": [
                                            {
                                                "type": "for",
                                                "slot": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 30
                                                },
                                                "value": {
                                                    "type": "slot",
                                                    "kind": "item",
                                                    "base": {
                                                        "type": "slot",
                                                        "kind": "attr",
                                                        "base": {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 5
                                                        },
                                                        "name": "transitions",
                                                        "loc": [
                                                            21,
                                                            189,
                                                            34,
                                                            189,
                                                            0
                                                        ]
                                                    },
                                                    "index": {
                                                        "type": "call",
                                                        "callee": {
                                                            "type": "slot",
                                                            "kind": "global",
                                                            "name": "get_dom",
                                                            "loc": [
                                                                35,
                                                                189,
                                                                42,
                                                                189,
                                                                0
                                                            ]
                                                        },
                                                        "args": [
                                                            {
                                                                "type": "literal",
                                                                "kind": "integer",
                                                                "value": "0"
                                                            }
                                                        ],
                                                        "loc": [
                                                            35,
                                                            189,
                                                            45,
                                                            189,
                                                            0
                                                        ]
                                                    },
                                                    "loc": [21, 189, 46, 189, 0]
                                                }
                                            }
                                        ],
                                        "body": [
                                            {
                                                "type": "call",
                                                "callee": {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "merge",
                                                    "loc": [16, 190, 21, 190, 0]
                                                },
                                                "args": [
                                                    {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 29
                                                    },
                                                    {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 30
                                                    }
                                                ],
                                                "loc": [16, 190, 27, 190, 0]
                                            }
                                        ]
                                    },
                                    {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "attr",
                                            "base": {
                                                "type": "slot",
                                                "kind": "attr",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 29
                                                },
                                                "name": "heads",
                                                "loc": [12, 191, 19, 191, 0]
                                            },
                                            "name": "clear",
                                            "loc": [12, 191, 25, 191, 0]
                                        },
                                        "args": [],
                                        "loc": [12, 191, 27, 191, 0]
                                    },
                                    {
                                        "type": "assign",
                                        "slot": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 31
                                        },
                                        "value": {
                                            "type": "slot",
                                            "kind": "item",
                                            "base": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 17
                                            },
                                            "index": {
                                                "type": "call",
                                                "callee": {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "get_dom",
                                                    "loc": [25, 193, 32, 193, 0]
                                                },
                                                "args": [
                                                    {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 27
                                                    }
                                                ],
                                                "loc": [25, 193, 35, 193, 0]
                                            },
                                            "loc": [19, 193, 36, 193, 0]
                                        }
                                    },
                                    {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "biunify",
                                            "loc": [12, 194, 19, 194, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "make_tuple",
                                                "items": [
                                                    {
                                                        "type": "slot",
                                                        "kind": "attr",
                                                        "base": {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 31
                                                        },
                                                        "name": "output",
                                                        "loc": [
                                                            21,
                                                            194,
                                                            32,
                                                            194,
                                                            0
                                                        ]
                                                    },
                                                    {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 29
                                                    }
                                                ]
                                            },
                                            {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 4
                                            }
                                        ],
                                        "loc": [12, 194, 46, 194, 0]
                                    },
                                    {
                                        "type": "repeat",
                                        "fresh": [],
                                        "heads": [
                                            {
                                                "type": "for",
                                                "slot": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 32
                                                },
                                                "value": {
                                                    "type": "slot",
                                                    "kind": "item",
                                                    "base": {
                                                        "type": "slot",
                                                        "kind": "attr",
                                                        "base": {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 5
                                                        },
                                                        "name": "transitions",
                                                        "loc": [
                                                            21,
                                                            195,
                                                            34,
                                                            195,
                                                            0
                                                        ]
                                                    },
                                                    "index": {
                                                        "type": "slot",
                                                        "kind": "global",
                                                        "name": "cod",
                                                        "loc": [
                                                            35,
                                                            195,
                                                            38,
                                                            195,
                                                            0
                                                        ]
                                                    },
                                                    "loc": [21, 195, 39, 195, 0]
                                                }
                                            }
                                        ],
                                        "body": [
                                            {
                                                "type": "call",
                                                "callee": {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "biunify",
                                                    "loc": [16, 196, 23, 196, 0]
                                                },
                                                "args": [
                                                    {
                                                        "type": "make_tuple",
                                                        "items": [
                                                            {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 32
                                                            },
                                                            {
                                                                "type": "slot",
                                                                "kind": "attr",
                                                                "base": {
                                                                    "type": "slot",
                                                                    "kind": "local",
                                                                    "index": 31
                                                                },
                                                                "name": "input",
                                                                "loc": [
                                                                    28,
                                                                    196,
                                                                    38,
                                                                    196,
                                                                    0
                                                                ]
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 4
                                                    }
                                                ],
                                                "loc": [16, 196, 49, 196, 0]
                                            }
                                        ]
                                    }
                                ]
                            }
                        ]
                    }
                ],
                "loc": [19, 130, 49, 196, 0]
            }
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "binary_operator",
                "loc": [0, 198, 15, 198, 0]
            },
            "value": {
                "type": "closure",
                "cellvars": [],
                "localvars": [
                    {"type": "cell", "deref": false, "name": "op", "defs": 1},
                    {"type": "cell", "deref": false, "name": "head", "defs": 1},
                    {
                        "type": "cell",
                        "deref": false,
                        "name": "expect",
                        "defs": 1
                    },
                    {"type": "cell", "deref": false, "name": "f", "defs": 1},
                    {"type": "cell", "deref": false, "name": "z1", "defs": 1},
                    {"type": "cell", "deref": false, "name": "z2", "defs": 1},
                    {"type": "cell", "deref": false, "name": "r", "defs": 1}
                ],
                "frame": [],
                "args": [
                    {"slot": {"type": "slot", "kind": "local", "index": 0}},
                    {"slot": {"type": "slot", "kind": "local", "index": 1}},
                    {"slot": {"type": "slot", "kind": "local", "index": 2}}
                ],
                "body": [
                    {
                        "type": "cond",
                        "cond": {
                            "type": "and",
                            "lhs": {
                                "type": "cmp",
                                "exprs": [
                                    {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 0
                                    },
                                    {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "+",
                                        "loc": [14, 202, 15, 202, 0]
                                    }
                                ],
                                "ops": [
                                    {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "==",
                                        "loc": [7, 202, 16, 202, 0]
                                    }
                                ],
                                "loc": [7, 202, 16, 202, 0]
                            },
                            "rhs": {
                                "type": "cmp",
                                "exprs": [
                                    {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 1
                                    },
                                    {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "Integer",
                                        "loc": [29, 202, 36, 202, 0]
                                    }
                                ],
                                "ops": [
                                    {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "==",
                                        "loc": [21, 202, 36, 202, 0]
                                    }
                                ],
                                "loc": [21, 202, 36, 202, 0]
                            },
                            "loc": [7, 202, 36, 202, 0]
                        },
                        "tbody": [
                            {
                                "type": "assign",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 3
                                },
                                "value": {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "fresh_state",
                                        "loc": [12, 203, 23, 203, 0]
                                    },
                                    "args": [
                                        {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "+expr",
                                                "loc": [24, 203, 26, 203, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "literal",
                                                    "kind": "integer",
                                                    "value": "1"
                                                }
                                            ],
                                            "loc": [24, 203, 26, 203, 0]
                                        }
                                    ],
                                    "loc": [12, 203, 27, 203, 0]
                                }
                            },
                            {
                                "type": "call",
                                "callee": {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "attr",
                                        "base": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 3
                                        },
                                        "name": "heads",
                                        "loc": [8, 204, 15, 204, 0]
                                    },
                                    "name": "add",
                                    "loc": [8, 204, 19, 204, 0]
                                },
                                "args": [
                                    {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "faucet",
                                            "loc": [20, 204, 26, 204, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "call",
                                                "callee": {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "get_function_header",
                                                    "loc": [27, 204, 46, 204, 0]
                                                },
                                                "args": [
                                                    {
                                                        "type": "literal",
                                                        "kind": "integer",
                                                        "value": "2"
                                                    },
                                                    {
                                                        "type": "literal",
                                                        "kind": "integer",
                                                        "value": "0"
                                                    }
                                                ],
                                                "loc": [27, 204, 52, 204, 0]
                                            }
                                        ],
                                        "loc": [20, 204, 53, 204, 0]
                                    }
                                ],
                                "loc": [8, 204, 54, 204, 0]
                            },
                            {
                                "type": "assign",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 4
                                },
                                "value": {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "fresh_state",
                                        "loc": [13, 205, 24, 205, 0]
                                    },
                                    "args": [
                                        {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "-expr",
                                                "loc": [25, 205, 27, 205, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "literal",
                                                    "kind": "integer",
                                                    "value": "1"
                                                }
                                            ],
                                            "loc": [25, 205, 27, 205, 0]
                                        }
                                    ],
                                    "loc": [13, 205, 28, 205, 0]
                                }
                            },
                            {
                                "type": "call",
                                "callee": {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "attr",
                                        "base": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 4
                                        },
                                        "name": "heads",
                                        "loc": [8, 206, 16, 206, 0]
                                    },
                                    "name": "add",
                                    "loc": [8, 206, 20, 206, 0]
                                },
                                "args": [
                                    {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "faucet",
                                            "loc": [21, 206, 27, 206, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "Integer",
                                                "loc": [28, 206, 35, 206, 0]
                                            }
                                        ],
                                        "loc": [21, 206, 36, 206, 0]
                                    }
                                ],
                                "loc": [8, 206, 37, 206, 0]
                            },
                            {
                                "type": "assign",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 5
                                },
                                "value": {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "fresh_state",
                                        "loc": [13, 207, 24, 207, 0]
                                    },
                                    "args": [
                                        {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "-expr",
                                                "loc": [25, 207, 27, 207, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "literal",
                                                    "kind": "integer",
                                                    "value": "1"
                                                }
                                            ],
                                            "loc": [25, 207, 27, 207, 0]
                                        }
                                    ],
                                    "loc": [13, 207, 28, 207, 0]
                                }
                            },
                            {
                                "type": "call",
                                "callee": {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "attr",
                                        "base": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 5
                                        },
                                        "name": "heads",
                                        "loc": [8, 208, 16, 208, 0]
                                    },
                                    "name": "add",
                                    "loc": [8, 208, 20, 208, 0]
                                },
                                "args": [
                                    {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "faucet",
                                            "loc": [21, 208, 27, 208, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "Integer",
                                                "loc": [28, 208, 35, 208, 0]
                                            }
                                        ],
                                        "loc": [21, 208, 36, 208, 0]
                                    }
                                ],
                                "loc": [8, 208, 37, 208, 0]
                            },
                            {
                                "type": "assign",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 6
                                },
                                "value": {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "fresh_state",
                                        "loc": [12, 209, 23, 209, 0]
                                    },
                                    "args": [
                                        {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "+expr",
                                                "loc": [24, 209, 26, 209, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "literal",
                                                    "kind": "integer",
                                                    "value": "1"
                                                }
                                            ],
                                            "loc": [24, 209, 26, 209, 0]
                                        }
                                    ],
                                    "loc": [12, 209, 27, 209, 0]
                                }
                            },
                            {
                                "type": "call",
                                "callee": {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "attr",
                                        "base": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 6
                                        },
                                        "name": "heads",
                                        "loc": [8, 210, 15, 210, 0]
                                    },
                                    "name": "add",
                                    "loc": [8, 210, 19, 210, 0]
                                },
                                "args": [
                                    {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "faucet",
                                            "loc": [20, 210, 26, 210, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "Integer",
                                                "loc": [27, 210, 34, 210, 0]
                                            }
                                        ],
                                        "loc": [20, 210, 35, 210, 0]
                                    }
                                ],
                                "loc": [8, 210, 36, 210, 0]
                            },
                            {
                                "type": "call",
                                "callee": {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 3
                                    },
                                    "name": "add_transition",
                                    "loc": [8, 211, 24, 211, 0]
                                },
                                "args": [
                                    {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "get_dom",
                                            "loc": [25, 211, 32, 211, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "literal",
                                                "kind": "integer",
                                                "value": "0"
                                            }
                                        ],
                                        "loc": [25, 211, 35, 211, 0]
                                    },
                                    {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 4
                                    }
                                ],
                                "loc": [8, 211, 40, 211, 0]
                            },
                            {
                                "type": "call",
                                "callee": {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 3
                                    },
                                    "name": "add_transition",
                                    "loc": [8, 212, 24, 212, 0]
                                },
                                "args": [
                                    {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "get_dom",
                                            "loc": [25, 212, 32, 212, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "literal",
                                                "kind": "integer",
                                                "value": "1"
                                            }
                                        ],
                                        "loc": [25, 212, 35, 212, 0]
                                    },
                                    {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 5
                                    }
                                ],
                                "loc": [8, 212, 40, 212, 0]
                            },
                            {
                                "type": "call",
                                "callee": {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 3
                                    },
                                    "name": "add_transition",
                                    "loc": [8, 213, 24, 213, 0]
                                },
                                "args": [
                                    {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "cod",
                                        "loc": [25, 213, 28, 213, 0]
                                    },
                                    {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 6
                                    }
                                ],
                                "loc": [8, 213, 32, 213, 0]
                            },
                            {
                                "type": "return",
                                "value": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 3
                                }
                            }
                        ],
                        "fbody": [],
                        "loc": [4, 202, 16, 214, 0]
                    },
                    {
                        "type": "assert",
                        "cond": {
                            "type": "slot",
                            "kind": "global",
                            "name": "false",
                            "loc": [11, 215, 16, 215, 0]
                        },
                        "value": {
                            "type": "literal",
                            "kind": "string",
                            "value": "not implemented"
                        },
                        "loc": [4, 215, 37, 215, 0]
                    }
                ],
                "loc": [18, 198, 37, 215, 0]
            }
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "get_coercion_function_type",
                "loc": [0, 217, 26, 217, 0]
            },
            "value": {
                "type": "closure",
                "cellvars": [],
                "localvars": [
                    {"type": "cell", "deref": false, "name": "a", "defs": 1},
                    {"type": "cell", "deref": false, "name": "b", "defs": 1},
                    {"type": "cell", "deref": false, "name": "f", "defs": 1},
                    {"type": "cell", "deref": false, "name": "z", "defs": 1},
                    {"type": "cell", "deref": false, "name": "r", "defs": 1},
                    {"type": "cell", "deref": false, "name": "param", "defs": 1
                    },
                    {"type": "cell", "deref": false, "name": "p", "defs": 1},
                    {"type": "cell", "deref": false, "name": "q", "defs": 1}
                ],
                "frame": [],
                "args": [
                    {"slot": {"type": "slot", "kind": "local", "index": 0}},
                    {"slot": {"type": "slot", "kind": "local", "index": 1}}
                ],
                "body": [
                    {
                        "type": "cond",
                        "cond": {
                            "type": "cmp",
                            "exprs": [
                                {"type": "slot", "kind": "local", "index": 0},
                                {"type": "slot", "kind": "local", "index": 1}
                            ],
                            "ops": [
                                {
                                    "type": "slot",
                                    "kind": "global",
                                    "name": "==",
                                    "loc": [7, 218, 13, 218, 0]
                                }
                            ],
                            "loc": [7, 218, 13, 218, 0]
                        },
                        "tbody": [
                            {
                                "type": "assign",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 2
                                },
                                "value": {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "fresh_state",
                                        "loc": [12, 219, 23, 219, 0]
                                    },
                                    "args": [
                                        {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "+expr",
                                                "loc": [24, 219, 26, 219, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "literal",
                                                    "kind": "integer",
                                                    "value": "1"
                                                }
                                            ],
                                            "loc": [24, 219, 26, 219, 0]
                                        }
                                    ],
                                    "loc": [12, 219, 27, 219, 0]
                                }
                            },
                            {
                                "type": "call",
                                "callee": {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "attr",
                                        "base": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 2
                                        },
                                        "name": "heads",
                                        "loc": [8, 220, 15, 220, 0]
                                    },
                                    "name": "add",
                                    "loc": [8, 220, 19, 220, 0]
                                },
                                "args": [
                                    {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "faucet",
                                            "loc": [20, 220, 26, 220, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "call",
                                                "callee": {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "get_function_header",
                                                    "loc": [27, 220, 46, 220, 0]
                                                },
                                                "args": [
                                                    {
                                                        "type": "literal",
                                                        "kind": "integer",
                                                        "value": "1"
                                                    },
                                                    {
                                                        "type": "literal",
                                                        "kind": "integer",
                                                        "value": "0"
                                                    }
                                                ],
                                                "loc": [27, 220, 52, 220, 0]
                                            }
                                        ],
                                        "loc": [20, 220, 53, 220, 0]
                                    }
                                ],
                                "loc": [8, 220, 54, 220, 0]
                            },
                            {
                                "type": "assign",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 3
                                },
                                "value": {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "fresh_state",
                                        "loc": [12, 221, 23, 221, 0]
                                    },
                                    "args": [
                                        {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "-expr",
                                                "loc": [24, 221, 26, 221, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "literal",
                                                    "kind": "integer",
                                                    "value": "1"
                                                }
                                            ],
                                            "loc": [24, 221, 26, 221, 0]
                                        }
                                    ],
                                    "loc": [12, 221, 27, 221, 0]
                                }
                            },
                            {
                                "type": "call",
                                "callee": {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "attr",
                                        "base": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 3
                                        },
                                        "name": "heads",
                                        "loc": [8, 222, 15, 222, 0]
                                    },
                                    "name": "add",
                                    "loc": [8, 222, 19, 222, 0]
                                },
                                "args": [
                                    {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "faucet",
                                            "loc": [20, 222, 26, 222, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 0
                                            }
                                        ],
                                        "loc": [20, 222, 29, 222, 0]
                                    }
                                ],
                                "loc": [8, 222, 30, 222, 0]
                            },
                            {
                                "type": "assign",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 4
                                },
                                "value": {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "fresh_state",
                                        "loc": [12, 223, 23, 223, 0]
                                    },
                                    "args": [
                                        {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "+expr",
                                                "loc": [24, 223, 26, 223, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "literal",
                                                    "kind": "integer",
                                                    "value": "1"
                                                }
                                            ],
                                            "loc": [24, 223, 26, 223, 0]
                                        }
                                    ],
                                    "loc": [12, 223, 27, 223, 0]
                                }
                            },
                            {
                                "type": "call",
                                "callee": {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "attr",
                                        "base": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 4
                                        },
                                        "name": "heads",
                                        "loc": [8, 224, 15, 224, 0]
                                    },
                                    "name": "add",
                                    "loc": [8, 224, 19, 224, 0]
                                },
                                "args": [
                                    {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "faucet",
                                            "loc": [20, 224, 26, 224, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 1
                                            }
                                        ],
                                        "loc": [20, 224, 29, 224, 0]
                                    }
                                ],
                                "loc": [8, 224, 30, 224, 0]
                            },
                            {
                                "type": "repeat",
                                "fresh": [],
                                "heads": [
                                    {
                                        "type": "for",
                                        "slot": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 5
                                        },
                                        "value": {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "attr",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 0
                                                },
                                                "name": "params",
                                                "loc": [21, 225, 29, 225, 0]
                                            },
                                            "args": [],
                                            "loc": [21, 225, 31, 225, 0]
                                        }
                                    }
                                ],
                                "body": [
                                    {
                                        "type": "assign",
                                        "slot": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 6
                                        },
                                        "value": {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "fresh_state",
                                                "loc": [16, 226, 27, 226, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "call",
                                                    "callee": {
                                                        "type": "slot",
                                                        "kind": "global",
                                                        "name": "+expr",
                                                        "loc": [
                                                            28,
                                                            226,
                                                            38,
                                                            226,
                                                            0
                                                        ]
                                                    },
                                                    "args": [
                                                        {
                                                            "type": "slot",
                                                            "kind": "attr",
                                                            "base": {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 5
                                                            },
                                                            "name": "pol",
                                                            "loc": [
                                                                29,
                                                                226,
                                                                38,
                                                                226,
                                                                0
                                                            ]
                                                        }
                                                    ],
                                                    "loc": [28, 226, 38, 226, 0]
                                                }
                                            ],
                                            "loc": [16, 226, 39, 226, 0]
                                        }
                                    },
                                    {
                                        "type": "assign",
                                        "slot": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 7
                                        },
                                        "value": {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "fresh_state",
                                                "loc": [16, 227, 27, 227, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "call",
                                                    "callee": {
                                                        "type": "slot",
                                                        "kind": "global",
                                                        "name": "-expr",
                                                        "loc": [
                                                            28,
                                                            227,
                                                            38,
                                                            227,
                                                            0
                                                        ]
                                                    },
                                                    "args": [
                                                        {
                                                            "type": "slot",
                                                            "kind": "attr",
                                                            "base": {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 5
                                                            },
                                                            "name": "pol",
                                                            "loc": [
                                                                29,
                                                                227,
                                                                38,
                                                                227,
                                                                0
                                                            ]
                                                        }
                                                    ],
                                                    "loc": [28, 227, 38, 227, 0]
                                                }
                                            ],
                                            "loc": [16, 227, 39, 227, 0]
                                        }
                                    },
                                    {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "attr",
                                            "base": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 6
                                            },
                                            "name": "add_flow",
                                            "loc": [12, 228, 22, 228, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 7
                                            }
                                        ],
                                        "loc": [12, 228, 25, 228, 0]
                                    },
                                    {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "attr",
                                            "base": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 4
                                            },
                                            "name": "add_transition",
                                            "loc": [12, 229, 28, 229, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 5
                                            },
                                            {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 6
                                            }
                                        ],
                                        "loc": [12, 229, 38, 229, 0]
                                    },
                                    {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "attr",
                                            "base": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 3
                                            },
                                            "name": "add_transition",
                                            "loc": [12, 230, 28, 230, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 5
                                            },
                                            {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 7
                                            }
                                        ],
                                        "loc": [12, 230, 38, 230, 0]
                                    }
                                ]
                            },
                            {
                                "type": "call",
                                "callee": {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 2
                                    },
                                    "name": "add_transition",
                                    "loc": [8, 231, 24, 231, 0]
                                },
                                "args": [
                                    {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "get_dom",
                                            "loc": [25, 231, 32, 231, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "literal",
                                                "kind": "integer",
                                                "value": "0"
                                            }
                                        ],
                                        "loc": [25, 231, 35, 231, 0]
                                    },
                                    {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 3
                                    }
                                ],
                                "loc": [8, 231, 39, 231, 0]
                            },
                            {
                                "type": "call",
                                "callee": {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 2
                                    },
                                    "name": "add_transition",
                                    "loc": [8, 232, 24, 232, 0]
                                },
                                "args": [
                                    {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "cod",
                                        "loc": [25, 232, 28, 232, 0]
                                    },
                                    {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 4
                                    }
                                ],
                                "loc": [8, 232, 32, 232, 0]
                            },
                            {
                                "type": "return",
                                "value": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 2
                                }
                            }
                        ],
                        "fbody": [],
                        "loc": [4, 218, 16, 233, 0]
                    },
                    {
                        "type": "assert",
                        "cond": {
                            "type": "slot",
                            "kind": "global",
                            "name": "false",
                            "loc": [11, 234, 16, 234, 0]
                        },
                        "value": {
                            "type": "literal",
                            "kind": "string",
                            "value": "not implemented"
                        },
                        "loc": [4, 234, 37, 234, 0]
                    }
                ],
                "loc": [29, 217, 37, 234, 0]
            }
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "to_raw_type",
                "loc": [0, 250, 11, 250, 0]
            },
            "value": {
                "type": "closure",
                "cellvars": [
                    {"type": "cell", "deref": true, "name": "scheme", "defs": 1
                    },
                    {
                        "type": "cell",
                        "deref": true,
                        "name": "flow_variables",
                        "defs": 1
                    },
                    {"type": "cell", "deref": true, "name": "visi", "defs": 1},
                    {"type": "cell", "deref": true, "name": "mapi", "defs": 1},
                    {
                        "type": "cell",
                        "deref": true,
                        "name": "rvar_id",
                        "defs": 1
                    },
                    {"type": "cell", "deref": true, "name": "trail", "defs": 1},
                    {
                        "type": "cell",
                        "deref": true,
                        "name": "s_visit",
                        "defs": 1
                    },
                    {
                        "type": "cell",
                        "deref": true,
                        "name": "r_visit",
                        "defs": 1
                    },
                    {
                        "type": "cell",
                        "deref": true,
                        "name": "e_visit",
                        "defs": 1
                    }
                ],
                "localvars": [],
                "frame": [],
                "args": [{"slot": {"type": "slot", "kind": "cell", "index": 0}}
                ],
                "body": [
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "cell", "index": 1},
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "global",
                                "name": "greedy_biclique_decomposition",
                                "loc": [21, 251, 50, 251, 0]
                            },
                            "args": [
                                {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "cell",
                                        "index": 0
                                    },
                                    "name": "generic",
                                    "loc": [8, 252, 22, 252, 0]
                                },
                                {
                                    "type": "closure",
                                    "cellvars": [],
                                    "localvars": [
                                        {
                                            "type": "cell",
                                            "deref": false,
                                            "name": "vertex",
                                            "defs": 1
                                        }
                                    ],
                                    "frame": [],
                                    "args": [
                                        {
                                            "slot": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 0
                                            }
                                        }
                                    ],
                                    "body": [
                                        {
                                            "type": "return",
                                            "value": {
                                                "type": "slot",
                                                "kind": "attr",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 0
                                                },
                                                "name": "flow",
                                                "loc": [19, 253, 30, 253, 0]
                                            }
                                        }
                                    ],
                                    "loc": [9, 253, 30, 253, 0]
                                }
                            ],
                            "loc": [21, 251, 32, 253, 0]
                        }
                    },
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "cell", "index": 2},
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "global",
                                "name": "set",
                                "loc": [11, 257, 14, 257, 0]
                            },
                            "args": [],
                            "loc": [11, 257, 16, 257, 0]
                        }
                    },
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "cell", "index": 3},
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "global",
                                "name": "dict",
                                "loc": [11, 258, 15, 258, 0]
                            },
                            "args": [],
                            "loc": [11, 258, 17, 258, 0]
                        }
                    },
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "cell", "index": 4},
                        "value": {
                            "type": "literal",
                            "kind": "integer",
                            "value": "0"
                        }
                    },
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "cell", "index": 5},
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "global",
                                "name": "dict",
                                "loc": [12, 261, 16, 261, 0]
                            },
                            "args": [],
                            "loc": [12, 261, 18, 261, 0]
                        }
                    },
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "cell", "index": 6},
                        "value": {
                            "type": "closure",
                            "cellvars": [
                                {
                                    "type": "cell",
                                    "deref": true,
                                    "name": "scheme",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": true,
                                    "name": "visi",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": true,
                                    "name": "rvar_id",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": true,
                                    "name": "mapi",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": true,
                                    "name": "s_visit",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": true,
                                    "name": "trail",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": true,
                                    "name": "r_visit",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": true,
                                    "name": "flow_variables",
                                    "defs": 1
                                }
                            ],
                            "localvars": [
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "state",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "in_trail",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "sym",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "op",
                                    "defs": 2
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "typedecl",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "head",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "index",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "site",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "name",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "line",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "x",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "v",
                                    "defs": 1
                                }
                            ],
                            "frame": [0, 2, 4, 3, 6, 5, 7, 1],
                            "args": [
                                {
                                    "slot": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 0
                                    }
                                },
                                {
                                    "slot": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 1
                                    }
                                }
                            ],
                            "body": [
                                {
                                    "type": "assert",
                                    "cond": {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "in",
                                            "loc": [15, 264, 38, 264, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 0
                                            },
                                            {
                                                "type": "slot",
                                                "kind": "attr",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "cell",
                                                    "index": 0
                                                },
                                                "name": "generic",
                                                "loc": [24, 264, 38, 264, 0]
                                            }
                                        ],
                                        "loc": [15, 264, 38, 264, 0]
                                    },
                                    "value": {
                                        "type": "literal",
                                        "kind": "string",
                                        "value": "raw type cannot print schemes with free variables in them"
                                    },
                                    "loc": [8, 264, 71, 265, 0]
                                },
                                {
                                    "type": "cond",
                                    "cond": {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "in",
                                            "loc": [11, 266, 24, 266, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 0
                                            },
                                            {
                                                "type": "slot",
                                                "kind": "cell",
                                                "index": 1
                                            }
                                        ],
                                        "loc": [11, 266, 24, 266, 0]
                                    },
                                    "tbody": [
                                        {
                                            "type": "assign",
                                            "slot": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 2
                                            },
                                            "value": {
                                                "type": "call",
                                                "callee": {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "++",
                                                    "loc": [18, 267, 47, 267, 0]
                                                },
                                                "args": [
                                                    {
                                                        "type": "literal",
                                                        "kind": "string",
                                                        "value": "rec.r"
                                                    },
                                                    {
                                                        "type": "call",
                                                        "callee": {
                                                            "type": "slot",
                                                            "kind": "global",
                                                            "name": "stringify",
                                                            "loc": [
                                                                29,
                                                                267,
                                                                38,
                                                                267,
                                                                0
                                                            ]
                                                        },
                                                        "args": [
                                                            {
                                                                "type": "slot",
                                                                "kind": "cell",
                                                                "index": 2
                                                            }
                                                        ],
                                                        "loc": [
                                                            29,
                                                            267,
                                                            47,
                                                            267,
                                                            0
                                                        ]
                                                    }
                                                ],
                                                "loc": [18, 267, 47, 267, 0]
                                            }
                                        },
                                        {
                                            "type": "assign",
                                            "slot": {
                                                "type": "slot",
                                                "kind": "item",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "cell",
                                                    "index": 3
                                                },
                                                "index": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 0
                                                },
                                                "loc": [12, 268, 23, 268, 0]
                                            },
                                            "value": {
                                                "type": "call",
                                                "callee": {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "++",
                                                    "loc": [26, 268, 55, 268, 0]
                                                },
                                                "args": [
                                                    {
                                                        "type": "literal",
                                                        "kind": "string",
                                                        "value": "let.r"
                                                    },
                                                    {
                                                        "type": "call",
                                                        "callee": {
                                                            "type": "slot",
                                                            "kind": "global",
                                                            "name": "stringify",
                                                            "loc": [
                                                                37,
                                                                268,
                                                                46,
                                                                268,
                                                                0
                                                            ]
                                                        },
                                                        "args": [
                                                            {
                                                                "type": "slot",
                                                                "kind": "cell",
                                                                "index": 2
                                                            }
                                                        ],
                                                        "loc": [
                                                            37,
                                                            268,
                                                            55,
                                                            268,
                                                            0
                                                        ]
                                                    }
                                                ],
                                                "loc": [26, 268, 55, 268, 0]
                                            }
                                        },
                                        {
                                            "type": "inplace_assign",
                                            "slot": {
                                                "type": "slot",
                                                "kind": "cell",
                                                "index": 2
                                            },
                                            "op": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "+",
                                                "loc": [12, 269, 24, 269, 0]
                                            },
                                            "value": {
                                                "type": "literal",
                                                "kind": "integer",
                                                "value": "1"
                                            }
                                        },
                                        {
                                            "type": "return",
                                            "value": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 2
                                            }
                                        }
                                    ],
                                    "fbody": [],
                                    "loc": [8, 266, 22, 270, 0]
                                },
                                {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "attr",
                                        "base": {
                                            "type": "slot",
                                            "kind": "cell",
                                            "index": 1
                                        },
                                        "name": "add",
                                        "loc": [8, 271, 16, 271, 0]
                                    },
                                    "args": [
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 0
                                        }
                                    ],
                                    "loc": [8, 271, 23, 271, 0]
                                },
                                {
                                    "type": "cond",
                                    "cond": {
                                        "type": "cmp",
                                        "exprs": [
                                            {
                                                "type": "slot",
                                                "kind": "attr",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 0
                                                },
                                                "name": "pol",
                                                "loc": [11, 273, 20, 273, 0]
                                            },
                                            {
                                                "type": "literal",
                                                "kind": "integer",
                                                "value": "0"
                                            }
                                        ],
                                        "ops": [
                                            {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": ">",
                                                "loc": [11, 273, 24, 273, 0]
                                            }
                                        ],
                                        "loc": [11, 273, 24, 273, 0]
                                    },
                                    "tbody": [
                                        {
                                            "type": "assign",
                                            "slot": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 3
                                            },
                                            "value": {
                                                "type": "literal",
                                                "kind": "string",
                                                "value": " | "
                                            }
                                        }
                                    ],
                                    "fbody": [
                                        {
                                            "type": "assign",
                                            "slot": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 3
                                            },
                                            "value": {
                                                "type": "literal",
                                                "kind": "string",
                                                "value": " & "
                                            }
                                        }
                                    ],
                                    "loc": [8, 273, 22, 276, 0]
                                },
                                {
                                    "type": "assign",
                                    "slot": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 4
                                    },
                                    "value": {"type": "list", "values": []}
                                },
                                {
                                    "type": "repeat",
                                    "fresh": [],
                                    "heads": [
                                        {
                                            "type": "for",
                                            "slot": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 5
                                            },
                                            "value": {
                                                "type": "slot",
                                                "kind": "attr",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 0
                                                },
                                                "name": "heads",
                                                "loc": [20, 279, 31, 279, 0]
                                            }
                                        }
                                    ],
                                    "body": [
                                        {
                                            "type": "case",
                                            "value": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 5
                                            },
                                            "cases": [
                                                {
                                                    "type": "pattern",
                                                    "pattern": {
                                                        "type": "slot",
                                                        "kind": "global",
                                                        "name": "sink",
                                                        "loc": [
                                                            12,
                                                            281,
                                                            16,
                                                            281,
                                                            0
                                                        ]
                                                    },
                                                    "slot": {
                                                        "type": "slot",
                                                        "kind": "tuple",
                                                        "slots": [
                                                            {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 6
                                                            },
                                                            {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 7
                                                            }
                                                        ],
                                                        "loc": [
                                                            12,
                                                            281,
                                                            62,
                                                            285,
                                                            0
                                                        ]
                                                    },
                                                    "body": [
                                                        {
                                                            "type": "assign",
                                                            "slot": {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 8
                                                            },
                                                            "value": {
                                                                "type": "call",
                                                                "callee": {
                                                                    "type": "slot",
                                                                    "kind": "global",
                                                                    "name": "stringify",
                                                                    "loc": [
                                                                        23,
                                                                        282,
                                                                        32,
                                                                        282,
                                                                        0
                                                                    ]
                                                                },
                                                                "args": [
                                                                    {
                                                                        "type": "slot",
                                                                        "kind": "attr",
                                                                        "base": {
                                                                            "type": "slot",
                                                                            "kind": "local",
                                                                            "index": 7
                                                                        },
                                                                        "name": "op",
                                                                        "loc": [
                                                                            33,
                                                                            282,
                                                                            40,
                                                                            282,
                                                                            0
                                                                        ]
                                                                    }
                                                                ],
                                                                "loc": [
                                                                    23,
                                                                    282,
                                                                    41,
                                                                    282,
                                                                    0
                                                                ]
                                                            }
                                                        },
                                                        {
                                                            "type": "cond",
                                                            "cond": {
                                                                "type": "not",
                                                                "value": {
                                                                    "type": "call",
                                                                    "callee": {
                                                                        "type": "slot",
                                                                        "kind": "global",
                                                                        "name": "in",
                                                                        "loc": [
                                                                            19,
                                                                            283,
                                                                            41,
                                                                            283,
                                                                            0
                                                                        ]
                                                                    },
                                                                    "args": [
                                                                        {
                                                                            "type": "slot",
                                                                            "kind": "attr",
                                                                            "base": {
                                                                                "type": "slot",
                                                                                "kind": "local",
                                                                                "index": 7
                                                                            },
                                                                            "name": "state",
                                                                            "loc": [
                                                                                19,
                                                                                283,
                                                                                29,
                                                                                283,
                                                                                0
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "slot",
                                                                            "kind": "cell",
                                                                            "index": 1
                                                                        }
                                                                    ],
                                                                    "loc": [
                                                                        19,
                                                                        283,
                                                                        41,
                                                                        283,
                                                                        0
                                                                    ]
                                                                },
                                                                "loc": [
                                                                    19,
                                                                    283,
                                                                    41,
                                                                    283,
                                                                    0
                                                                ]
                                                            },
                                                            "tbody": [
                                                                {
                                                                    "type": "assign",
                                                                    "slot": {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 9
                                                                    },
                                                                    "value": {
                                                                        "type": "call",
                                                                        "callee": {
                                                                            "type": "slot",
                                                                            "kind": "cell",
                                                                            "index": 4
                                                                        },
                                                                        "args": [
                                                                            {
                                                                                "type": "slot",
                                                                                "kind": "attr",
                                                                                "base": {
                                                                                    "type": "slot",
                                                                                    "kind": "local",
                                                                                    "index": 7
                                                                                },
                                                                                "name": "state",
                                                                                "loc": [
                                                                                    35,
                                                                                    284,
                                                                                    45,
                                                                                    284,
                                                                                    0
                                                                                ]
                                                                            },
                                                                            {
                                                                                "type": "slot",
                                                                                "kind": "global",
                                                                                "name": "true",
                                                                                "loc": [
                                                                                    47,
                                                                                    284,
                                                                                    51,
                                                                                    284,
                                                                                    0
                                                                                ]
                                                                            }
                                                                        ],
                                                                        "loc": [
                                                                            27,
                                                                            284,
                                                                            52,
                                                                            284,
                                                                            0
                                                                        ]
                                                                    }
                                                                },
                                                                {
                                                                    "type": "assign",
                                                                    "slot": {
                                                                        "type": "slot",
                                                                        "kind": "item",
                                                                        "base": {
                                                                            "type": "slot",
                                                                            "kind": "cell",
                                                                            "index": 5
                                                                        },
                                                                        "index": {
                                                                            "type": "slot",
                                                                            "kind": "global",
                                                                            "name": "w",
                                                                            "loc": [
                                                                                26,
                                                                                285,
                                                                                27,
                                                                                285,
                                                                                0
                                                                            ]
                                                                        },
                                                                        "loc": [
                                                                            20,
                                                                            285,
                                                                            28,
                                                                            285,
                                                                            0
                                                                        ]
                                                                    },
                                                                    "value": {
                                                                        "type": "call",
                                                                        "callee": {
                                                                            "type": "slot",
                                                                            "kind": "global",
                                                                            "name": "++",
                                                                            "loc": [
                                                                                31,
                                                                                285,
                                                                                62,
                                                                                285,
                                                                                0
                                                                            ]
                                                                        },
                                                                        "args": [
                                                                            {
                                                                                "type": "call",
                                                                                "callee": {
                                                                                    "type": "slot",
                                                                                    "kind": "global",
                                                                                    "name": "++",
                                                                                    "loc": [
                                                                                        31,
                                                                                        285,
                                                                                        54,
                                                                                        285,
                                                                                        0
                                                                                    ]
                                                                                },
                                                                                "args": [
                                                                                    {
                                                                                        "type": "call",
                                                                                        "callee": {
                                                                                            "type": "slot",
                                                                                            "kind": "global",
                                                                                            "name": "++",
                                                                                            "loc": [
                                                                                                31,
                                                                                                285,
                                                                                                45,
                                                                                                285,
                                                                                                0
                                                                                            ]
                                                                                        },
                                                                                        "args": [
                                                                                            {
                                                                                                "type": "literal",
                                                                                                "kind": "string",
                                                                                                "value": "\n  "
                                                                                            },
                                                                                            {
                                                                                                "type": "slot",
                                                                                                "kind": "local",
                                                                                                "index": 8
                                                                                            }
                                                                                        ],
                                                                                        "loc": [
                                                                                            31,
                                                                                            285,
                                                                                            45,
                                                                                            285,
                                                                                            0
                                                                                        ]
                                                                                    },
                                                                                    {
                                                                                        "type": "literal",
                                                                                        "kind": "string",
                                                                                        "value": " : "
                                                                                    }
                                                                                ],
                                                                                "loc": [
                                                                                    31,
                                                                                    285,
                                                                                    54,
                                                                                    285,
                                                                                    0
                                                                                ]
                                                                            },
                                                                            {
                                                                                "type": "slot",
                                                                                "kind": "local",
                                                                                "index": 9
                                                                            }
                                                                        ],
                                                                        "loc": [
                                                                            31,
                                                                            285,
                                                                            62,
                                                                            285,
                                                                            0
                                                                        ]
                                                                    }
                                                                }
                                                            ],
                                                            "fbody": [],
                                                            "loc": [
                                                                16,
                                                                283,
                                                                62,
                                                                285,
                                                                0
                                                            ]
                                                        }
                                                    ],
                                                    "loc": [12, 281, 62, 285, 0]
                                                },
                                                {
                                                    "type": "pattern",
                                                    "pattern": {
                                                        "type": "slot",
                                                        "kind": "global",
                                                        "name": "faucet",
                                                        "loc": [
                                                            12,
                                                            286,
                                                            18,
                                                            286,
                                                            0
                                                        ]
                                                    },
                                                    "slot": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 10
                                                    },
                                                    "body": [
                                                        {
                                                            "type": "call",
                                                            "callee": {
                                                                "type": "slot",
                                                                "kind": "attr",
                                                                "base": {
                                                                    "type": "slot",
                                                                    "kind": "local",
                                                                    "index": 4
                                                                },
                                                                "name": "append",
                                                                "loc": [
                                                                    16,
                                                                    287,
                                                                    31,
                                                                    287,
                                                                    0
                                                                ]
                                                            },
                                                            "args": [
                                                                {
                                                                    "type": "call",
                                                                    "callee": {
                                                                        "type": "slot",
                                                                        "kind": "cell",
                                                                        "index": 6
                                                                    },
                                                                    "args": [
                                                                        {
                                                                            "type": "slot",
                                                                            "kind": "local",
                                                                            "index": 10
                                                                        },
                                                                        {
                                                                            "type": "slot",
                                                                            "kind": "local",
                                                                            "index": 0
                                                                        },
                                                                        {
                                                                            "type": "slot",
                                                                            "kind": "local",
                                                                            "index": 1
                                                                        }
                                                                    ],
                                                                    "loc": [
                                                                        32,
                                                                        287,
                                                                        59,
                                                                        287,
                                                                        0
                                                                    ]
                                                                }
                                                            ],
                                                            "loc": [
                                                                16,
                                                                287,
                                                                60,
                                                                287,
                                                                0
                                                            ]
                                                        }
                                                    ],
                                                    "loc": [12, 286, 60, 287, 0]
                                                }
                                            ],
                                            "default": [],
                                            "loc": [12, 280, 60, 287, 0]
                                        }
                                    ]
                                },
                                {
                                    "type": "repeat",
                                    "fresh": [],
                                    "heads": [
                                        {
                                            "type": "for",
                                            "slot": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 11
                                            },
                                            "value": {
                                                "type": "slot",
                                                "kind": "item",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "cell",
                                                    "index": 7
                                                },
                                                "index": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 0
                                                },
                                                "loc": [17, 288, 38, 288, 0]
                                            }
                                        }
                                    ],
                                    "body": [
                                        {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "attr",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 4
                                                },
                                                "name": "append",
                                                "loc": [12, 289, 27, 289, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "call",
                                                    "callee": {
                                                        "type": "slot",
                                                        "kind": "global",
                                                        "name": "stringify",
                                                        "loc": [
                                                            28,
                                                            289,
                                                            37,
                                                            289,
                                                            0
                                                        ]
                                                    },
                                                    "args": [
                                                        {
                                                            "type": "call",
                                                            "callee": {
                                                                "type": "slot",
                                                                "kind": "global",
                                                                "name": "+",
                                                                "loc": [
                                                                    38,
                                                                    289,
                                                                    42,
                                                                    289,
                                                                    0
                                                                ]
                                                            },
                                                            "args": [
                                                                {
                                                                    "type": "slot",
                                                                    "kind": "local",
                                                                    "index": 11
                                                                },
                                                                {
                                                                    "type": "literal",
                                                                    "kind": "integer",
                                                                    "value": "10"
                                                                }
                                                            ],
                                                            "loc": [
                                                                38,
                                                                289,
                                                                42,
                                                                289,
                                                                0
                                                            ]
                                                        },
                                                        {
                                                            "type": "literal",
                                                            "kind": "integer",
                                                            "value": "36"
                                                        }
                                                    ],
                                                    "loc": [28, 289, 47, 289, 0]
                                                }
                                            ],
                                            "loc": [12, 289, 48, 289, 0]
                                        }
                                    ]
                                },
                                {
                                    "type": "cond",
                                    "cond": {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "in",
                                            "loc": [11, 290, 24, 290, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 0
                                            },
                                            {
                                                "type": "slot",
                                                "kind": "cell",
                                                "index": 3
                                            }
                                        ],
                                        "loc": [11, 290, 24, 290, 0]
                                    },
                                    "tbody": [
                                        {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "attr",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 4
                                                },
                                                "name": "insert",
                                                "loc": [12, 291, 27, 291, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "literal",
                                                    "kind": "integer",
                                                    "value": "0"
                                                },
                                                {
                                                    "type": "call",
                                                    "callee": {
                                                        "type": "slot",
                                                        "kind": "attr",
                                                        "base": {
                                                            "type": "slot",
                                                            "kind": "cell",
                                                            "index": 3
                                                        },
                                                        "name": "pop",
                                                        "loc": [
                                                            31,
                                                            291,
                                                            39,
                                                            291,
                                                            0
                                                        ]
                                                    },
                                                    "args": [
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 0
                                                        }
                                                    ],
                                                    "loc": [31, 291, 46, 291, 0]
                                                }
                                            ],
                                            "loc": [12, 291, 47, 291, 0]
                                        }
                                    ],
                                    "fbody": [],
                                    "loc": [8, 290, 47, 291, 0]
                                },
                                {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "attr",
                                        "base": {
                                            "type": "slot",
                                            "kind": "cell",
                                            "index": 1
                                        },
                                        "name": "discard",
                                        "loc": [8, 292, 20, 292, 0]
                                    },
                                    "args": [
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 0
                                        }
                                    ],
                                    "loc": [8, 292, 27, 292, 0]
                                },
                                {
                                    "type": "return",
                                    "value": {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "++",
                                            "loc": [15, 293, 46, 293, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "call",
                                                "callee": {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "++",
                                                    "loc": [15, 293, 39, 293, 0]
                                                },
                                                "args": [
                                                    {
                                                        "type": "literal",
                                                        "kind": "string",
                                                        "value": "("
                                                    },
                                                    {
                                                        "type": "call",
                                                        "callee": {
                                                            "type": "slot",
                                                            "kind": "attr",
                                                            "base": {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 3
                                                            },
                                                            "name": "join",
                                                            "loc": [
                                                                22,
                                                                293,
                                                                29,
                                                                293,
                                                                0
                                                            ]
                                                        },
                                                        "args": [
                                                            {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 4
                                                            }
                                                        ],
                                                        "loc": [
                                                            22,
                                                            293,
                                                            39,
                                                            293,
                                                            0
                                                        ]
                                                    }
                                                ],
                                                "loc": [15, 293, 39, 293, 0]
                                            },
                                            {
                                                "type": "literal",
                                                "kind": "string",
                                                "value": ")"
                                            }
                                        ],
                                        "loc": [15, 293, 46, 293, 0]
                                    }
                                }
                            ],
                            "loc": [14, 263, 46, 293, 0]
                        }
                    },
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "cell", "index": 7},
                        "value": {
                            "type": "closure",
                            "cellvars": [
                                {
                                    "type": "cell",
                                    "deref": true,
                                    "name": "e_visit",
                                    "defs": 1
                                }
                            ],
                            "localvars": [
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "face",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "state",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "in_trail",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "px",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "edge",
                                    "defs": 1
                                }
                            ],
                            "frame": [8],
                            "args": [
                                {
                                    "slot": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 0
                                    }
                                },
                                {
                                    "slot": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 1
                                    }
                                },
                                {
                                    "slot": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 2
                                    }
                                }
                            ],
                            "body": [
                                {
                                    "type": "assign",
                                    "slot": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 3
                                    },
                                    "value": {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "dict",
                                            "loc": [13, 296, 17, 296, 0]
                                        },
                                        "args": [],
                                        "loc": [13, 296, 19, 296, 0]
                                    }
                                },
                                {
                                    "type": "repeat",
                                    "fresh": [],
                                    "heads": [
                                        {
                                            "type": "for",
                                            "slot": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 4
                                            },
                                            "value": {
                                                "type": "call",
                                                "callee": {
                                                    "type": "slot",
                                                    "kind": "attr",
                                                    "base": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 0
                                                    },
                                                    "name": "params",
                                                    "loc": [20, 297, 31, 297, 0]
                                                },
                                                "args": [],
                                                "loc": [20, 297, 33, 297, 0]
                                            }
                                        }
                                    ],
                                    "body": [
                                        {
                                            "type": "assign",
                                            "slot": {
                                                "type": "slot",
                                                "kind": "item",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 3
                                                },
                                                "index": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 4
                                                },
                                                "loc": [12, 298, 20, 298, 0]
                                            },
                                            "value": {
                                                "type": "call",
                                                "callee": {
                                                    "type": "slot",
                                                    "kind": "cell",
                                                    "index": 0
                                                },
                                                "args": [
                                                    {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 1
                                                    },
                                                    {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 4
                                                    },
                                                    {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 2
                                                    }
                                                ],
                                                "loc": [23, 298, 53, 298, 0]
                                            }
                                        }
                                    ]
                                },
                                {
                                    "type": "return",
                                    "value": {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "attr",
                                            "base": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 0
                                            },
                                            "name": "format",
                                            "loc": [15, 299, 26, 299, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 3
                                            }
                                        ],
                                        "loc": [15, 299, 30, 299, 0]
                                    }
                                }
                            ],
                            "loc": [14, 295, 30, 299, 0]
                        }
                    },
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "cell", "index": 8},
                        "value": {
                            "type": "closure",
                            "cellvars": [
                                {
                                    "type": "cell",
                                    "deref": true,
                                    "name": "s_visit",
                                    "defs": 1
                                }
                            ],
                            "localvars": [
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "state",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "edge",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "in_trail",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "ws",
                                    "defs": 1
                                }
                            ],
                            "frame": [6],
                            "args": [
                                {
                                    "slot": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 0
                                    }
                                },
                                {
                                    "slot": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 1
                                    }
                                },
                                {
                                    "slot": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 2
                                    }
                                }
                            ],
                            "body": [
                                {
                                    "type": "cond",
                                    "cond": {
                                        "type": "not",
                                        "value": {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "in",
                                                "loc": [11, 302, 40, 302, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 1
                                                },
                                                {
                                                    "type": "slot",
                                                    "kind": "attr",
                                                    "base": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 0
                                                    },
                                                    "name": "transitions",
                                                    "loc": [23, 302, 40, 302, 0]
                                                }
                                            ],
                                            "loc": [11, 302, 40, 302, 0]
                                        },
                                        "loc": [11, 302, 40, 302, 0]
                                    },
                                    "tbody": [
                                        {
                                            "type": "return",
                                            "value": {
                                                "type": "literal",
                                                "kind": "string",
                                                "value": "(error?)"
                                            }
                                        }
                                    ],
                                    "fbody": [],
                                    "loc": [8, 302, 29, 303, 0]
                                },
                                {
                                    "type": "assign",
                                    "slot": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 3
                                    },
                                    "value": {
                                        "type": "slot",
                                        "kind": "item",
                                        "base": {
                                            "type": "slot",
                                            "kind": "attr",
                                            "base": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 0
                                            },
                                            "name": "transitions",
                                            "loc": [13, 304, 30, 304, 0]
                                        },
                                        "index": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 1
                                        },
                                        "loc": [13, 304, 36, 304, 0]
                                    }
                                },
                                {
                                    "type": "cond",
                                    "cond": {
                                        "type": "cmp",
                                        "exprs": [
                                            {
                                                "type": "slot",
                                                "kind": "attr",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 3
                                                },
                                                "name": "length",
                                                "loc": [11, 305, 20, 305, 0]
                                            },
                                            {
                                                "type": "literal",
                                                "kind": "integer",
                                                "value": "0"
                                            }
                                        ],
                                        "ops": [
                                            {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "==",
                                                "loc": [11, 305, 25, 305, 0]
                                            }
                                        ],
                                        "loc": [11, 305, 25, 305, 0]
                                    },
                                    "tbody": [
                                        {
                                            "type": "return",
                                            "value": {
                                                "type": "literal",
                                                "kind": "string",
                                                "value": "()"
                                            }
                                        }
                                    ],
                                    "fbody": [],
                                    "loc": [8, 305, 23, 306, 0]
                                },
                                {
                                    "type": "return",
                                    "value": {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "cell",
                                            "index": 0
                                        },
                                        "args": [
                                            {
                                                "type": "call",
                                                "callee": {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "single",
                                                    "loc": [23, 307, 29, 307, 0]
                                                },
                                                "args": [
                                                    {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 3
                                                    }
                                                ],
                                                "loc": [23, 307, 33, 307, 0]
                                            },
                                            {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 2
                                            }
                                        ],
                                        "loc": [15, 307, 44, 307, 0]
                                    }
                                }
                            ],
                            "loc": [14, 301, 44, 307, 0]
                        }
                    },
                    {
                        "type": "return",
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "global",
                                "name": "++",
                                "loc": [11, 309, 65, 309, 0]
                            },
                            "args": [
                                {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "cell",
                                        "index": 6
                                    },
                                    "args": [
                                        {
                                            "type": "slot",
                                            "kind": "attr",
                                            "base": {
                                                "type": "slot",
                                                "kind": "cell",
                                                "index": 0
                                            },
                                            "name": "root",
                                            "loc": [19, 309, 30, 309, 0]
                                        },
                                        {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "false",
                                            "loc": [32, 309, 37, 309, 0]
                                        }
                                    ],
                                    "loc": [11, 309, 38, 309, 0]
                                },
                                {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "attr",
                                        "base": {
                                            "type": "literal",
                                            "kind": "string",
                                            "value": ""
                                        },
                                        "name": "join",
                                        "loc": [42, 309, 49, 309, 0]
                                    },
                                    "args": [
                                        {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "attr",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "cell",
                                                    "index": 5
                                                },
                                                "name": "values",
                                                "loc": [50, 309, 62, 309, 0]
                                            },
                                            "args": [],
                                            "loc": [50, 309, 64, 309, 0]
                                        }
                                    ],
                                    "loc": [42, 309, 65, 309, 0]
                                }
                            ],
                            "loc": [11, 309, 65, 309, 0]
                        }
                    }
                ],
                "loc": [14, 250, 65, 309, 0]
            }
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "generalize",
                "loc": [0, 315, 10, 315, 0]
            },
            "value": {
                "type": "closure",
                "cellvars": [
                    {
                        "type": "cell",
                        "deref": true,
                        "name": "recalculate_free",
                        "defs": 1
                    },
                    {"type": "cell", "deref": true, "name": "free", "defs": 1},
                    {
                        "type": "cell",
                        "deref": true,
                        "name": "subsets",
                        "defs": 1
                    },
                    {
                        "type": "cell",
                        "deref": true,
                        "name": "membership",
                        "defs": 1
                    },
                    {
                        "type": "cell",
                        "deref": true,
                        "name": "reduce_site_port",
                        "defs": 1
                    },
                    {
                        "type": "cell",
                        "deref": true,
                        "name": "reduce_subset",
                        "defs": 1
                    }
                ],
                "localvars": [
                    {"type": "cell", "deref": false, "name": "root", "defs": 2},
                    {"type": "cell", "deref": false, "name": "env", "defs": 1},
                    {"type": "cell", "deref": false, "name": "state", "defs": 1
                    },
                    {"type": "cell", "deref": false, "name": "ss", "defs": 1},
                    {"type": "cell", "deref": false, "name": "w", "defs": 1},
                    {"type": "cell", "deref": false, "name": "qq", "defs": 1},
                    {"type": "cell", "deref": false, "name": "s", "defs": 1},
                    {"type": "cell", "deref": false, "name": "q", "defs": 1}
                ],
                "frame": [],
                "args": [
                    {"slot": {"type": "slot", "kind": "local", "index": 0}},
                    {"slot": {"type": "slot", "kind": "local", "index": 1}}
                ],
                "body": [
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "cell", "index": 0},
                        "value": {
                            "type": "closure",
                            "cellvars": [
                                {
                                    "type": "cell",
                                    "deref": true,
                                    "name": "recalculate_free",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": true,
                                    "name": "env_free",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": true,
                                    "name": "free",
                                    "defs": 1
                                }
                            ],
                            "localvars": [
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "env",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "schemes",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "locals",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "parent",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "visit",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "state",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "w",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "edge",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "ws",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "w",
                                    "defs": 1
                                }
                            ],
                            "frame": [0],
                            "args": [
                                {
                                    "slot": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 0
                                    }
                                }
                            ],
                            "body": [
                                {
                                    "type": "case",
                                    "value": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 0
                                    },
                                    "cases": [
                                        {
                                            "type": "constant",
                                            "value": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "environ_end",
                                                "loc": [8, 318, 19, 318, 0]
                                            },
                                            "body": [
                                                {
                                                    "type": "return",
                                                    "value": {
                                                        "type": "call",
                                                        "callee": {
                                                            "type": "slot",
                                                            "kind": "global",
                                                            "name": "set",
                                                            "loc": [
                                                                19,
                                                                319,
                                                                22,
                                                                319,
                                                                0
                                                            ]
                                                        },
                                                        "args": [],
                                                        "loc": [
                                                            19,
                                                            319,
                                                            24,
                                                            319,
                                                            0
                                                        ]
                                                    }
                                                }
                                            ],
                                            "loc": [8, 318, 24, 319, 0]
                                        },
                                        {
                                            "type": "pattern",
                                            "pattern": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "environ",
                                                "loc": [8, 320, 15, 320, 0]
                                            },
                                            "slot": {
                                                "type": "slot",
                                                "kind": "tuple",
                                                "slots": [
                                                    {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 1
                                                    },
                                                    {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 2
                                                    },
                                                    {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 3
                                                    },
                                                    {
                                                        "type": "slot",
                                                        "kind": "cell",
                                                        "index": 1
                                                    }
                                                ],
                                                "loc": [8, 320, 23, 334, 0]
                                            },
                                            "body": [
                                                {
                                                    "type": "assign",
                                                    "slot": {
                                                        "type": "slot",
                                                        "kind": "cell",
                                                        "index": 2
                                                    },
                                                    "value": {
                                                        "type": "call",
                                                        "callee": {
                                                            "type": "slot",
                                                            "kind": "cell",
                                                            "index": 0
                                                        },
                                                        "args": [
                                                            {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 3
                                                            }
                                                        ],
                                                        "loc": [
                                                            19,
                                                            321,
                                                            43,
                                                            321,
                                                            0
                                                        ]
                                                    }
                                                },
                                                {
                                                    "type": "call",
                                                    "callee": {
                                                        "type": "slot",
                                                        "kind": "attr",
                                                        "base": {
                                                            "type": "slot",
                                                            "kind": "cell",
                                                            "index": 1
                                                        },
                                                        "name": "difference_update",
                                                        "loc": [
                                                            12,
                                                            323,
                                                            38,
                                                            323,
                                                            0
                                                        ]
                                                    },
                                                    "args": [
                                                        {
                                                            "type": "slot",
                                                            "kind": "cell",
                                                            "index": 2
                                                        }
                                                    ],
                                                    "loc": [12, 323, 44, 323, 0]
                                                },
                                                {
                                                    "type": "assign",
                                                    "slot": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 4
                                                    },
                                                    "value": {
                                                        "type": "closure",
                                                        "cellvars": [
                                                            {
                                                                "type": "cell",
                                                                "deref": true,
                                                                "name": "free",
                                                                "defs": 1
                                                            },
                                                            {
                                                                "type": "cell",
                                                                "deref": true,
                                                                "name": "env_free",
                                                                "defs": 1
                                                            }
                                                        ],
                                                        "localvars": [
                                                            {
                                                                "type": "cell",
                                                                "deref": false,
                                                                "name": "state",
                                                                "defs": 1
                                                            }
                                                        ],
                                                        "frame": [2, 1],
                                                        "args": [
                                                            {
                                                                "slot": {
                                                                    "type": "slot",
                                                                    "kind": "local",
                                                                    "index": 0
                                                                }
                                                            }
                                                        ],
                                                        "body": [
                                                            {
                                                                "type": "cond",
                                                                "cond": {
                                                                    "type": "not",
                                                                    "value": {
                                                                        "type": "call",
                                                                        "callee": {
                                                                            "type": "slot",
                                                                            "kind": "global",
                                                                            "name": "in",
                                                                            "loc": [
                                                                                19,
                                                                                325,
                                                                                36,
                                                                                325,
                                                                                0
                                                                            ]
                                                                        },
                                                                        "args": [
                                                                            {
                                                                                "type": "slot",
                                                                                "kind": "local",
                                                                                "index": 0
                                                                            },
                                                                            {
                                                                                "type": "slot",
                                                                                "kind": "cell",
                                                                                "index": 0
                                                                            }
                                                                        ],
                                                                        "loc": [
                                                                            19,
                                                                            325,
                                                                            36,
                                                                            325,
                                                                            0
                                                                        ]
                                                                    },
                                                                    "loc": [
                                                                        19,
                                                                        325,
                                                                        36,
                                                                        325,
                                                                        0
                                                                    ]
                                                                },
                                                                "tbody": [
                                                                    {
                                                                        "type": "call",
                                                                        "callee": {
                                                                            "type": "slot",
                                                                            "kind": "attr",
                                                                            "base": {
                                                                                "type": "slot",
                                                                                "kind": "cell",
                                                                                "index": 1
                                                                            },
                                                                            "name": "add",
                                                                            "loc": [
                                                                                20,
                                                                                326,
                                                                                32,
                                                                                326,
                                                                                0
                                                                            ]
                                                                        },
                                                                        "args": [
                                                                            {
                                                                                "type": "slot",
                                                                                "kind": "local",
                                                                                "index": 0
                                                                            }
                                                                        ],
                                                                        "loc": [
                                                                            20,
                                                                            326,
                                                                            39,
                                                                            326,
                                                                            0
                                                                        ]
                                                                    }
                                                                ],
                                                                "fbody": [],
                                                                "loc": [
                                                                    16,
                                                                    325,
                                                                    39,
                                                                    326,
                                                                    0
                                                                ]
                                                            }
                                                        ],
                                                        "loc": [
                                                            20,
                                                            324,
                                                            39,
                                                            326,
                                                            0
                                                        ]
                                                    }
                                                },
                                                {
                                                    "type": "repeat",
                                                    "fresh": [],
                                                    "heads": [
                                                        {
                                                            "type": "for",
                                                            "slot": {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 5
                                                            },
                                                            "value": {
                                                                "type": "slot",
                                                                "kind": "cell",
                                                                "index": 1
                                                            }
                                                        }
                                                    ],
                                                    "body": [
                                                        {
                                                            "type": "repeat",
                                                            "fresh": [],
                                                            "heads": [
                                                                {
                                                                    "type": "for",
                                                                    "slot": {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 6
                                                                    },
                                                                    "value": {
                                                                        "type": "slot",
                                                                        "kind": "attr",
                                                                        "base": {
                                                                            "type": "slot",
                                                                            "kind": "local",
                                                                            "index": 5
                                                                        },
                                                                        "name": "flow",
                                                                        "loc": [
                                                                            25,
                                                                            329,
                                                                            35,
                                                                            329,
                                                                            0
                                                                        ]
                                                                    }
                                                                }
                                                            ],
                                                            "body": [
                                                                {
                                                                    "type": "call",
                                                                    "callee": {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 4
                                                                    },
                                                                    "args": [
                                                                        {
                                                                            "type": "slot",
                                                                            "kind": "local",
                                                                            "index": 6
                                                                        }
                                                                    ],
                                                                    "loc": [
                                                                        43,
                                                                        329,
                                                                        51,
                                                                        329,
                                                                        0
                                                                    ]
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "repeat",
                                                            "fresh": [],
                                                            "heads": [
                                                                {
                                                                    "type": "for",
                                                                    "slot": {
                                                                        "type": "slot",
                                                                        "kind": "tuple",
                                                                        "slots": [
                                                                            {
                                                                                "type": "slot",
                                                                                "kind": "local",
                                                                                "index": 7
                                                                            },
                                                                            {
                                                                                "type": "slot",
                                                                                "kind": "local",
                                                                                "index": 8
                                                                            }
                                                                        ],
                                                                        "loc": [
                                                                            20,
                                                                            330,
                                                                            28,
                                                                            330,
                                                                            0
                                                                        ]
                                                                    },
                                                                    "value": {
                                                                        "type": "slot",
                                                                        "kind": "attr",
                                                                        "base": {
                                                                            "type": "slot",
                                                                            "kind": "local",
                                                                            "index": 5
                                                                        },
                                                                        "name": "transitions",
                                                                        "loc": [
                                                                            32,
                                                                            330,
                                                                            49,
                                                                            330,
                                                                            0
                                                                        ]
                                                                    }
                                                                },
                                                                {
                                                                    "type": "for",
                                                                    "slot": {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 9
                                                                    },
                                                                    "value": {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 8
                                                                    }
                                                                }
                                                            ],
                                                            "body": [
                                                                {
                                                                    "type": "call",
                                                                    "callee": {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 4
                                                                    },
                                                                    "args": [
                                                                        {
                                                                            "type": "slot",
                                                                            "kind": "local",
                                                                            "index": 9
                                                                        }
                                                                    ],
                                                                    "loc": [
                                                                        35,
                                                                        331,
                                                                        43,
                                                                        331,
                                                                        0
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "call",
                                                    "callee": {
                                                        "type": "slot",
                                                        "kind": "attr",
                                                        "base": {
                                                            "type": "slot",
                                                            "kind": "cell",
                                                            "index": 2
                                                        },
                                                        "name": "update",
                                                        "loc": [
                                                            12,
                                                            333,
                                                            23,
                                                            333,
                                                            0
                                                        ]
                                                    },
                                                    "args": [
                                                        {
                                                            "type": "slot",
                                                            "kind": "cell",
                                                            "index": 1
                                                        }
                                                    ],
                                                    "loc": [12, 333, 33, 333, 0]
                                                },
                                                {
                                                    "type": "return",
                                                    "value": {
                                                        "type": "slot",
                                                        "kind": "cell",
                                                        "index": 2
                                                    }
                                                }
                                            ],
                                            "loc": [8, 320, 23, 334, 0]
                                        }
                                    ],
                                    "default": [],
                                    "loc": [8, 317, 23, 334, 0]
                                }
                            ],
                            "loc": [23, 316, 23, 334, 0]
                        }
                    },
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "cell", "index": 1},
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "cell",
                                "index": 0
                            },
                            "args": [
                                {"type": "slot", "kind": "local", "index": 1}
                            ],
                            "loc": [11, 336, 32, 336, 0]
                        }
                    },
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "cell", "index": 2},
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "global",
                                "name": "dict",
                                "loc": [14, 338, 18, 338, 0]
                            },
                            "args": [],
                            "loc": [14, 338, 20, 338, 0]
                        }
                    },
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "cell", "index": 3},
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "global",
                                "name": "dict",
                                "loc": [17, 339, 21, 339, 0]
                            },
                            "args": [],
                            "loc": [17, 339, 23, 339, 0]
                        }
                    },
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "cell", "index": 4},
                        "value": {
                            "type": "closure",
                            "cellvars": [
                                {
                                    "type": "cell",
                                    "deref": true,
                                    "name": "reduce_subset",
                                    "defs": 1
                                }
                            ],
                            "localvars": [
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "port",
                                    "defs": 1
                                }
                            ],
                            "frame": [5],
                            "args": [
                                {
                                    "slot": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 0
                                    }
                                }
                            ],
                            "body": [
                                {
                                    "type": "return",
                                    "value": {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "cell",
                                            "index": 0
                                        },
                                        "args": [
                                            {
                                                "type": "slot",
                                                "kind": "attr",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 0
                                                },
                                                "name": "pol",
                                                "loc": [29, 342, 37, 342, 0]
                                            },
                                            {
                                                "type": "call",
                                                "callee": {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "set",
                                                    "loc": [39, 342, 42, 342, 0]
                                                },
                                                "args": [
                                                    {
                                                        "type": "list",
                                                        "values": [
                                                            {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 0
                                                            }
                                                        ]
                                                    }
                                                ],
                                                "loc": [39, 342, 50, 342, 0]
                                            }
                                        ],
                                        "loc": [15, 342, 51, 342, 0]
                                    }
                                }
                            ],
                            "loc": [23, 341, 51, 342, 0]
                        }
                    },
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "cell", "index": 5},
                        "value": {
                            "type": "closure",
                            "cellvars": [
                                {
                                    "type": "cell",
                                    "deref": true,
                                    "name": "subsets",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": true,
                                    "name": "free",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": true,
                                    "name": "reduce_site_port",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": true,
                                    "name": "membership",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": true,
                                    "name": "reduce_subset",
                                    "defs": 1
                                }
                            ],
                            "localvars": [
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "pol",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "subset",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "s",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "transitions",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "n",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "head",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "index",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "site",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "n_site",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "_",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "edge",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "ws",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "w",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "edge",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "ws",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "extern",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "w",
                                    "defs": 1
                                }
                            ],
                            "frame": [2, 1, 4, 3, 5],
                            "args": [
                                {
                                    "slot": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 0
                                    }
                                },
                                {
                                    "slot": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 1
                                    }
                                }
                            ],
                            "body": [
                                {
                                    "type": "cond",
                                    "cond": {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "in",
                                            "loc": [11, 344, 28, 344, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 1
                                            },
                                            {
                                                "type": "slot",
                                                "kind": "cell",
                                                "index": 0
                                            }
                                        ],
                                        "loc": [11, 344, 28, 344, 0]
                                    },
                                    "tbody": [
                                        {
                                            "type": "return",
                                            "value": {
                                                "type": "slot",
                                                "kind": "item",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "cell",
                                                    "index": 0
                                                },
                                                "index": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 1
                                                },
                                                "loc": [19, 345, 34, 345, 0]
                                            }
                                        }
                                    ],
                                    "fbody": [],
                                    "loc": [8, 344, 34, 345, 0]
                                },
                                {
                                    "type": "assign",
                                    "slot": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 2
                                    },
                                    "value": {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "fresh_state",
                                            "loc": [12, 346, 23, 346, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 0
                                            }
                                        ],
                                        "loc": [12, 346, 28, 346, 0]
                                    }
                                },
                                {
                                    "type": "assign",
                                    "slot": {
                                        "type": "slot",
                                        "kind": "item",
                                        "base": {
                                            "type": "slot",
                                            "kind": "cell",
                                            "index": 0
                                        },
                                        "index": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 1
                                        },
                                        "loc": [8, 347, 23, 347, 0]
                                    },
                                    "value": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 2
                                    }
                                },
                                {
                                    "type": "assign",
                                    "slot": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 3
                                    },
                                    "value": {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "dict",
                                            "loc": [22, 348, 26, 348, 0]
                                        },
                                        "args": [],
                                        "loc": [22, 348, 28, 348, 0]
                                    }
                                },
                                {
                                    "type": "repeat",
                                    "fresh": [],
                                    "heads": [
                                        {
                                            "type": "for",
                                            "slot": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 4
                                            },
                                            "value": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 1
                                            }
                                        }
                                    ],
                                    "body": [
                                        {
                                            "type": "assert",
                                            "cond": {
                                                "type": "not",
                                                "value": {
                                                    "type": "call",
                                                    "callee": {
                                                        "type": "slot",
                                                        "kind": "global",
                                                        "name": "in",
                                                        "loc": [
                                                            19,
                                                            350,
                                                            32,
                                                            350,
                                                            0
                                                        ]
                                                    },
                                                    "args": [
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 4
                                                        },
                                                        {
                                                            "type": "slot",
                                                            "kind": "cell",
                                                            "index": 1
                                                        }
                                                    ],
                                                    "loc": [19, 350, 32, 350, 0]
                                                },
                                                "loc": [19, 350, 32, 350, 0]
                                            },
                                            "value": {
                                                "type": "literal",
                                                "kind": "string",
                                                "value": "bug: subset must not contain free states"
                                            },
                                            "loc": [12, 350, 78, 350, 0]
                                        },
                                        {
                                            "type": "repeat",
                                            "fresh": [],
                                            "heads": [
                                                {
                                                    "type": "for",
                                                    "slot": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 5
                                                    },
                                                    "value": {
                                                        "type": "slot",
                                                        "kind": "attr",
                                                        "base": {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 4
                                                        },
                                                        "name": "heads",
                                                        "loc": [
                                                            24,
                                                            351,
                                                            31,
                                                            351,
                                                            0
                                                        ]
                                                    }
                                                }
                                            ],
                                            "body": [
                                                {
                                                    "type": "case",
                                                    "value": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 5
                                                    },
                                                    "cases": [
                                                        {
                                                            "type": "pattern",
                                                            "pattern": {
                                                                "type": "slot",
                                                                "kind": "global",
                                                                "name": "sink",
                                                                "loc": [
                                                                    16,
                                                                    353,
                                                                    20,
                                                                    353,
                                                                    0
                                                                ]
                                                            },
                                                            "slot": {
                                                                "type": "slot",
                                                                "kind": "tuple",
                                                                "slots": [
                                                                    {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 6
                                                                    },
                                                                    {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 7
                                                                    }
                                                                ],
                                                                "loc": [
                                                                    16,
                                                                    353,
                                                                    52,
                                                                    355,
                                                                    0
                                                                ]
                                                            },
                                                            "body": [
                                                                {
                                                                    "type": "assign",
                                                                    "slot": {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 8
                                                                    },
                                                                    "value": {
                                                                        "type": "call",
                                                                        "callee": {
                                                                            "type": "slot",
                                                                            "kind": "attr",
                                                                            "base": {
                                                                                "type": "slot",
                                                                                "kind": "local",
                                                                                "index": 7
                                                                            },
                                                                            "name": "transfer",
                                                                            "loc": [
                                                                                29,
                                                                                354,
                                                                                42,
                                                                                354,
                                                                                0
                                                                            ]
                                                                        },
                                                                        "args": [
                                                                            {
                                                                                "type": "slot",
                                                                                "kind": "cell",
                                                                                "index": 2
                                                                            }
                                                                        ],
                                                                        "loc": [
                                                                            29,
                                                                            354,
                                                                            60,
                                                                            354,
                                                                            0
                                                                        ]
                                                                    }
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "callee": {
                                                                        "type": "slot",
                                                                        "kind": "attr",
                                                                        "base": {
                                                                            "type": "slot",
                                                                            "kind": "attr",
                                                                            "base": {
                                                                                "type": "slot",
                                                                                "kind": "local",
                                                                                "index": 2
                                                                            },
                                                                            "name": "heads",
                                                                            "loc": [
                                                                                20,
                                                                                355,
                                                                                27,
                                                                                355,
                                                                                0
                                                                            ]
                                                                        },
                                                                        "name": "add",
                                                                        "loc": [
                                                                            20,
                                                                            355,
                                                                            31,
                                                                            355,
                                                                            0
                                                                        ]
                                                                    },
                                                                    "args": [
                                                                        {
                                                                            "type": "call",
                                                                            "callee": {
                                                                                "type": "slot",
                                                                                "kind": "global",
                                                                                "name": "sink",
                                                                                "loc": [
                                                                                    32,
                                                                                    355,
                                                                                    36,
                                                                                    355,
                                                                                    0
                                                                                ]
                                                                            },
                                                                            "args": [
                                                                                {
                                                                                    "type": "slot",
                                                                                    "kind": "local",
                                                                                    "index": 6
                                                                                },
                                                                                {
                                                                                    "type": "slot",
                                                                                    "kind": "local",
                                                                                    "index": 8
                                                                                }
                                                                            ],
                                                                            "loc": [
                                                                                32,
                                                                                355,
                                                                                51,
                                                                                355,
                                                                                0
                                                                            ]
                                                                        }
                                                                    ],
                                                                    "loc": [
                                                                        20,
                                                                        355,
                                                                        52,
                                                                        355,
                                                                        0
                                                                    ]
                                                                }
                                                            ],
                                                            "loc": [
                                                                16,
                                                                353,
                                                                52,
                                                                355,
                                                                0
                                                            ]
                                                        },
                                                        {
                                                            "type": "pattern",
                                                            "pattern": {
                                                                "type": "slot",
                                                                "kind": "global",
                                                                "name": "faucet",
                                                                "loc": [
                                                                    16,
                                                                    356,
                                                                    22,
                                                                    356,
                                                                    0
                                                                ]
                                                            },
                                                            "slot": {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 9
                                                            },
                                                            "body": [
                                                                {
                                                                    "type": "call",
                                                                    "callee": {
                                                                        "type": "slot",
                                                                        "kind": "attr",
                                                                        "base": {
                                                                            "type": "slot",
                                                                            "kind": "attr",
                                                                            "base": {
                                                                                "type": "slot",
                                                                                "kind": "local",
                                                                                "index": 2
                                                                            },
                                                                            "name": "heads",
                                                                            "loc": [
                                                                                20,
                                                                                357,
                                                                                27,
                                                                                357,
                                                                                0
                                                                            ]
                                                                        },
                                                                        "name": "add",
                                                                        "loc": [
                                                                            20,
                                                                            357,
                                                                            31,
                                                                            357,
                                                                            0
                                                                        ]
                                                                    },
                                                                    "args": [
                                                                        {
                                                                            "type": "slot",
                                                                            "kind": "local",
                                                                            "index": 5
                                                                        }
                                                                    ],
                                                                    "loc": [
                                                                        20,
                                                                        357,
                                                                        37,
                                                                        357,
                                                                        0
                                                                    ]
                                                                }
                                                            ],
                                                            "loc": [
                                                                16,
                                                                356,
                                                                37,
                                                                357,
                                                                0
                                                            ]
                                                        }
                                                    ],
                                                    "default": [],
                                                    "loc": [16, 352, 37, 357, 0]
                                                }
                                            ]
                                        },
                                        {
                                            "type": "except",
                                            "body": [
                                                {
                                                    "type": "call",
                                                    "callee": {
                                                        "type": "slot",
                                                        "kind": "attr",
                                                        "base": {
                                                            "type": "slot",
                                                            "kind": "item",
                                                            "base": {
                                                                "type": "slot",
                                                                "kind": "cell",
                                                                "index": 3
                                                            },
                                                            "index": {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 4
                                                            },
                                                            "loc": [
                                                                12,
                                                                358,
                                                                25,
                                                                358,
                                                                0
                                                            ]
                                                        },
                                                        "name": "append",
                                                        "loc": [
                                                            12,
                                                            358,
                                                            32,
                                                            358,
                                                            0
                                                        ]
                                                    },
                                                    "args": [
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 2
                                                        }
                                                    ],
                                                    "loc": [12, 358, 35, 358, 0]
                                                }
                                            ],
                                            "excepts": [
                                                {
                                                    "exc": {
                                                        "type": "slot",
                                                        "kind": "global",
                                                        "name": "NoIndex",
                                                        "loc": [
                                                            19,
                                                            359,
                                                            26,
                                                            359,
                                                            0
                                                        ]
                                                    },
                                                    "body": [
                                                        {
                                                            "type": "assign",
                                                            "slot": {
                                                                "type": "slot",
                                                                "kind": "item",
                                                                "base": {
                                                                    "type": "slot",
                                                                    "kind": "cell",
                                                                    "index": 3
                                                                },
                                                                "index": {
                                                                    "type": "slot",
                                                                    "kind": "local",
                                                                    "index": 4
                                                                },
                                                                "loc": [
                                                                    16,
                                                                    360,
                                                                    29,
                                                                    360,
                                                                    0
                                                                ]
                                                            },
                                                            "value": {
                                                                "type": "list",
                                                                "values": [
                                                                    {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 2
                                                                    }
                                                                ]
                                                            }
                                                        }
                                                    ]
                                                }
                                            ],
                                            "loc": [12, 358, 35, 360, 0]
                                        },
                                        {
                                            "type": "repeat",
                                            "fresh": [],
                                            "heads": [
                                                {
                                                    "type": "for",
                                                    "slot": {
                                                        "type": "slot",
                                                        "kind": "tuple",
                                                        "slots": [
                                                            {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 10
                                                            },
                                                            {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 11
                                                            }
                                                        ],
                                                        "loc": [
                                                            16,
                                                            361,
                                                            24,
                                                            361,
                                                            0
                                                        ]
                                                    },
                                                    "value": {
                                                        "type": "slot",
                                                        "kind": "attr",
                                                        "base": {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 4
                                                        },
                                                        "name": "transitions",
                                                        "loc": [
                                                            28,
                                                            361,
                                                            41,
                                                            361,
                                                            0
                                                        ]
                                                    }
                                                },
                                                {
                                                    "type": "for",
                                                    "slot": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 12
                                                    },
                                                    "value": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 11
                                                    }
                                                }
                                            ],
                                            "body": [
                                                {
                                                    "type": "except",
                                                    "body": [
                                                        {
                                                            "type": "call",
                                                            "callee": {
                                                                "type": "slot",
                                                                "kind": "attr",
                                                                "base": {
                                                                    "type": "slot",
                                                                    "kind": "item",
                                                                    "base": {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 3
                                                                    },
                                                                    "index": {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 10
                                                                    },
                                                                    "loc": [
                                                                        16,
                                                                        363,
                                                                        33,
                                                                        363,
                                                                        0
                                                                    ]
                                                                },
                                                                "name": "add",
                                                                "loc": [
                                                                    16,
                                                                    363,
                                                                    37,
                                                                    363,
                                                                    0
                                                                ]
                                                            },
                                                            "args": [
                                                                {
                                                                    "type": "slot",
                                                                    "kind": "local",
                                                                    "index": 12
                                                                }
                                                            ],
                                                            "loc": [
                                                                16,
                                                                363,
                                                                40,
                                                                363,
                                                                0
                                                            ]
                                                        }
                                                    ],
                                                    "excepts": [
                                                        {
                                                            "exc": {
                                                                "type": "slot",
                                                                "kind": "global",
                                                                "name": "NoIndex",
                                                                "loc": [
                                                                    23,
                                                                    364,
                                                                    30,
                                                                    364,
                                                                    0
                                                                ]
                                                            },
                                                            "body": [
                                                                {
                                                                    "type": "assign",
                                                                    "slot": {
                                                                        "type": "slot",
                                                                        "kind": "item",
                                                                        "base": {
                                                                            "type": "slot",
                                                                            "kind": "local",
                                                                            "index": 3
                                                                        },
                                                                        "index": {
                                                                            "type": "slot",
                                                                            "kind": "local",
                                                                            "index": 10
                                                                        },
                                                                        "loc": [
                                                                            20,
                                                                            365,
                                                                            37,
                                                                            365,
                                                                            0
                                                                        ]
                                                                    },
                                                                    "value": {
                                                                        "type": "call",
                                                                        "callee": {
                                                                            "type": "slot",
                                                                            "kind": "global",
                                                                            "name": "set",
                                                                            "loc": [
                                                                                40,
                                                                                365,
                                                                                43,
                                                                                365,
                                                                                0
                                                                            ]
                                                                        },
                                                                        "args": [
                                                                            {
                                                                                "type": "list",
                                                                                "values": [
                                                                                    {
                                                                                        "type": "slot",
                                                                                        "kind": "local",
                                                                                        "index": 12
                                                                                    }
                                                                                ]
                                                                            }
                                                                        ],
                                                                        "loc": [
                                                                            40,
                                                                            365,
                                                                            48,
                                                                            365,
                                                                            0
                                                                        ]
                                                                    }
                                                                }
                                                            ]
                                                        }
                                                    ],
                                                    "loc": [16, 363, 48, 365, 0]
                                                }
                                            ]
                                        }
                                    ]
                                },
                                {
                                    "type": "repeat",
                                    "fresh": [],
                                    "heads": [
                                        {
                                            "type": "for",
                                            "slot": {
                                                "type": "slot",
                                                "kind": "tuple",
                                                "slots": [
                                                    {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 13
                                                    },
                                                    {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 14
                                                    }
                                                ],
                                                "loc": [12, 367, 20, 367, 0]
                                            },
                                            "value": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 3
                                            }
                                        }
                                    ],
                                    "body": [
                                        {
                                            "type": "assign",
                                            "slot": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 15
                                            },
                                            "value": {
                                                "type": "call",
                                                "callee": {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "set",
                                                    "loc": [21, 368, 24, 368, 0]
                                                },
                                                "args": [],
                                                "loc": [21, 368, 26, 368, 0]
                                            }
                                        },
                                        {
                                            "type": "repeat",
                                            "fresh": [],
                                            "heads": [
                                                {
                                                    "type": "for",
                                                    "slot": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 16
                                                    },
                                                    "value": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 14
                                                    }
                                                },
                                                {
                                                    "type": "if",
                                                    "cond": {
                                                        "type": "call",
                                                        "callee": {
                                                            "type": "slot",
                                                            "kind": "global",
                                                            "name": "in",
                                                            "loc": [
                                                                27,
                                                                369,
                                                                36,
                                                                369,
                                                                0
                                                            ]
                                                        },
                                                        "args": [
                                                            {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 16
                                                            },
                                                            {
                                                                "type": "slot",
                                                                "kind": "cell",
                                                                "index": 1
                                                            }
                                                        ],
                                                        "loc": [
                                                            27,
                                                            369,
                                                            36,
                                                            369,
                                                            0
                                                        ]
                                                    }
                                                }
                                            ],
                                            "body": [
                                                {
                                                    "type": "call",
                                                    "callee": {
                                                        "type": "slot",
                                                        "kind": "attr",
                                                        "base": {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 15
                                                        },
                                                        "name": "add",
                                                        "loc": [
                                                            16,
                                                            370,
                                                            26,
                                                            370,
                                                            0
                                                        ]
                                                    },
                                                    "args": [
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 16
                                                        }
                                                    ],
                                                    "loc": [16, 370, 29, 370, 0]
                                                }
                                            ]
                                        },
                                        {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "attr",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 14
                                                },
                                                "name": "difference_update",
                                                "loc": [12, 371, 32, 371, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 15
                                                }
                                            ],
                                            "loc": [12, 371, 40, 371, 0]
                                        },
                                        {
                                            "type": "assign",
                                            "slot": {
                                                "type": "slot",
                                                "kind": "item",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "attr",
                                                    "base": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 2
                                                    },
                                                    "name": "transitions",
                                                    "loc": [12, 372, 25, 372, 0]
                                                },
                                                "index": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 13
                                                },
                                                "loc": [12, 372, 31, 372, 0]
                                            },
                                            "value": {
                                                "type": "call",
                                                "callee": {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "|",
                                                    "loc": [34, 372, 81, 372, 0]
                                                },
                                                "args": [
                                                    {
                                                        "type": "call",
                                                        "callee": {
                                                            "type": "slot",
                                                            "kind": "global",
                                                            "name": "set",
                                                            "loc": [
                                                                34,
                                                                372,
                                                                37,
                                                                372,
                                                                0
                                                            ]
                                                        },
                                                        "args": [
                                                            {
                                                                "type": "list",
                                                                "values": [
                                                                    {
                                                                        "type": "call",
                                                                        "callee": {
                                                                            "type": "slot",
                                                                            "kind": "cell",
                                                                            "index": 4
                                                                        },
                                                                        "args": [
                                                                            {
                                                                                "type": "call",
                                                                                "callee": {
                                                                                    "type": "slot",
                                                                                    "kind": "global",
                                                                                    "name": "*",
                                                                                    "loc": [
                                                                                        53,
                                                                                        372,
                                                                                        65,
                                                                                        372,
                                                                                        0
                                                                                    ]
                                                                                },
                                                                                "args": [
                                                                                    {
                                                                                        "type": "slot",
                                                                                        "kind": "local",
                                                                                        "index": 0
                                                                                    },
                                                                                    {
                                                                                        "type": "slot",
                                                                                        "kind": "attr",
                                                                                        "base": {
                                                                                            "type": "slot",
                                                                                            "kind": "local",
                                                                                            "index": 13
                                                                                        },
                                                                                        "name": "pol",
                                                                                        "loc": [
                                                                                            57,
                                                                                            372,
                                                                                            65,
                                                                                            372,
                                                                                            0
                                                                                        ]
                                                                                    }
                                                                                ],
                                                                                "loc": [
                                                                                    53,
                                                                                    372,
                                                                                    65,
                                                                                    372,
                                                                                    0
                                                                                ]
                                                                            },
                                                                            {
                                                                                "type": "slot",
                                                                                "kind": "local",
                                                                                "index": 14
                                                                            }
                                                                        ],
                                                                        "loc": [
                                                                            39,
                                                                            372,
                                                                            70,
                                                                            372,
                                                                            0
                                                                        ]
                                                                    }
                                                                ]
                                                            }
                                                        ],
                                                        "loc": [
                                                            34,
                                                            372,
                                                            72,
                                                            372,
                                                            0
                                                        ]
                                                    },
                                                    {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 15
                                                    }
                                                ],
                                                "loc": [34, 372, 81, 372, 0]
                                            }
                                        }
                                    ]
                                },
                                {
                                    "type": "return",
                                    "value": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 2
                                    }
                                }
                            ],
                            "loc": [20, 343, 16, 373, 0]
                        }
                    },
                    {
                        "type": "cond",
                        "cond": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "global",
                                "name": "in",
                                "loc": [7, 375, 19, 375, 0]
                            },
                            "args": [
                                {"type": "slot", "kind": "local", "index": 0},
                                {"type": "slot", "kind": "cell", "index": 1}
                            ],
                            "loc": [7, 375, 19, 375, 0]
                        },
                        "tbody": [
                            {
                                "type": "return",
                                "value": {
                                    "type": "record",
                                    "fields": [
                                        {
                                            "name": "generic",
                                            "mutable": false,
                                            "value": {
                                                "type": "call",
                                                "callee": {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "set",
                                                    "loc": [24, 376, 27, 376, 0]
                                                },
                                                "args": [],
                                                "loc": [24, 376, 29, 376, 0]
                                            }
                                        },
                                        {
                                            "name": "root",
                                            "mutable": false,
                                            "value": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 0
                                            }
                                        }
                                    ]
                                }
                            }
                        ],
                        "fbody": [],
                        "loc": [4, 375, 41, 376, 0]
                    },
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "local", "index": 0},
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "cell",
                                "index": 5
                            },
                            "args": [
                                {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 0
                                    },
                                    "name": "pol",
                                    "loc": [25, 377, 33, 377, 0]
                                },
                                {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "set",
                                        "loc": [35, 377, 38, 377, 0]
                                    },
                                    "args": [
                                        {
                                            "type": "list",
                                            "values": [
                                                {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 0
                                                }
                                            ]
                                        }
                                    ],
                                    "loc": [35, 377, 46, 377, 0]
                                }
                            ],
                            "loc": [11, 377, 47, 377, 0]
                        }
                    },
                    {
                        "type": "repeat",
                        "fresh": [],
                        "heads": [
                            {
                                "type": "for",
                                "slot": {
                                    "type": "slot",
                                    "kind": "tuple",
                                    "slots": [
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 2
                                        },
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 3
                                        }
                                    ],
                                    "loc": [8, 378, 17, 378, 0]
                                },
                                "value": {
                                    "type": "slot",
                                    "kind": "cell",
                                    "index": 3
                                }
                            }
                        ],
                        "body": [
                            {
                                "type": "cond",
                                "cond": {
                                    "type": "cmp",
                                    "exprs": [
                                        {
                                            "type": "slot",
                                            "kind": "attr",
                                            "base": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 2
                                            },
                                            "name": "pol",
                                            "loc": [11, 379, 20, 379, 0]
                                        },
                                        {
                                            "type": "literal",
                                            "kind": "integer",
                                            "value": "0"
                                        }
                                    ],
                                    "ops": [
                                        {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": ">",
                                            "loc": [11, 379, 24, 379, 0]
                                        }
                                    ],
                                    "loc": [11, 379, 24, 379, 0]
                                },
                                "tbody": [{"type": "continue"}],
                                "fbody": [],
                                "loc": [8, 379, 38, 379, 0]
                            },
                            {
                                "type": "repeat",
                                "fresh": [],
                                "heads": [
                                    {
                                        "type": "for",
                                        "slot": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 4
                                        },
                                        "value": {
                                            "type": "slot",
                                            "kind": "attr",
                                            "base": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 2
                                            },
                                            "name": "flow",
                                            "loc": [17, 380, 27, 380, 0]
                                        }
                                    }
                                ],
                                "body": [
                                    {
                                        "type": "assert",
                                        "cond": {
                                            "type": "not",
                                            "value": {
                                                "type": "call",
                                                "callee": {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "in",
                                                    "loc": [19, 381, 32, 381, 0]
                                                },
                                                "args": [
                                                    {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 4
                                                    },
                                                    {
                                                        "type": "slot",
                                                        "kind": "cell",
                                                        "index": 1
                                                    }
                                                ],
                                                "loc": [19, 381, 32, 381, 0]
                                            },
                                            "loc": [19, 381, 32, 381, 0]
                                        },
                                        "value": {
                                            "type": "literal",
                                            "kind": "string",
                                            "value": "bug: free state that is not marked free"
                                        },
                                        "loc": [12, 381, 77, 381, 0]
                                    },
                                    {
                                        "type": "assign",
                                        "slot": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 5
                                        },
                                        "value": {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "attr",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "cell",
                                                    "index": 3
                                                },
                                                "name": "get",
                                                "loc": [17, 382, 31, 382, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 4
                                                },
                                                {"type": "list", "values": []}
                                            ],
                                            "loc": [17, 382, 38, 382, 0]
                                        }
                                    },
                                    {
                                        "type": "repeat",
                                        "fresh": [],
                                        "heads": [
                                            {
                                                "type": "for",
                                                "slot": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 6
                                                },
                                                "value": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 3
                                                }
                                            },
                                            {
                                                "type": "for",
                                                "slot": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 7
                                                },
                                                "value": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 5
                                                }
                                            }
                                        ],
                                        "body": [
                                            {
                                                "type": "call",
                                                "callee": {
                                                    "type": "slot",
                                                    "kind": "attr",
                                                    "base": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 6
                                                    },
                                                    "name": "add_flow",
                                                    "loc": [16, 384, 26, 384, 0]
                                                },
                                                "args": [
                                                    {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 7
                                                    }
                                                ],
                                                "loc": [16, 384, 29, 384, 0]
                                            }
                                        ]
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "type": "return",
                        "value": {
                            "type": "record",
                            "fields": [
                                {
                                    "name": "generic",
                                    "mutable": false,
                                    "value": {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "set",
                                            "loc": [20, 385, 23, 385, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "call",
                                                "callee": {
                                                    "type": "slot",
                                                    "kind": "attr",
                                                    "base": {
                                                        "type": "slot",
                                                        "kind": "cell",
                                                        "index": 2
                                                    },
                                                    "name": "values",
                                                    "loc": [24, 385, 38, 385, 0]
                                                },
                                                "args": [],
                                                "loc": [24, 385, 40, 385, 0]
                                            }
                                        ],
                                        "loc": [20, 385, 41, 385, 0]
                                    }
                                },
                                {
                                    "name": "root",
                                    "mutable": false,
                                    "value": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 0
                                    }
                                }
                            ]
                        }
                    }
                ],
                "loc": [13, 315, 53, 385, 0]
            }
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "instantiate_type",
                "loc": [0, 387, 16, 387, 0]
            },
            "value": {
                "type": "closure",
                "cellvars": [
                    {"type": "cell", "deref": true, "name": "scheme", "defs": 1
                    },
                    {
                        "type": "cell",
                        "deref": true,
                        "name": "mapping",
                        "defs": 1
                    },
                    {
                        "type": "cell",
                        "deref": true,
                        "name": "copy_state",
                        "defs": 1
                    }
                ],
                "localvars": [
                    {"type": "cell", "deref": false, "name": "root", "defs": 1}
                ],
                "frame": [],
                "args": [{"slot": {"type": "slot", "kind": "cell", "index": 0}}
                ],
                "body": [
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "cell", "index": 1},
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "global",
                                "name": "dict",
                                "loc": [14, 388, 18, 388, 0]
                            },
                            "args": [],
                            "loc": [14, 388, 20, 388, 0]
                        }
                    },
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "cell", "index": 2},
                        "value": {
                            "type": "closure",
                            "cellvars": [
                                {
                                    "type": "cell",
                                    "deref": true,
                                    "name": "scheme",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": true,
                                    "name": "mapping",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": true,
                                    "name": "copy_state",
                                    "defs": 1
                                }
                            ],
                            "localvars": [
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "n",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "m",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "head",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "index",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "site",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "n_site",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "_",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "w",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "edge",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "ws",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "w",
                                    "defs": 1
                                }
                            ],
                            "frame": [0, 1, 2],
                            "args": [
                                {
                                    "slot": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 0
                                    }
                                }
                            ],
                            "body": [
                                {
                                    "type": "cond",
                                    "cond": {
                                        "type": "not",
                                        "value": {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "in",
                                                "loc": [11, 390, 34, 390, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 0
                                                },
                                                {
                                                    "type": "slot",
                                                    "kind": "attr",
                                                    "base": {
                                                        "type": "slot",
                                                        "kind": "cell",
                                                        "index": 0
                                                    },
                                                    "name": "generic",
                                                    "loc": [20, 390, 34, 390, 0]
                                                }
                                            ],
                                            "loc": [11, 390, 34, 390, 0]
                                        },
                                        "loc": [11, 390, 34, 390, 0]
                                    },
                                    "tbody": [
                                        {
                                            "type": "return",
                                            "value": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 0
                                            }
                                        }
                                    ],
                                    "fbody": [],
                                    "loc": [8, 390, 48, 390, 0]
                                },
                                {
                                    "type": "except",
                                    "body": [
                                        {
                                            "type": "return",
                                            "value": {
                                                "type": "slot",
                                                "kind": "item",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "cell",
                                                    "index": 1
                                                },
                                                "index": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 0
                                                },
                                                "loc": [15, 391, 25, 391, 0]
                                            }
                                        }
                                    ],
                                    "excepts": [
                                        {
                                            "exc": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "KeyError",
                                                "loc": [15, 392, 23, 392, 0]
                                            },
                                            "body": [
                                                {
                                                    "type": "assign",
                                                    "slot": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 1
                                                    },
                                                    "value": {
                                                        "type": "call",
                                                        "callee": {
                                                            "type": "slot",
                                                            "kind": "global",
                                                            "name": "fresh_state",
                                                            "loc": [
                                                                16,
                                                                393,
                                                                27,
                                                                393,
                                                                0
                                                            ]
                                                        },
                                                        "args": [
                                                            {
                                                                "type": "slot",
                                                                "kind": "attr",
                                                                "base": {
                                                                    "type": "slot",
                                                                    "kind": "local",
                                                                    "index": 0
                                                                },
                                                                "name": "pol",
                                                                "loc": [
                                                                    28,
                                                                    393,
                                                                    33,
                                                                    393,
                                                                    0
                                                                ]
                                                            }
                                                        ],
                                                        "loc": [
                                                            16,
                                                            393,
                                                            34,
                                                            393,
                                                            0
                                                        ]
                                                    }
                                                },
                                                {
                                                    "type": "assign",
                                                    "slot": {
                                                        "type": "slot",
                                                        "kind": "item",
                                                        "base": {
                                                            "type": "slot",
                                                            "kind": "cell",
                                                            "index": 1
                                                        },
                                                        "index": {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 0
                                                        },
                                                        "loc": [
                                                            12,
                                                            394,
                                                            22,
                                                            394,
                                                            0
                                                        ]
                                                    },
                                                    "value": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 1
                                                    }
                                                },
                                                {
                                                    "type": "repeat",
                                                    "fresh": [],
                                                    "heads": [
                                                        {
                                                            "type": "for",
                                                            "slot": {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 2
                                                            },
                                                            "value": {
                                                                "type": "slot",
                                                                "kind": "attr",
                                                                "base": {
                                                                    "type": "slot",
                                                                    "kind": "local",
                                                                    "index": 0
                                                                },
                                                                "name": "heads",
                                                                "loc": [
                                                                    24,
                                                                    395,
                                                                    31,
                                                                    395,
                                                                    0
                                                                ]
                                                            }
                                                        }
                                                    ],
                                                    "body": [
                                                        {
                                                            "type": "case",
                                                            "value": {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 2
                                                            },
                                                            "cases": [
                                                                {
                                                                    "type": "pattern",
                                                                    "pattern": {
                                                                        "type": "slot",
                                                                        "kind": "global",
                                                                        "name": "sink",
                                                                        "loc": [
                                                                            16,
                                                                            397,
                                                                            20,
                                                                            397,
                                                                            0
                                                                        ]
                                                                    },
                                                                    "slot": {
                                                                        "type": "slot",
                                                                        "kind": "tuple",
                                                                        "slots": [
                                                                            {
                                                                                "type": "slot",
                                                                                "kind": "local",
                                                                                "index": 3
                                                                            },
                                                                            {
                                                                                "type": "slot",
                                                                                "kind": "local",
                                                                                "index": 4
                                                                            }
                                                                        ],
                                                                        "loc": [
                                                                            16,
                                                                            397,
                                                                            52,
                                                                            399,
                                                                            0
                                                                        ]
                                                                    },
                                                                    "body": [
                                                                        {
                                                                            "type": "assign",
                                                                            "slot": {
                                                                                "type": "slot",
                                                                                "kind": "local",
                                                                                "index": 5
                                                                            },
                                                                            "value": {
                                                                                "type": "call",
                                                                                "callee": {
                                                                                    "type": "slot",
                                                                                    "kind": "attr",
                                                                                    "base": {
                                                                                        "type": "slot",
                                                                                        "kind": "local",
                                                                                        "index": 4
                                                                                    },
                                                                                    "name": "transfer",
                                                                                    "loc": [
                                                                                        29,
                                                                                        398,
                                                                                        42,
                                                                                        398,
                                                                                        0
                                                                                    ]
                                                                                },
                                                                                "args": [
                                                                                    {
                                                                                        "type": "slot",
                                                                                        "kind": "global",
                                                                                        "name": "reduce_site_port",
                                                                                        "loc": [
                                                                                            43,
                                                                                            398,
                                                                                            59,
                                                                                            398,
                                                                                            0
                                                                                        ]
                                                                                    }
                                                                                ],
                                                                                "loc": [
                                                                                    29,
                                                                                    398,
                                                                                    60,
                                                                                    398,
                                                                                    0
                                                                                ]
                                                                            }
                                                                        },
                                                                        {
                                                                            "type": "call",
                                                                            "callee": {
                                                                                "type": "slot",
                                                                                "kind": "attr",
                                                                                "base": {
                                                                                    "type": "slot",
                                                                                    "kind": "attr",
                                                                                    "base": {
                                                                                        "type": "slot",
                                                                                        "kind": "global",
                                                                                        "name": "s",
                                                                                        "loc": [
                                                                                            20,
                                                                                            399,
                                                                                            21,
                                                                                            399,
                                                                                            0
                                                                                        ]
                                                                                    },
                                                                                    "name": "heads",
                                                                                    "loc": [
                                                                                        20,
                                                                                        399,
                                                                                        27,
                                                                                        399,
                                                                                        0
                                                                                    ]
                                                                                },
                                                                                "name": "add",
                                                                                "loc": [
                                                                                    20,
                                                                                    399,
                                                                                    31,
                                                                                    399,
                                                                                    0
                                                                                ]
                                                                            },
                                                                            "args": [
                                                                                {
                                                                                    "type": "call",
                                                                                    "callee": {
                                                                                        "type": "slot",
                                                                                        "kind": "global",
                                                                                        "name": "sink",
                                                                                        "loc": [
                                                                                            32,
                                                                                            399,
                                                                                            36,
                                                                                            399,
                                                                                            0
                                                                                        ]
                                                                                    },
                                                                                    "args": [
                                                                                        {
                                                                                            "type": "slot",
                                                                                            "kind": "local",
                                                                                            "index": 3
                                                                                        },
                                                                                        {
                                                                                            "type": "slot",
                                                                                            "kind": "local",
                                                                                            "index": 5
                                                                                        }
                                                                                    ],
                                                                                    "loc": [
                                                                                        32,
                                                                                        399,
                                                                                        51,
                                                                                        399,
                                                                                        0
                                                                                    ]
                                                                                }
                                                                            ],
                                                                            "loc": [
                                                                                20,
                                                                                399,
                                                                                52,
                                                                                399,
                                                                                0
                                                                            ]
                                                                        }
                                                                    ],
                                                                    "loc": [
                                                                        16,
                                                                        397,
                                                                        52,
                                                                        399,
                                                                        0
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "pattern",
                                                                    "pattern": {
                                                                        "type": "slot",
                                                                        "kind": "global",
                                                                        "name": "faucet",
                                                                        "loc": [
                                                                            16,
                                                                            400,
                                                                            22,
                                                                            400,
                                                                            0
                                                                        ]
                                                                    },
                                                                    "slot": {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 6
                                                                    },
                                                                    "body": [
                                                                        {
                                                                            "type": "call",
                                                                            "callee": {
                                                                                "type": "slot",
                                                                                "kind": "attr",
                                                                                "base": {
                                                                                    "type": "slot",
                                                                                    "kind": "attr",
                                                                                    "base": {
                                                                                        "type": "slot",
                                                                                        "kind": "global",
                                                                                        "name": "s",
                                                                                        "loc": [
                                                                                            20,
                                                                                            401,
                                                                                            21,
                                                                                            401,
                                                                                            0
                                                                                        ]
                                                                                    },
                                                                                    "name": "heads",
                                                                                    "loc": [
                                                                                        20,
                                                                                        401,
                                                                                        27,
                                                                                        401,
                                                                                        0
                                                                                    ]
                                                                                },
                                                                                "name": "add",
                                                                                "loc": [
                                                                                    20,
                                                                                    401,
                                                                                    31,
                                                                                    401,
                                                                                    0
                                                                                ]
                                                                            },
                                                                            "args": [
                                                                                {
                                                                                    "type": "slot",
                                                                                    "kind": "local",
                                                                                    "index": 2
                                                                                }
                                                                            ],
                                                                            "loc": [
                                                                                20,
                                                                                401,
                                                                                37,
                                                                                401,
                                                                                0
                                                                            ]
                                                                        }
                                                                    ],
                                                                    "loc": [
                                                                        16,
                                                                        400,
                                                                        37,
                                                                        401,
                                                                        0
                                                                    ]
                                                                }
                                                            ],
                                                            "default": [],
                                                            "loc": [
                                                                16,
                                                                396,
                                                                37,
                                                                401,
                                                                0
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "repeat",
                                                    "fresh": [],
                                                    "heads": [
                                                        {
                                                            "type": "for",
                                                            "slot": {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 7
                                                            },
                                                            "value": {
                                                                "type": "slot",
                                                                "kind": "attr",
                                                                "base": {
                                                                    "type": "slot",
                                                                    "kind": "local",
                                                                    "index": 0
                                                                },
                                                                "name": "flow",
                                                                "loc": [
                                                                    21,
                                                                    402,
                                                                    27,
                                                                    402,
                                                                    0
                                                                ]
                                                            }
                                                        }
                                                    ],
                                                    "body": [
                                                        {
                                                            "type": "call",
                                                            "callee": {
                                                                "type": "slot",
                                                                "kind": "attr",
                                                                "base": {
                                                                    "type": "slot",
                                                                    "kind": "attr",
                                                                    "base": {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 1
                                                                    },
                                                                    "name": "flow",
                                                                    "loc": [
                                                                        16,
                                                                        403,
                                                                        22,
                                                                        403,
                                                                        0
                                                                    ]
                                                                },
                                                                "name": "add",
                                                                "loc": [
                                                                    16,
                                                                    403,
                                                                    26,
                                                                    403,
                                                                    0
                                                                ]
                                                            },
                                                            "args": [
                                                                {
                                                                    "type": "call",
                                                                    "callee": {
                                                                        "type": "slot",
                                                                        "kind": "cell",
                                                                        "index": 2
                                                                    },
                                                                    "args": [
                                                                        {
                                                                            "type": "slot",
                                                                            "kind": "local",
                                                                            "index": 7
                                                                        }
                                                                    ],
                                                                    "loc": [
                                                                        27,
                                                                        403,
                                                                        40,
                                                                        403,
                                                                        0
                                                                    ]
                                                                }
                                                            ],
                                                            "loc": [
                                                                16,
                                                                403,
                                                                41,
                                                                403,
                                                                0
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "repeat",
                                                    "fresh": [],
                                                    "heads": [
                                                        {
                                                            "type": "for",
                                                            "slot": {
                                                                "type": "slot",
                                                                "kind": "tuple",
                                                                "slots": [
                                                                    {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 8
                                                                    },
                                                                    {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 9
                                                                    }
                                                                ],
                                                                "loc": [
                                                                    16,
                                                                    404,
                                                                    24,
                                                                    404,
                                                                    0
                                                                ]
                                                            },
                                                            "value": {
                                                                "type": "slot",
                                                                "kind": "attr",
                                                                "base": {
                                                                    "type": "slot",
                                                                    "kind": "local",
                                                                    "index": 0
                                                                },
                                                                "name": "transitions",
                                                                "loc": [
                                                                    28,
                                                                    404,
                                                                    41,
                                                                    404,
                                                                    0
                                                                ]
                                                            }
                                                        }
                                                    ],
                                                    "body": [
                                                        {
                                                            "type": "repeat",
                                                            "fresh": [],
                                                            "heads": [
                                                                {
                                                                    "type": "for",
                                                                    "slot": {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 10
                                                                    },
                                                                    "value": {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 9
                                                                    }
                                                                }
                                                            ],
                                                            "body": [
                                                                {
                                                                    "type": "call",
                                                                    "callee": {
                                                                        "type": "slot",
                                                                        "kind": "attr",
                                                                        "base": {
                                                                            "type": "slot",
                                                                            "kind": "local",
                                                                            "index": 1
                                                                        },
                                                                        "name": "add_transition",
                                                                        "loc": [
                                                                            20,
                                                                            406,
                                                                            36,
                                                                            406,
                                                                            0
                                                                        ]
                                                                    },
                                                                    "args": [
                                                                        {
                                                                            "type": "slot",
                                                                            "kind": "local",
                                                                            "index": 8
                                                                        },
                                                                        {
                                                                            "type": "call",
                                                                            "callee": {
                                                                                "type": "slot",
                                                                                "kind": "cell",
                                                                                "index": 2
                                                                            },
                                                                            "args": [
                                                                                {
                                                                                    "type": "slot",
                                                                                    "kind": "local",
                                                                                    "index": 10
                                                                                }
                                                                            ],
                                                                            "loc": [
                                                                                43,
                                                                                406,
                                                                                56,
                                                                                406,
                                                                                0
                                                                            ]
                                                                        }
                                                                    ],
                                                                    "loc": [
                                                                        20,
                                                                        406,
                                                                        57,
                                                                        406,
                                                                        0
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "return",
                                                    "value": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 1
                                                    }
                                                }
                                            ]
                                        }
                                    ],
                                    "loc": [8, 391, 20, 407, 0]
                                }
                            ],
                            "loc": [17, 389, 20, 407, 0]
                        }
                    },
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "local", "index": 0},
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "cell",
                                "index": 2
                            },
                            "args": [
                                {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "cell",
                                        "index": 0
                                    },
                                    "name": "root",
                                    "loc": [22, 408, 33, 408, 0]
                                }
                            ],
                            "loc": [11, 408, 34, 408, 0]
                        }
                    },
                    {
                        "type": "return",
                        "value": {
                            "type": "record",
                            "fields": [
                                {
                                    "name": "root",
                                    "mutable": false,
                                    "value": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 0
                                    }
                                }
                            ]
                        }
                    }
                ],
                "loc": [19, 387, 23, 409, 0]
            }
        },
        {
            "type": "datatype",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "Env",
                "loc": [9, 412, 12, 412, 0]
            },
            "varc": 2,
            "rows": [
                [
                    {
                        "type": "slot",
                        "kind": "global",
                        "name": "environ",
                        "loc": [22, 412, 29, 412, 0]
                    },
                    4,
                    {"schemes": 0, "locals": 1, "parent": 2, "free": 3},
                    {
                        "type": "closure",
                        "cellvars": [],
                        "localvars": [
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "op",
                                "defs": 1
                            },
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "a",
                                "defs": 1
                            }
                        ],
                        "frame": [],
                        "args": [
                            {
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 0
                                }
                            },
                            {
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 1
                                }
                            }
                        ],
                        "body": [
                            {
                                "type": "return",
                                "value": {
                                    "type": "make_tuple",
                                    "items": [
                                        {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "Dict",
                                                "loc": [13, 413, 17, 413, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "String",
                                                    "loc": [18, 413, 24, 413, 0]
                                                },
                                                {
                                                    "type": "record",
                                                    "fields": [
                                                        {
                                                            "name": "generic",
                                                            "mutable": false,
                                                            "value": {
                                                                "type": "call",
                                                                "callee": {
                                                                    "type": "slot",
                                                                    "kind": "global",
                                                                    "name": "Set",
                                                                    "loc": [
                                                                        36,
                                                                        413,
                                                                        39,
                                                                        413,
                                                                        0
                                                                    ]
                                                                },
                                                                "args": [
                                                                    {
                                                                        "type": "call",
                                                                        "callee": {
                                                                            "type": "slot",
                                                                            "kind": "global",
                                                                            "name": "State",
                                                                            "loc": [
                                                                                40,
                                                                                413,
                                                                                45,
                                                                                413,
                                                                                0
                                                                            ]
                                                                        },
                                                                        "args": [
                                                                            {
                                                                                "type": "slot",
                                                                                "kind": "local",
                                                                                "index": 0
                                                                            },
                                                                            {
                                                                                "type": "slot",
                                                                                "kind": "local",
                                                                                "index": 1
                                                                            }
                                                                        ],
                                                                        "loc": [
                                                                            40,
                                                                            413,
                                                                            52,
                                                                            413,
                                                                            0
                                                                        ]
                                                                    }
                                                                ],
                                                                "loc": [
                                                                    36,
                                                                    413,
                                                                    53,
                                                                    413,
                                                                    0
                                                                ]
                                                            }
                                                        },
                                                        {
                                                            "name": "root",
                                                            "mutable": false,
                                                            "value": {
                                                                "type": "call",
                                                                "callee": {
                                                                    "type": "slot",
                                                                    "kind": "global",
                                                                    "name": "State",
                                                                    "loc": [
                                                                        61,
                                                                        413,
                                                                        66,
                                                                        413,
                                                                        0
                                                                    ]
                                                                },
                                                                "args": [
                                                                    {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 0
                                                                    },
                                                                    {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 1
                                                                    }
                                                                ],
                                                                "loc": [
                                                                    61,
                                                                    413,
                                                                    73,
                                                                    413,
                                                                    0
                                                                ]
                                                            }
                                                        }
                                                    ]
                                                }
                                            ],
                                            "loc": [13, 413, 75, 413, 0]
                                        },
                                        {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "Dict",
                                                "loc": [12, 414, 16, 414, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "String",
                                                    "loc": [17, 414, 23, 414, 0]
                                                },
                                                {
                                                    "type": "record",
                                                    "fields": [
                                                        {
                                                            "name": "input",
                                                            "mutable": false,
                                                            "value": {
                                                                "type": "call",
                                                                "callee": {
                                                                    "type": "slot",
                                                                    "kind": "global",
                                                                    "name": "State",
                                                                    "loc": [
                                                                        33,
                                                                        414,
                                                                        38,
                                                                        414,
                                                                        0
                                                                    ]
                                                                },
                                                                "args": [
                                                                    {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 0
                                                                    },
                                                                    {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 1
                                                                    }
                                                                ],
                                                                "loc": [
                                                                    33,
                                                                    414,
                                                                    44,
                                                                    414,
                                                                    0
                                                                ]
                                                            }
                                                        },
                                                        {
                                                            "name": "output",
                                                            "mutable": false,
                                                            "value": {
                                                                "type": "call",
                                                                "callee": {
                                                                    "type": "slot",
                                                                    "kind": "global",
                                                                    "name": "State",
                                                                    "loc": [
                                                                        54,
                                                                        414,
                                                                        59,
                                                                        414,
                                                                        0
                                                                    ]
                                                                },
                                                                "args": [
                                                                    {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 0
                                                                    },
                                                                    {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 1
                                                                    }
                                                                ],
                                                                "loc": [
                                                                    54,
                                                                    414,
                                                                    66,
                                                                    414,
                                                                    0
                                                                ]
                                                            }
                                                        }
                                                    ]
                                                }
                                            ],
                                            "loc": [12, 414, 68, 414, 0]
                                        },
                                        {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "Env",
                                                "loc": [12, 415, 15, 415, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 0
                                                },
                                                {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 1
                                                }
                                            ],
                                            "loc": [12, 415, 22, 415, 0]
                                        },
                                        {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "Set",
                                                "loc": [10, 416, 13, 416, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "call",
                                                    "callee": {
                                                        "type": "slot",
                                                        "kind": "global",
                                                        "name": "State",
                                                        "loc": [
                                                            14,
                                                            416,
                                                            19,
                                                            416,
                                                            0
                                                        ]
                                                    },
                                                    "args": [
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 0
                                                        },
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 1
                                                        }
                                                    ],
                                                    "loc": [14, 416, 26, 416, 0]
                                                }
                                            ],
                                            "loc": [10, 416, 27, 416, 0]
                                        }
                                    ]
                                }
                            }
                        ],
                        "loc": [0, 412, 27, 424, 0]
                    }
                ],
                [
                    {
                        "type": "slot",
                        "kind": "global",
                        "name": "environ_end",
                        "loc": [31, 416, 42, 416, 0]
                    },
                    0,
                    {},
                    {
                        "type": "closure",
                        "cellvars": [],
                        "localvars": [
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "op",
                                "defs": 1
                            },
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "a",
                                "defs": 1
                            }
                        ],
                        "frame": [],
                        "args": [
                            {
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 0
                                }
                            },
                            {
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 1
                                }
                            }
                        ],
                        "body": [
                            {
                                "type": "return",
                                "value": {"type": "make_tuple", "items": []}
                            }
                        ],
                        "loc": [0, 412, 27, 424, 0]
                    }
                ]
            ],
            "decls": [
                {
                    "type": "method",
                    "op": {
                        "type": "slot",
                        "kind": "global",
                        "name": "getitem",
                        "loc": [7, 417, 14, 417, 0]
                    },
                    "value": {
                        "type": "closure",
                        "cellvars": [],
                        "localvars": [
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "env",
                                "defs": 1
                            },
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "name",
                                "defs": 1
                            },
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "schemes",
                                "defs": 1
                            },
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "locals",
                                "defs": 1
                            },
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "parent",
                                "defs": 1
                            },
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "free",
                                "defs": 1
                            }
                        ],
                        "frame": [],
                        "args": [
                            {
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 0
                                }
                            },
                            {
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 1
                                }
                            }
                        ],
                        "body": [
                            {
                                "type": "case",
                                "value": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 0
                                },
                                "cases": [
                                    {
                                        "type": "pattern",
                                        "pattern": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "environ",
                                            "loc": [4, 419, 11, 419, 0]
                                        },
                                        "slot": {
                                            "type": "slot",
                                            "kind": "tuple",
                                            "slots": [
                                                {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 2
                                                },
                                                {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 3
                                                },
                                                {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 4
                                                },
                                                {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 5
                                                }
                                            ],
                                            "loc": [4, 419, 31, 422, 0]
                                        },
                                        "body": [
                                            {
                                                "type": "except",
                                                "body": [
                                                    {
                                                        "type": "return",
                                                        "value": {
                                                            "type": "slot",
                                                            "kind": "item",
                                                            "base": {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 2
                                                            },
                                                            "index": {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 1
                                                            },
                                                            "loc": [
                                                                15,
                                                                420,
                                                                28,
                                                                420,
                                                                0
                                                            ]
                                                        }
                                                    }
                                                ],
                                                "excepts": [
                                                    {
                                                        "exc": {
                                                            "type": "slot",
                                                            "kind": "global",
                                                            "name": "NoIndex",
                                                            "loc": [
                                                                15,
                                                                421,
                                                                22,
                                                                421,
                                                                0
                                                            ]
                                                        },
                                                        "body": [
                                                            {
                                                                "type": "return",
                                                                "value": {
                                                                    "type": "slot",
                                                                    "kind": "item",
                                                                    "base": {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 4
                                                                    },
                                                                    "index": {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 1
                                                                    },
                                                                    "loc": [
                                                                        19,
                                                                        422,
                                                                        31,
                                                                        422,
                                                                        0
                                                                    ]
                                                                }
                                                            }
                                                        ]
                                                    }
                                                ],
                                                "loc": [8, 420, 31, 422, 0]
                                            }
                                        ],
                                        "loc": [4, 419, 31, 422, 0]
                                    },
                                    {
                                        "type": "constant",
                                        "value": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "environ_end",
                                            "loc": [4, 423, 15, 423, 0]
                                        },
                                        "body": [
                                            {
                                                "type": "return",
                                                "value": {
                                                    "type": "slot",
                                                    "kind": "item",
                                                    "base": {
                                                        "type": "call",
                                                        "callee": {
                                                            "type": "slot",
                                                            "kind": "global",
                                                            "name": "dict",
                                                            "loc": [
                                                                15,
                                                                424,
                                                                19,
                                                                424,
                                                                0
                                                            ]
                                                        },
                                                        "args": [],
                                                        "loc": [
                                                            15,
                                                            424,
                                                            21,
                                                            424,
                                                            0
                                                        ]
                                                    },
                                                    "index": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 1
                                                    },
                                                    "loc": [15, 424, 27, 424, 0]
                                                }
                                            }
                                        ],
                                        "loc": [4, 423, 27, 424, 0]
                                    }
                                ],
                                "default": [],
                                "loc": [4, 418, 27, 424, 0]
                            }
                        ],
                        "loc": [17, 417, 27, 424, 0]
                    }
                }
            ],
            "loc": [0, 412, 27, 424, 0]
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "inference_function",
                "loc": [0, 426, 18, 426, 0]
            },
            "value": {
                "type": "closure",
                "cellvars": [],
                "localvars": [
                    {"type": "cell", "deref": false, "name": "fn", "defs": 1},
                    {"type": "cell", "deref": false, "name": "env", "defs": 2},
                    {
                        "type": "cell",
                        "deref": false,
                        "name": "visited",
                        "defs": 1
                    },
                    {"type": "cell", "deref": false, "name": "head", "defs": 1},
                    {"type": "cell", "deref": false, "name": "info", "defs": 1},
                    {"type": "cell", "deref": false, "name": "out", "defs": 1},
                    {"type": "cell", "deref": false, "name": "i", "defs": 1},
                    {"type": "cell", "deref": false, "name": "arg", "defs": 1},
                    {"type": "cell", "deref": false, "name": "port", "defs": 1},
                    {"type": "cell", "deref": false, "name": "slot", "defs": 1},
                    {
                        "type": "cell",
                        "deref": false,
                        "name": "retval",
                        "defs": 1
                    }
                ],
                "frame": [],
                "args": [
                    {"slot": {"type": "slot", "kind": "local", "index": 0}},
                    {"slot": {"type": "slot", "kind": "local", "index": 1}},
                    {"slot": {"type": "slot", "kind": "local", "index": 2}}
                ],
                "body": [
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "local", "index": 1},
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "global",
                                "name": "environ",
                                "loc": [10, 427, 17, 427, 0]
                            },
                            "args": [
                                {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "dict",
                                        "loc": [18, 427, 22, 427, 0]
                                    },
                                    "args": [],
                                    "loc": [18, 427, 24, 427, 0]
                                },
                                {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "dict",
                                        "loc": [26, 427, 30, 427, 0]
                                    },
                                    "args": [],
                                    "loc": [26, 427, 32, 427, 0]
                                },
                                {"type": "slot", "kind": "local", "index": 1},
                                {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "set",
                                        "loc": [39, 427, 42, 427, 0]
                                    },
                                    "args": [],
                                    "loc": [39, 427, 44, 427, 0]
                                }
                            ],
                            "loc": [10, 427, 45, 427, 0]
                        }
                    },
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "local", "index": 3},
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "global",
                                "name": "face",
                                "loc": [11, 428, 15, 428, 0]
                            },
                            "args": [
                                {"type": "slot", "kind": "local", "index": 0}
                            ],
                            "loc": [11, 428, 19, 428, 0]
                        }
                    },
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "local", "index": 4},
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "global",
                                "name": "inspect",
                                "loc": [11, 429, 18, 429, 0]
                            },
                            "args": [
                                {"type": "slot", "kind": "local", "index": 0}
                            ],
                            "loc": [11, 429, 22, 429, 0]
                        }
                    },
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "local", "index": 5},
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "global",
                                "name": "fresh_state",
                                "loc": [10, 430, 21, 430, 0]
                            },
                            "args": [
                                {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "+expr",
                                        "loc": [22, 430, 24, 430, 0]
                                    },
                                    "args": [
                                        {
                                            "type": "literal",
                                            "kind": "integer",
                                            "value": "1"
                                        }
                                    ],
                                    "loc": [22, 430, 24, 430, 0]
                                }
                            ],
                            "loc": [10, 430, 25, 430, 0]
                        }
                    },
                    {
                        "type": "call",
                        "callee": {
                            "type": "slot",
                            "kind": "attr",
                            "base": {
                                "type": "slot",
                                "kind": "attr",
                                "base": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 5
                                },
                                "name": "heads",
                                "loc": [4, 431, 13, 431, 0]
                            },
                            "name": "add",
                            "loc": [4, 431, 17, 431, 0]
                        },
                        "args": [
                            {
                                "type": "call",
                                "callee": {
                                    "type": "slot",
                                    "kind": "global",
                                    "name": "faucet",
                                    "loc": [18, 431, 24, 431, 0]
                                },
                                "args": [
                                    {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 3
                                    }
                                ],
                                "loc": [18, 431, 30, 431, 0]
                            }
                        ],
                        "loc": [4, 431, 31, 431, 0]
                    },
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "local", "index": 6},
                        "value": {
                            "type": "literal",
                            "kind": "integer",
                            "value": "0"
                        }
                    },
                    {
                        "type": "repeat",
                        "fresh": [],
                        "heads": [
                            {
                                "type": "for",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 7
                                },
                                "value": {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 4
                                    },
                                    "name": "args",
                                    "loc": [15, 433, 24, 433, 0]
                                }
                            }
                        ],
                        "body": [
                            {
                                "type": "assign",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 8
                                },
                                "value": {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "fresh_port",
                                        "loc": [15, 434, 25, 434, 0]
                                    },
                                    "args": [],
                                    "loc": [15, 434, 27, 434, 0]
                                }
                            },
                            {
                                "type": "call",
                                "callee": {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 5
                                    },
                                    "name": "add_transition",
                                    "loc": [8, 435, 26, 435, 0]
                                },
                                "args": [
                                    {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "get_dom",
                                            "loc": [27, 435, 34, 435, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 6
                                            }
                                        ],
                                        "loc": [27, 435, 37, 435, 0]
                                    },
                                    {
                                        "type": "slot",
                                        "kind": "attr",
                                        "base": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 8
                                        },
                                        "name": "input",
                                        "loc": [39, 435, 49, 435, 0]
                                    }
                                ],
                                "loc": [8, 435, 50, 435, 0]
                            },
                            {
                                "type": "assign",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 9
                                },
                                "value": {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "inference_slot",
                                        "loc": [15, 436, 29, 436, 0]
                                    },
                                    "args": [
                                        {
                                            "type": "slot",
                                            "kind": "item",
                                            "base": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 7
                                            },
                                            "index": {
                                                "type": "literal",
                                                "kind": "string",
                                                "value": "slot"
                                            },
                                            "loc": [30, 436, 41, 436, 0]
                                        },
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 1
                                        },
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 2
                                        }
                                    ],
                                    "loc": [15, 436, 56, 436, 0]
                                }
                            },
                            {
                                "type": "call",
                                "callee": {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 9
                                    },
                                    "name": "set",
                                    "loc": [8, 437, 16, 437, 0]
                                },
                                "args": [
                                    {
                                        "type": "slot",
                                        "kind": "attr",
                                        "base": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 8
                                        },
                                        "name": "output",
                                        "loc": [17, 437, 28, 437, 0]
                                    }
                                ],
                                "loc": [8, 437, 29, 437, 0]
                            },
                            {
                                "type": "inplace_assign",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 6
                                },
                                "op": {
                                    "type": "slot",
                                    "kind": "global",
                                    "name": "+",
                                    "loc": [8, 438, 14, 438, 0]
                                },
                                "value": {
                                    "type": "literal",
                                    "kind": "integer",
                                    "value": "1"
                                }
                            }
                        ]
                    },
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "local", "index": 10},
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "global",
                                "name": "inference_program",
                                "loc": [13, 439, 30, 439, 0]
                            },
                            "args": [
                                {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 4
                                    },
                                    "name": "body",
                                    "loc": [31, 439, 40, 439, 0]
                                },
                                {"type": "slot", "kind": "local", "index": 1},
                                {"type": "slot", "kind": "local", "index": 2}
                            ],
                            "loc": [13, 439, 55, 439, 0]
                        }
                    },
                    {
                        "type": "call",
                        "callee": {
                            "type": "slot",
                            "kind": "attr",
                            "base": {
                                "type": "slot",
                                "kind": "local",
                                "index": 5
                            },
                            "name": "add_transition",
                            "loc": [4, 440, 22, 440, 0]
                        },
                        "args": [
                            {
                                "type": "slot",
                                "kind": "global",
                                "name": "cod",
                                "loc": [23, 440, 26, 440, 0]
                            },
                            {"type": "slot", "kind": "local", "index": 10}
                        ],
                        "loc": [4, 440, 35, 440, 0]
                    },
                    {
                        "type": "return",
                        "value": {"type": "slot", "kind": "local", "index": 5}
                    }
                ],
                "loc": [21, 426, 14, 441, 0]
            }
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "inference_program",
                "loc": [0, 443, 17, 443, 0]
            },
            "value": {
                "type": "closure",
                "cellvars": [],
                "localvars": [
                    {"type": "cell", "deref": false, "name": "body", "defs": 1},
                    {"type": "cell", "deref": false, "name": "env", "defs": 1},
                    {
                        "type": "cell",
                        "deref": false,
                        "name": "visited",
                        "defs": 1
                    },
                    {
                        "type": "cell",
                        "deref": false,
                        "name": "result",
                        "defs": 1
                    },
                    {"type": "cell", "deref": false, "name": "stmt", "defs": 1},
                    {"type": "cell", "deref": false, "name": "value", "defs": 3
                    },
                    {"type": "cell", "deref": false, "name": "slot", "defs": 1}
                ],
                "frame": [],
                "args": [
                    {"slot": {"type": "slot", "kind": "local", "index": 0}},
                    {"slot": {"type": "slot", "kind": "local", "index": 1}},
                    {"slot": {"type": "slot", "kind": "local", "index": 2}}
                ],
                "body": [
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "local", "index": 3},
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "global",
                                "name": "fresh_port",
                                "loc": [13, 444, 23, 444, 0]
                            },
                            "args": [],
                            "loc": [13, 444, 25, 444, 0]
                        }
                    },
                    {
                        "type": "repeat",
                        "fresh": [],
                        "heads": [
                            {
                                "type": "for",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 4
                                },
                                "value": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 0
                                }
                            }
                        ],
                        "body": [
                            {
                                "type": "case",
                                "value": {
                                    "type": "slot",
                                    "kind": "item",
                                    "base": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 4
                                    },
                                    "index": {
                                        "type": "literal",
                                        "kind": "string",
                                        "value": "type"
                                    },
                                    "loc": [13, 446, 25, 446, 0]
                                },
                                "cases": [
                                    {
                                        "type": "constant",
                                        "value": {
                                            "type": "literal",
                                            "kind": "string",
                                            "value": "return"
                                        },
                                        "body": [
                                            {
                                                "type": "assign",
                                                "slot": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 5
                                                },
                                                "value": {
                                                    "type": "slot",
                                                    "kind": "item",
                                                    "base": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 4
                                                    },
                                                    "index": {
                                                        "type": "literal",
                                                        "kind": "string",
                                                        "value": "value"
                                                    },
                                                    "loc": [20, 448, 33, 448, 0]
                                                }
                                            },
                                            {
                                                "type": "assign",
                                                "slot": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 5
                                                },
                                                "value": {
                                                    "type": "call",
                                                    "callee": {
                                                        "type": "slot",
                                                        "kind": "global",
                                                        "name": "inference_expr",
                                                        "loc": [
                                                            20,
                                                            449,
                                                            34,
                                                            449,
                                                            0
                                                        ]
                                                    },
                                                    "args": [
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 5
                                                        },
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 1
                                                        },
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 2
                                                        }
                                                    ],
                                                    "loc": [20, 449, 55, 449, 0]
                                                }
                                            },
                                            {
                                                "type": "call",
                                                "callee": {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "biunify",
                                                    "loc": [12, 450, 19, 450, 0]
                                                },
                                                "args": [
                                                    {
                                                        "type": "make_tuple",
                                                        "items": [
                                                            {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 5
                                                            },
                                                            {
                                                                "type": "slot",
                                                                "kind": "attr",
                                                                "base": {
                                                                    "type": "slot",
                                                                    "kind": "local",
                                                                    "index": 3
                                                                },
                                                                "name": "input",
                                                                "loc": [
                                                                    28,
                                                                    450,
                                                                    40,
                                                                    450,
                                                                    0
                                                                ]
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 2
                                                    }
                                                ],
                                                "loc": [12, 450, 51, 450, 0]
                                            }
                                        ],
                                        "loc": [8, 447, 51, 450, 0]
                                    },
                                    {
                                        "type": "constant",
                                        "value": {
                                            "type": "literal",
                                            "kind": "string",
                                            "value": "assign"
                                        },
                                        "body": [
                                            {
                                                "type": "assign",
                                                "slot": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 6
                                                },
                                                "value": {
                                                    "type": "call",
                                                    "callee": {
                                                        "type": "slot",
                                                        "kind": "global",
                                                        "name": "inference_slot",
                                                        "loc": [
                                                            19,
                                                            452,
                                                            33,
                                                            452,
                                                            0
                                                        ]
                                                    },
                                                    "args": [
                                                        {
                                                            "type": "slot",
                                                            "kind": "item",
                                                            "base": {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 4
                                                            },
                                                            "index": {
                                                                "type": "literal",
                                                                "kind": "string",
                                                                "value": "slot"
                                                            },
                                                            "loc": [
                                                                34,
                                                                452,
                                                                46,
                                                                452,
                                                                0
                                                            ]
                                                        },
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 1
                                                        },
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 2
                                                        }
                                                    ],
                                                    "loc": [19, 452, 61, 452, 0]
                                                }
                                            },
                                            {
                                                "type": "assign",
                                                "slot": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 5
                                                },
                                                "value": {
                                                    "type": "call",
                                                    "callee": {
                                                        "type": "slot",
                                                        "kind": "global",
                                                        "name": "inference_expr",
                                                        "loc": [
                                                            20,
                                                            453,
                                                            34,
                                                            453,
                                                            0
                                                        ]
                                                    },
                                                    "args": [
                                                        {
                                                            "type": "slot",
                                                            "kind": "item",
                                                            "base": {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 4
                                                            },
                                                            "index": {
                                                                "type": "literal",
                                                                "kind": "string",
                                                                "value": "value"
                                                            },
                                                            "loc": [
                                                                35,
                                                                453,
                                                                48,
                                                                453,
                                                                0
                                                            ]
                                                        },
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 1
                                                        },
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 2
                                                        }
                                                    ],
                                                    "loc": [20, 453, 63, 453, 0]
                                                }
                                            },
                                            {
                                                "type": "call",
                                                "callee": {
                                                    "type": "slot",
                                                    "kind": "attr",
                                                    "base": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 6
                                                    },
                                                    "name": "set",
                                                    "loc": [12, 454, 20, 454, 0]
                                                },
                                                "args": [
                                                    {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 5
                                                    }
                                                ],
                                                "loc": [12, 454, 27, 454, 0]
                                            }
                                        ],
                                        "loc": [8, 451, 27, 454, 0]
                                    }
                                ],
                                "default": [
                                    {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "inference_expr",
                                            "loc": [12, 456, 26, 456, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 4
                                            },
                                            {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 1
                                            },
                                            {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 2
                                            }
                                        ],
                                        "loc": [12, 456, 46, 456, 0]
                                    }
                                ],
                                "loc": [8, 446, 46, 456, 0]
                            }
                        ]
                    },
                    {
                        "type": "return",
                        "value": {
                            "type": "slot",
                            "kind": "attr",
                            "base": {
                                "type": "slot",
                                "kind": "local",
                                "index": 3
                            },
                            "name": "output",
                            "loc": [11, 457, 24, 457, 0]
                        }
                    }
                ],
                "loc": [20, 443, 24, 457, 0]
            }
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "inference_expr",
                "loc": [0, 459, 14, 459, 0]
            },
            "value": {
                "type": "closure",
                "cellvars": [],
                "localvars": [
                    {"type": "cell", "deref": false, "name": "a", "defs": 1},
                    {"type": "cell", "deref": false, "name": "env", "defs": 1},
                    {
                        "type": "cell",
                        "deref": false,
                        "name": "visited",
                        "defs": 1
                    },
                    {
                        "type": "cell",
                        "deref": false,
                        "name": "result",
                        "defs": 2
                    },
                    {
                        "type": "cell",
                        "deref": false,
                        "name": "callee",
                        "defs": 1
                    },
                    {
                        "type": "cell",
                        "deref": false,
                        "name": "callsite",
                        "defs": 1
                    },
                    {"type": "cell", "deref": false, "name": "i", "defs": 1},
                    {"type": "cell", "deref": false, "name": "arg", "defs": 2}
                ],
                "frame": [],
                "args": [
                    {"slot": {"type": "slot", "kind": "local", "index": 0}},
                    {"slot": {"type": "slot", "kind": "local", "index": 1}},
                    {"slot": {"type": "slot", "kind": "local", "index": 2}}
                ],
                "body": [
                    {
                        "type": "case",
                        "value": {
                            "type": "slot",
                            "kind": "item",
                            "base": {
                                "type": "slot",
                                "kind": "local",
                                "index": 0
                            },
                            "index": {
                                "type": "literal",
                                "kind": "string",
                                "value": "type"
                            },
                            "loc": [9, 460, 18, 460, 0]
                        },
                        "cases": [
                            {
                                "type": "constant",
                                "value": {
                                    "type": "literal",
                                    "kind": "string",
                                    "value": "literal"
                                },
                                "body": [
                                    {
                                        "type": "assign",
                                        "slot": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 3
                                        },
                                        "value": {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "fresh_state",
                                                "loc": [17, 462, 28, 462, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "call",
                                                    "callee": {
                                                        "type": "slot",
                                                        "kind": "global",
                                                        "name": "+expr",
                                                        "loc": [
                                                            29,
                                                            462,
                                                            31,
                                                            462,
                                                            0
                                                        ]
                                                    },
                                                    "args": [
                                                        {
                                                            "type": "literal",
                                                            "kind": "integer",
                                                            "value": "1"
                                                        }
                                                    ],
                                                    "loc": [29, 462, 31, 462, 0]
                                                }
                                            ],
                                            "loc": [17, 462, 32, 462, 0]
                                        }
                                    },
                                    {
                                        "type": "case",
                                        "value": {
                                            "type": "slot",
                                            "kind": "item",
                                            "base": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 0
                                            },
                                            "index": {
                                                "type": "literal",
                                                "kind": "string",
                                                "value": "kind"
                                            },
                                            "loc": [13, 463, 22, 463, 0]
                                        },
                                        "cases": [
                                            {
                                                "type": "constant",
                                                "value": {
                                                    "type": "literal",
                                                    "kind": "string",
                                                    "value": "string"
                                                },
                                                "body": [
                                                    {
                                                        "type": "call",
                                                        "callee": {
                                                            "type": "slot",
                                                            "kind": "attr",
                                                            "base": {
                                                                "type": "slot",
                                                                "kind": "attr",
                                                                "base": {
                                                                    "type": "slot",
                                                                    "kind": "local",
                                                                    "index": 3
                                                                },
                                                                "name": "heads",
                                                                "loc": [
                                                                    12,
                                                                    465,
                                                                    24,
                                                                    465,
                                                                    0
                                                                ]
                                                            },
                                                            "name": "add",
                                                            "loc": [
                                                                12,
                                                                465,
                                                                28,
                                                                465,
                                                                0
                                                            ]
                                                        },
                                                        "args": [
                                                            {
                                                                "type": "call",
                                                                "callee": {
                                                                    "type": "slot",
                                                                    "kind": "global",
                                                                    "name": "faucet",
                                                                    "loc": [
                                                                        29,
                                                                        465,
                                                                        35,
                                                                        465,
                                                                        0
                                                                    ]
                                                                },
                                                                "args": [
                                                                    {
                                                                        "type": "slot",
                                                                        "kind": "global",
                                                                        "name": "String",
                                                                        "loc": [
                                                                            36,
                                                                            465,
                                                                            42,
                                                                            465,
                                                                            0
                                                                        ]
                                                                    }
                                                                ],
                                                                "loc": [
                                                                    29,
                                                                    465,
                                                                    43,
                                                                    465,
                                                                    0
                                                                ]
                                                            }
                                                        ],
                                                        "loc": [
                                                            12,
                                                            465,
                                                            44,
                                                            465,
                                                            0
                                                        ]
                                                    }
                                                ],
                                                "loc": [8, 464, 44, 465, 0]
                                            },
                                            {
                                                "type": "constant",
                                                "value": {
                                                    "type": "literal",
                                                    "kind": "string",
                                                    "value": "integer"
                                                },
                                                "body": [
                                                    {
                                                        "type": "call",
                                                        "callee": {
                                                            "type": "slot",
                                                            "kind": "attr",
                                                            "base": {
                                                                "type": "slot",
                                                                "kind": "attr",
                                                                "base": {
                                                                    "type": "slot",
                                                                    "kind": "local",
                                                                    "index": 3
                                                                },
                                                                "name": "heads",
                                                                "loc": [
                                                                    12,
                                                                    467,
                                                                    24,
                                                                    467,
                                                                    0
                                                                ]
                                                            },
                                                            "name": "add",
                                                            "loc": [
                                                                12,
                                                                467,
                                                                28,
                                                                467,
                                                                0
                                                            ]
                                                        },
                                                        "args": [
                                                            {
                                                                "type": "call",
                                                                "callee": {
                                                                    "type": "slot",
                                                                    "kind": "global",
                                                                    "name": "faucet",
                                                                    "loc": [
                                                                        29,
                                                                        467,
                                                                        35,
                                                                        467,
                                                                        0
                                                                    ]
                                                                },
                                                                "args": [
                                                                    {
                                                                        "type": "slot",
                                                                        "kind": "global",
                                                                        "name": "Integer",
                                                                        "loc": [
                                                                            36,
                                                                            467,
                                                                            43,
                                                                            467,
                                                                            0
                                                                        ]
                                                                    }
                                                                ],
                                                                "loc": [
                                                                    29,
                                                                    467,
                                                                    44,
                                                                    467,
                                                                    0
                                                                ]
                                                            }
                                                        ],
                                                        "loc": [
                                                            12,
                                                            467,
                                                            45,
                                                            467,
                                                            0
                                                        ]
                                                    }
                                                ],
                                                "loc": [8, 466, 45, 467, 0]
                                            }
                                        ],
                                        "default": [
                                            {
                                                "type": "assert",
                                                "cond": {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "false",
                                                    "loc": [19, 469, 24, 469, 0]
                                                },
                                                "value": {
                                                    "type": "literal",
                                                    "kind": "string",
                                                    "value": "missing inference for literal"
                                                },
                                                "loc": [12, 469, 59, 469, 0]
                                            }
                                        ],
                                        "loc": [8, 463, 59, 469, 0]
                                    },
                                    {
                                        "type": "return",
                                        "value": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 3
                                        }
                                    }
                                ],
                                "loc": [4, 461, 21, 470, 0]
                            },
                            {
                                "type": "constant",
                                "value": {
                                    "type": "literal",
                                    "kind": "string",
                                    "value": "slot"
                                },
                                "body": [
                                    {
                                        "type": "return",
                                        "value": {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "attr",
                                                "base": {
                                                    "type": "call",
                                                    "callee": {
                                                        "type": "slot",
                                                        "kind": "global",
                                                        "name": "inference_slot",
                                                        "loc": [
                                                            15,
                                                            472,
                                                            29,
                                                            472,
                                                            0
                                                        ]
                                                    },
                                                    "args": [
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 0
                                                        },
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 1
                                                        },
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 2
                                                        }
                                                    ],
                                                    "loc": [15, 472, 46, 472, 0]
                                                },
                                                "name": "get",
                                                "loc": [15, 472, 50, 472, 0]
                                            },
                                            "args": [],
                                            "loc": [15, 472, 52, 472, 0]
                                        }
                                    }
                                ],
                                "loc": [4, 471, 52, 472, 0]
                            },
                            {
                                "type": "constant",
                                "value": {
                                    "type": "literal",
                                    "kind": "string",
                                    "value": "call"
                                },
                                "body": [
                                    {
                                        "type": "assign",
                                        "slot": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 4
                                        },
                                        "value": {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "inference_expr",
                                                "loc": [17, 474, 31, 474, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "slot",
                                                    "kind": "item",
                                                    "base": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 0
                                                    },
                                                    "index": {
                                                        "type": "literal",
                                                        "kind": "string",
                                                        "value": "callee"
                                                    },
                                                    "loc": [32, 474, 43, 474, 0]
                                                },
                                                {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 1
                                                },
                                                {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 2
                                                }
                                            ],
                                            "loc": [17, 474, 58, 474, 0]
                                        }
                                    },
                                    {
                                        "type": "assign",
                                        "slot": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 5
                                        },
                                        "value": {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "fresh_state",
                                                "loc": [19, 476, 30, 476, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "call",
                                                    "callee": {
                                                        "type": "slot",
                                                        "kind": "global",
                                                        "name": "-expr",
                                                        "loc": [
                                                            31,
                                                            476,
                                                            33,
                                                            476,
                                                            0
                                                        ]
                                                    },
                                                    "args": [
                                                        {
                                                            "type": "literal",
                                                            "kind": "integer",
                                                            "value": "1"
                                                        }
                                                    ],
                                                    "loc": [31, 476, 33, 476, 0]
                                                }
                                            ],
                                            "loc": [19, 476, 34, 476, 0]
                                        }
                                    },
                                    {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "attr",
                                            "base": {
                                                "type": "slot",
                                                "kind": "attr",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 5
                                                },
                                                "name": "heads",
                                                "loc": [8, 477, 22, 477, 0]
                                            },
                                            "name": "add",
                                            "loc": [8, 477, 26, 477, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "call",
                                                "callee": {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "faucet",
                                                    "loc": [27, 477, 33, 477, 0]
                                                },
                                                "args": [
                                                    {
                                                        "type": "call",
                                                        "callee": {
                                                            "type": "slot",
                                                            "kind": "global",
                                                            "name": "get_function_header",
                                                            "loc": [
                                                                34,
                                                                477,
                                                                53,
                                                                477,
                                                                0
                                                            ]
                                                        },
                                                        "args": [
                                                            {
                                                                "type": "slot",
                                                                "kind": "attr",
                                                                "base": {
                                                                    "type": "slot",
                                                                    "kind": "item",
                                                                    "base": {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 0
                                                                    },
                                                                    "index": {
                                                                        "type": "literal",
                                                                        "kind": "string",
                                                                        "value": "args"
                                                                    },
                                                                    "loc": [
                                                                        54,
                                                                        477,
                                                                        63,
                                                                        477,
                                                                        0
                                                                    ]
                                                                },
                                                                "name": "length",
                                                                "loc": [
                                                                    54,
                                                                    477,
                                                                    70,
                                                                    477,
                                                                    0
                                                                ]
                                                            },
                                                            {
                                                                "type": "literal",
                                                                "kind": "integer",
                                                                "value": "0"
                                                            }
                                                        ],
                                                        "loc": [
                                                            34,
                                                            477,
                                                            74,
                                                            477,
                                                            0
                                                        ]
                                                    }
                                                ],
                                                "loc": [27, 477, 75, 477, 0]
                                            }
                                        ],
                                        "loc": [8, 477, 76, 477, 0]
                                    },
                                    {
                                        "type": "assign",
                                        "slot": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 6
                                        },
                                        "value": {
                                            "type": "literal",
                                            "kind": "integer",
                                            "value": "0"
                                        }
                                    },
                                    {
                                        "type": "repeat",
                                        "fresh": [],
                                        "heads": [
                                            {
                                                "type": "for",
                                                "slot": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 7
                                                },
                                                "value": {
                                                    "type": "slot",
                                                    "kind": "item",
                                                    "base": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 0
                                                    },
                                                    "index": {
                                                        "type": "literal",
                                                        "kind": "string",
                                                        "value": "args"
                                                    },
                                                    "loc": [19, 479, 28, 479, 0]
                                                }
                                            }
                                        ],
                                        "body": [
                                            {
                                                "type": "assign",
                                                "slot": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 7
                                                },
                                                "value": {
                                                    "type": "call",
                                                    "callee": {
                                                        "type": "slot",
                                                        "kind": "global",
                                                        "name": "inference_expr",
                                                        "loc": [
                                                            18,
                                                            480,
                                                            32,
                                                            480,
                                                            0
                                                        ]
                                                    },
                                                    "args": [
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 7
                                                        },
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 1
                                                        },
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 2
                                                        }
                                                    ],
                                                    "loc": [18, 480, 51, 480, 0]
                                                }
                                            },
                                            {
                                                "type": "call",
                                                "callee": {
                                                    "type": "slot",
                                                    "kind": "attr",
                                                    "base": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 5
                                                    },
                                                    "name": "add_transition",
                                                    "loc": [12, 481, 35, 481, 0]
                                                },
                                                "args": [
                                                    {
                                                        "type": "call",
                                                        "callee": {
                                                            "type": "slot",
                                                            "kind": "global",
                                                            "name": "get_dom",
                                                            "loc": [
                                                                36,
                                                                481,
                                                                43,
                                                                481,
                                                                0
                                                            ]
                                                        },
                                                        "args": [
                                                            {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 6
                                                            }
                                                        ],
                                                        "loc": [
                                                            36,
                                                            481,
                                                            46,
                                                            481,
                                                            0
                                                        ]
                                                    },
                                                    {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 7
                                                    }
                                                ],
                                                "loc": [12, 481, 52, 481, 0]
                                            },
                                            {
                                                "type": "inplace_assign",
                                                "slot": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 6
                                                },
                                                "op": {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "+",
                                                    "loc": [12, 482, 18, 482, 0]
                                                },
                                                "value": {
                                                    "type": "literal",
                                                    "kind": "integer",
                                                    "value": "1"
                                                }
                                            }
                                        ]
                                    },
                                    {
                                        "type": "assign",
                                        "slot": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 3
                                        },
                                        "value": {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "fresh_port",
                                                "loc": [17, 483, 27, 483, 0]
                                            },
                                            "args": [],
                                            "loc": [17, 483, 29, 483, 0]
                                        }
                                    },
                                    {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "attr",
                                            "base": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 5
                                            },
                                            "name": "add_transition",
                                            "loc": [8, 484, 31, 484, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "cod",
                                                "loc": [32, 484, 35, 484, 0]
                                            },
                                            {
                                                "type": "slot",
                                                "kind": "attr",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 3
                                                },
                                                "name": "input",
                                                "loc": [37, 484, 49, 484, 0]
                                            }
                                        ],
                                        "loc": [8, 484, 50, 484, 0]
                                    },
                                    {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "biunify",
                                            "loc": [8, 485, 15, 485, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "make_tuple",
                                                "items": [
                                                    {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 4
                                                    },
                                                    {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 5
                                                    }
                                                ]
                                            },
                                            {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 2
                                            }
                                        ],
                                        "loc": [8, 485, 44, 485, 0]
                                    },
                                    {
                                        "type": "return",
                                        "value": {
                                            "type": "slot",
                                            "kind": "attr",
                                            "base": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 3
                                            },
                                            "name": "output",
                                            "loc": [15, 486, 28, 486, 0]
                                        }
                                    }
                                ],
                                "loc": [4, 473, 28, 486, 0]
                            }
                        ],
                        "default": [
                            {
                                "type": "call",
                                "callee": {
                                    "type": "slot",
                                    "kind": "global",
                                    "name": "print",
                                    "loc": [8, 488, 13, 488, 0]
                                },
                                "args": [
                                    {
                                        "type": "slot",
                                        "kind": "item",
                                        "base": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 0
                                        },
                                        "index": {
                                            "type": "literal",
                                            "kind": "string",
                                            "value": "type"
                                        },
                                        "loc": [14, 488, 23, 488, 0]
                                    },
                                    {
                                        "type": "literal",
                                        "kind": "string",
                                        "value": "missing"
                                    }
                                ],
                                "loc": [8, 488, 35, 488, 0]
                            },
                            {
                                "type": "assert",
                                "cond": {
                                    "type": "slot",
                                    "kind": "global",
                                    "name": "false",
                                    "loc": [15, 489, 20, 489, 0]
                                },
                                "value": {
                                    "type": "literal",
                                    "kind": "string",
                                    "value": "missing inference for expression"
                                },
                                "loc": [8, 489, 58, 489, 0]
                            }
                        ],
                        "loc": [4, 460, 58, 489, 0]
                    }
                ],
                "loc": [17, 459, 58, 489, 0]
            }
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "inference_slot",
                "loc": [0, 491, 14, 491, 0]
            },
            "value": {
                "type": "closure",
                "cellvars": [
                    {
                        "type": "cell",
                        "deref": true,
                        "name": "visited",
                        "defs": 1
                    },
                    {"type": "cell", "deref": true, "name": "port", "defs": 2},
                    {"type": "cell", "deref": true, "name": "name", "defs": 1}
                ],
                "localvars": [
                    {"type": "cell", "deref": false, "name": "a", "defs": 1},
                    {"type": "cell", "deref": false, "name": "env", "defs": 1},
                    {"type": "cell", "deref": false, "name": "key", "defs": 1}
                ],
                "frame": [],
                "args": [
                    {"slot": {"type": "slot", "kind": "local", "index": 0}},
                    {"slot": {"type": "slot", "kind": "local", "index": 1}},
                    {"slot": {"type": "slot", "kind": "cell", "index": 0}}
                ],
                "body": [
                    {
                        "type": "case",
                        "value": {
                            "type": "slot",
                            "kind": "item",
                            "base": {
                                "type": "slot",
                                "kind": "local",
                                "index": 0
                            },
                            "index": {
                                "type": "literal",
                                "kind": "string",
                                "value": "kind"
                            },
                            "loc": [9, 492, 18, 492, 0]
                        },
                        "cases": [
                            {
                                "type": "constant",
                                "value": {
                                    "type": "literal",
                                    "kind": "string",
                                    "value": "local"
                                },
                                "body": [
                                    {
                                        "type": "assign",
                                        "slot": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 2
                                        },
                                        "value": {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "++",
                                                "loc": [14, 494, 46, 494, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "literal",
                                                    "kind": "string",
                                                    "value": "local"
                                                },
                                                {
                                                    "type": "call",
                                                    "callee": {
                                                        "type": "slot",
                                                        "kind": "global",
                                                        "name": "stringify",
                                                        "loc": [
                                                            25,
                                                            494,
                                                            34,
                                                            494,
                                                            0
                                                        ]
                                                    },
                                                    "args": [
                                                        {
                                                            "type": "slot",
                                                            "kind": "item",
                                                            "base": {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 0
                                                            },
                                                            "index": {
                                                                "type": "literal",
                                                                "kind": "string",
                                                                "value": "index"
                                                            },
                                                            "loc": [
                                                                35,
                                                                494,
                                                                45,
                                                                494,
                                                                0
                                                            ]
                                                        }
                                                    ],
                                                    "loc": [25, 494, 46, 494, 0]
                                                }
                                            ],
                                            "loc": [14, 494, 46, 494, 0]
                                        }
                                    },
                                    {
                                        "type": "except",
                                        "body": [
                                            {
                                                "type": "assign",
                                                "slot": {
                                                    "type": "slot",
                                                    "kind": "cell",
                                                    "index": 1
                                                },
                                                "value": {
                                                    "type": "slot",
                                                    "kind": "item",
                                                    "base": {
                                                        "type": "slot",
                                                        "kind": "attr",
                                                        "base": {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 1
                                                        },
                                                        "name": "schemes",
                                                        "loc": [
                                                            15,
                                                            495,
                                                            26,
                                                            495,
                                                            0
                                                        ]
                                                    },
                                                    "index": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 2
                                                    },
                                                    "loc": [15, 495, 31, 495, 0]
                                                }
                                            }
                                        ],
                                        "excepts": [
                                            {
                                                "exc": {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "NoIndex",
                                                    "loc": [15, 496, 22, 496, 0]
                                                },
                                                "body": [
                                                    {
                                                        "type": "assign",
                                                        "slot": {
                                                            "type": "slot",
                                                            "kind": "cell",
                                                            "index": 1
                                                        },
                                                        "value": {
                                                            "type": "call",
                                                            "callee": {
                                                                "type": "slot",
                                                                "kind": "global",
                                                                "name": "fresh_free_port",
                                                                "loc": [
                                                                    19,
                                                                    497,
                                                                    34,
                                                                    497,
                                                                    0
                                                                ]
                                                            },
                                                            "args": [
                                                                {
                                                                    "type": "slot",
                                                                    "kind": "attr",
                                                                    "base": {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 1
                                                                    },
                                                                    "name": "free",
                                                                    "loc": [
                                                                        35,
                                                                        497,
                                                                        43,
                                                                        497,
                                                                        0
                                                                    ]
                                                                }
                                                            ],
                                                            "loc": [
                                                                19,
                                                                497,
                                                                44,
                                                                497,
                                                                0
                                                            ]
                                                        }
                                                    },
                                                    {
                                                        "type": "assign",
                                                        "slot": {
                                                            "type": "slot",
                                                            "kind": "item",
                                                            "base": {
                                                                "type": "slot",
                                                                "kind": "attr",
                                                                "base": {
                                                                    "type": "slot",
                                                                    "kind": "local",
                                                                    "index": 1
                                                                },
                                                                "name": "schemes",
                                                                "loc": [
                                                                    12,
                                                                    498,
                                                                    23,
                                                                    498,
                                                                    0
                                                                ]
                                                            },
                                                            "index": {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 2
                                                            },
                                                            "loc": [
                                                                12,
                                                                498,
                                                                28,
                                                                498,
                                                                0
                                                            ]
                                                        },
                                                        "value": {
                                                            "type": "slot",
                                                            "kind": "cell",
                                                            "index": 1
                                                        }
                                                    }
                                                ]
                                            }
                                        ],
                                        "loc": [8, 495, 35, 498, 0]
                                    },
                                    {
                                        "type": "return",
                                        "value": {
                                            "type": "record",
                                            "fields": [
                                                {
                                                    "name": "set",
                                                    "mutable": false,
                                                    "value": {
                                                        "type": "closure",
                                                        "cellvars": [
                                                            {
                                                                "type": "cell",
                                                                "deref": true,
                                                                "name": "port",
                                                                "defs": 2
                                                            },
                                                            {
                                                                "type": "cell",
                                                                "deref": true,
                                                                "name": "visited",
                                                                "defs": 1
                                                            }
                                                        ],
                                                        "localvars": [
                                                            {
                                                                "type": "cell",
                                                                "deref": false,
                                                                "name": "a",
                                                                "defs": 1
                                                            }
                                                        ],
                                                        "frame": [1, 0],
                                                        "args": [
                                                            {
                                                                "slot": {
                                                                    "type": "slot",
                                                                    "kind": "local",
                                                                    "index": 0
                                                                }
                                                            }
                                                        ],
                                                        "body": [
                                                            {
                                                                "type": "return",
                                                                "value": {
                                                                    "type": "call",
                                                                    "callee": {
                                                                        "type": "slot",
                                                                        "kind": "global",
                                                                        "name": "biunify",
                                                                        "loc": [
                                                                            23,
                                                                            500,
                                                                            30,
                                                                            500,
                                                                            0
                                                                        ]
                                                                    },
                                                                    "args": [
                                                                        {
                                                                            "type": "make_tuple",
                                                                            "items": [
                                                                                {
                                                                                    "type": "slot",
                                                                                    "kind": "local",
                                                                                    "index": 0
                                                                                },
                                                                                {
                                                                                    "type": "slot",
                                                                                    "kind": "attr",
                                                                                    "base": {
                                                                                        "type": "slot",
                                                                                        "kind": "cell",
                                                                                        "index": 0
                                                                                    },
                                                                                    "name": "input",
                                                                                    "loc": [
                                                                                        35,
                                                                                        500,
                                                                                        45,
                                                                                        500,
                                                                                        0
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "slot",
                                                                            "kind": "cell",
                                                                            "index": 1
                                                                        }
                                                                    ],
                                                                    "loc": [
                                                                        23,
                                                                        500,
                                                                        56,
                                                                        500,
                                                                        0
                                                                    ]
                                                                }
                                                            }
                                                        ],
                                                        "loc": [
                                                            18,
                                                            500,
                                                            56,
                                                            500,
                                                            0
                                                        ]
                                                    }
                                                },
                                                {
                                                    "name": "get",
                                                    "mutable": false,
                                                    "value": {
                                                        "type": "closure",
                                                        "cellvars": [
                                                            {
                                                                "type": "cell",
                                                                "deref": true,
                                                                "name": "port",
                                                                "defs": 2
                                                            }
                                                        ],
                                                        "localvars": [],
                                                        "frame": [1],
                                                        "args": [],
                                                        "body": [
                                                            {
                                                                "type": "return",
                                                                "value": {
                                                                    "type": "slot",
                                                                    "kind": "attr",
                                                                    "base": {
                                                                        "type": "slot",
                                                                        "kind": "cell",
                                                                        "index": 0
                                                                    },
                                                                    "name": "output",
                                                                    "loc": [
                                                                        29,
                                                                        501,
                                                                        40,
                                                                        501,
                                                                        0
                                                                    ]
                                                                }
                                                            }
                                                        ],
                                                        "loc": [
                                                            18,
                                                            501,
                                                            40,
                                                            501,
                                                            0
                                                        ]
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                ],
                                "loc": [4, 493, 43, 501, 0]
                            },
                            {
                                "type": "constant",
                                "value": {
                                    "type": "literal",
                                    "kind": "string",
                                    "value": "global"
                                },
                                "body": [
                                    {
                                        "type": "assign",
                                        "slot": {
                                            "type": "slot",
                                            "kind": "cell",
                                            "index": 2
                                        },
                                        "value": {
                                            "type": "slot",
                                            "kind": "item",
                                            "base": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 0
                                            },
                                            "index": {
                                                "type": "literal",
                                                "kind": "string",
                                                "value": "name"
                                            },
                                            "loc": [15, 503, 24, 503, 0]
                                        }
                                    },
                                    {
                                        "type": "return",
                                        "value": {
                                            "type": "record",
                                            "fields": [
                                                {
                                                    "name": "set",
                                                    "mutable": false,
                                                    "value": {
                                                        "type": "closure",
                                                        "cellvars": [],
                                                        "localvars": [
                                                            {
                                                                "type": "cell",
                                                                "deref": false,
                                                                "name": "a",
                                                                "defs": 1
                                                            }
                                                        ],
                                                        "frame": [],
                                                        "args": [
                                                            {
                                                                "slot": {
                                                                    "type": "slot",
                                                                    "kind": "local",
                                                                    "index": 0
                                                                }
                                                            }
                                                        ],
                                                        "body": [
                                                            {
                                                                "type": "assert",
                                                                "cond": {
                                                                    "type": "slot",
                                                                    "kind": "global",
                                                                    "name": "false",
                                                                    "loc": [
                                                                        30,
                                                                        505,
                                                                        35,
                                                                        505,
                                                                        0
                                                                    ]
                                                                },
                                                                "value": {
                                                                    "type": "literal",
                                                                    "kind": "string",
                                                                    "value": "not supported"
                                                                },
                                                                "loc": [
                                                                    23,
                                                                    505,
                                                                    54,
                                                                    505,
                                                                    0
                                                                ]
                                                            }
                                                        ],
                                                        "loc": [
                                                            18,
                                                            505,
                                                            54,
                                                            505,
                                                            0
                                                        ]
                                                    }
                                                },
                                                {
                                                    "name": "get",
                                                    "mutable": false,
                                                    "value": {
                                                        "type": "closure",
                                                        "cellvars": [
                                                            {
                                                                "type": "cell",
                                                                "deref": true,
                                                                "name": "name",
                                                                "defs": 1
                                                            }
                                                        ],
                                                        "localvars": [
                                                            {
                                                                "type": "cell",
                                                                "deref": false,
                                                                "name": "site",
                                                                "defs": 1
                                                            },
                                                            {
                                                                "type": "cell",
                                                                "deref": false,
                                                                "name": "op_site",
                                                                "defs": 1
                                                            },
                                                            {
                                                                "type": "cell",
                                                                "deref": false,
                                                                "name": "sink0",
                                                                "defs": 1
                                                            },
                                                            {
                                                                "type": "cell",
                                                                "deref": false,
                                                                "name": "sink1",
                                                                "defs": 1
                                                            },
                                                            {
                                                                "type": "cell",
                                                                "deref": false,
                                                                "name": "result",
                                                                "defs": 1
                                                            },
                                                            {
                                                                "type": "cell",
                                                                "deref": false,
                                                                "name": "f",
                                                                "defs": 1
                                                            }
                                                        ],
                                                        "frame": [2],
                                                        "args": [],
                                                        "body": [
                                                            {
                                                                "type": "cond",
                                                                "cond": {
                                                                    "type": "cmp",
                                                                    "exprs": [
                                                                        {
                                                                            "type": "slot",
                                                                            "kind": "cell",
                                                                            "index": 0
                                                                        },
                                                                        {
                                                                            "type": "literal",
                                                                            "kind": "string",
                                                                            "value": "+"
                                                                        }
                                                                    ],
                                                                    "ops": [
                                                                        {
                                                                            "type": "slot",
                                                                            "kind": "global",
                                                                            "name": "==",
                                                                            "loc": [
                                                                                19,
                                                                                507,
                                                                                30,
                                                                                507,
                                                                                0
                                                                            ]
                                                                        }
                                                                    ],
                                                                    "loc": [
                                                                        19,
                                                                        507,
                                                                        30,
                                                                        507,
                                                                        0
                                                                    ]
                                                                },
                                                                "tbody": [
                                                                    {
                                                                        "type": "assign",
                                                                        "slot": {
                                                                            "type": "slot",
                                                                            "kind": "local",
                                                                            "index": 0
                                                                        },
                                                                        "value": {
                                                                            "type": "call",
                                                                            "callee": {
                                                                                "type": "slot",
                                                                                "kind": "global",
                                                                                "name": "fresh_state",
                                                                                "loc": [
                                                                                    27,
                                                                                    508,
                                                                                    38,
                                                                                    508,
                                                                                    0
                                                                                ]
                                                                            },
                                                                            "args": [
                                                                                {
                                                                                    "type": "call",
                                                                                    "callee": {
                                                                                        "type": "slot",
                                                                                        "kind": "global",
                                                                                        "name": "-expr",
                                                                                        "loc": [
                                                                                            39,
                                                                                            508,
                                                                                            41,
                                                                                            508,
                                                                                            0
                                                                                        ]
                                                                                    },
                                                                                    "args": [
                                                                                        {
                                                                                            "type": "literal",
                                                                                            "kind": "integer",
                                                                                            "value": "1"
                                                                                        }
                                                                                    ],
                                                                                    "loc": [
                                                                                        39,
                                                                                        508,
                                                                                        41,
                                                                                        508,
                                                                                        0
                                                                                    ]
                                                                                }
                                                                            ],
                                                                            "loc": [
                                                                                27,
                                                                                508,
                                                                                42,
                                                                                508,
                                                                                0
                                                                            ]
                                                                        }
                                                                    },
                                                                    {
                                                                        "type": "assign",
                                                                        "slot": {
                                                                            "type": "slot",
                                                                            "kind": "local",
                                                                            "index": 1
                                                                        },
                                                                        "value": {
                                                                            "type": "call",
                                                                            "callee": {
                                                                                "type": "slot",
                                                                                "kind": "global",
                                                                                "name": "fresh_operator",
                                                                                "loc": [
                                                                                    30,
                                                                                    509,
                                                                                    44,
                                                                                    509,
                                                                                    0
                                                                                ]
                                                                            },
                                                                            "args": [
                                                                                {
                                                                                    "type": "slot",
                                                                                    "kind": "local",
                                                                                    "index": 0
                                                                                },
                                                                                {
                                                                                    "type": "slot",
                                                                                    "kind": "global",
                                                                                    "name": "+",
                                                                                    "loc": [
                                                                                        52,
                                                                                        509,
                                                                                        53,
                                                                                        509,
                                                                                        0
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "list",
                                                                                    "values": [
                                                                                        {
                                                                                            "type": "literal",
                                                                                            "kind": "integer",
                                                                                            "value": "0"
                                                                                        },
                                                                                        {
                                                                                            "type": "literal",
                                                                                            "kind": "integer",
                                                                                            "value": "1"
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "literal",
                                                                                    "kind": "integer",
                                                                                    "value": "2"
                                                                                }
                                                                            ],
                                                                            "loc": [
                                                                                30,
                                                                                509,
                                                                                65,
                                                                                509,
                                                                                0
                                                                            ]
                                                                        }
                                                                    },
                                                                    {
                                                                        "type": "assign",
                                                                        "slot": {
                                                                            "type": "slot",
                                                                            "kind": "local",
                                                                            "index": 2
                                                                        },
                                                                        "value": {
                                                                            "type": "call",
                                                                            "callee": {
                                                                                "type": "slot",
                                                                                "kind": "global",
                                                                                "name": "fresh_port",
                                                                                "loc": [
                                                                                    28,
                                                                                    510,
                                                                                    38,
                                                                                    510,
                                                                                    0
                                                                                ]
                                                                            },
                                                                            "args": [
                                                                                
                                                                            ],
                                                                            "loc": [
                                                                                28,
                                                                                510,
                                                                                40,
                                                                                510,
                                                                                0
                                                                            ]
                                                                        }
                                                                    },
                                                                    {
                                                                        "type": "call",
                                                                        "callee": {
                                                                            "type": "slot",
                                                                            "kind": "attr",
                                                                            "base": {
                                                                                "type": "slot",
                                                                                "kind": "attr",
                                                                                "base": {
                                                                                    "type": "slot",
                                                                                    "kind": "attr",
                                                                                    "base": {
                                                                                        "type": "slot",
                                                                                        "kind": "local",
                                                                                        "index": 2
                                                                                    },
                                                                                    "name": "input",
                                                                                    "loc": [
                                                                                        20,
                                                                                        511,
                                                                                        31,
                                                                                        511,
                                                                                        0
                                                                                    ]
                                                                                },
                                                                                "name": "heads",
                                                                                "loc": [
                                                                                    20,
                                                                                    511,
                                                                                    37,
                                                                                    511,
                                                                                    0
                                                                                ]
                                                                            },
                                                                            "name": "add",
                                                                            "loc": [
                                                                                20,
                                                                                511,
                                                                                41,
                                                                                511,
                                                                                0
                                                                            ]
                                                                        },
                                                                        "args": [
                                                                            {
                                                                                "type": "call",
                                                                                "callee": {
                                                                                    "type": "slot",
                                                                                    "kind": "global",
                                                                                    "name": "sink",
                                                                                    "loc": [
                                                                                        42,
                                                                                        511,
                                                                                        46,
                                                                                        511,
                                                                                        0
                                                                                    ]
                                                                                },
                                                                                "args": [
                                                                                    {
                                                                                        "type": "literal",
                                                                                        "kind": "integer",
                                                                                        "value": "0"
                                                                                    },
                                                                                    {
                                                                                        "type": "slot",
                                                                                        "kind": "local",
                                                                                        "index": 1
                                                                                    }
                                                                                ],
                                                                                "loc": [
                                                                                    42,
                                                                                    511,
                                                                                    58,
                                                                                    511,
                                                                                    0
                                                                                ]
                                                                            }
                                                                        ],
                                                                        "loc": [
                                                                            20,
                                                                            511,
                                                                            59,
                                                                            511,
                                                                            0
                                                                        ]
                                                                    },
                                                                    {
                                                                        "type": "assign",
                                                                        "slot": {
                                                                            "type": "slot",
                                                                            "kind": "local",
                                                                            "index": 3
                                                                        },
                                                                        "value": {
                                                                            "type": "call",
                                                                            "callee": {
                                                                                "type": "slot",
                                                                                "kind": "global",
                                                                                "name": "fresh_port",
                                                                                "loc": [
                                                                                    28,
                                                                                    512,
                                                                                    38,
                                                                                    512,
                                                                                    0
                                                                                ]
                                                                            },
                                                                            "args": [
                                                                                
                                                                            ],
                                                                            "loc": [
                                                                                28,
                                                                                512,
                                                                                40,
                                                                                512,
                                                                                0
                                                                            ]
                                                                        }
                                                                    },
                                                                    {
                                                                        "type": "call",
                                                                        "callee": {
                                                                            "type": "slot",
                                                                            "kind": "attr",
                                                                            "base": {
                                                                                "type": "slot",
                                                                                "kind": "attr",
                                                                                "base": {
                                                                                    "type": "slot",
                                                                                    "kind": "attr",
                                                                                    "base": {
                                                                                        "type": "slot",
                                                                                        "kind": "local",
                                                                                        "index": 3
                                                                                    },
                                                                                    "name": "input",
                                                                                    "loc": [
                                                                                        20,
                                                                                        513,
                                                                                        31,
                                                                                        513,
                                                                                        0
                                                                                    ]
                                                                                },
                                                                                "name": "heads",
                                                                                "loc": [
                                                                                    20,
                                                                                    513,
                                                                                    37,
                                                                                    513,
                                                                                    0
                                                                                ]
                                                                            },
                                                                            "name": "add",
                                                                            "loc": [
                                                                                20,
                                                                                513,
                                                                                41,
                                                                                513,
                                                                                0
                                                                            ]
                                                                        },
                                                                        "args": [
                                                                            {
                                                                                "type": "call",
                                                                                "callee": {
                                                                                    "type": "slot",
                                                                                    "kind": "global",
                                                                                    "name": "sink",
                                                                                    "loc": [
                                                                                        42,
                                                                                        513,
                                                                                        46,
                                                                                        513,
                                                                                        0
                                                                                    ]
                                                                                },
                                                                                "args": [
                                                                                    {
                                                                                        "type": "literal",
                                                                                        "kind": "integer",
                                                                                        "value": "1"
                                                                                    },
                                                                                    {
                                                                                        "type": "slot",
                                                                                        "kind": "local",
                                                                                        "index": 1
                                                                                    }
                                                                                ],
                                                                                "loc": [
                                                                                    42,
                                                                                    513,
                                                                                    58,
                                                                                    513,
                                                                                    0
                                                                                ]
                                                                            }
                                                                        ],
                                                                        "loc": [
                                                                            20,
                                                                            513,
                                                                            59,
                                                                            513,
                                                                            0
                                                                        ]
                                                                    },
                                                                    {
                                                                        "type": "assign",
                                                                        "slot": {
                                                                            "type": "slot",
                                                                            "kind": "local",
                                                                            "index": 4
                                                                        },
                                                                        "value": {
                                                                            "type": "call",
                                                                            "callee": {
                                                                                "type": "slot",
                                                                                "kind": "global",
                                                                                "name": "fresh_port",
                                                                                "loc": [
                                                                                    29,
                                                                                    514,
                                                                                    39,
                                                                                    514,
                                                                                    0
                                                                                ]
                                                                            },
                                                                            "args": [
                                                                                
                                                                            ],
                                                                            "loc": [
                                                                                29,
                                                                                514,
                                                                                41,
                                                                                514,
                                                                                0
                                                                            ]
                                                                        }
                                                                    },
                                                                    {
                                                                        "type": "call",
                                                                        "callee": {
                                                                            "type": "slot",
                                                                            "kind": "attr",
                                                                            "base": {
                                                                                "type": "slot",
                                                                                "kind": "local",
                                                                                "index": 0
                                                                            },
                                                                            "name": "add_transition",
                                                                            "loc": [
                                                                                20,
                                                                                515,
                                                                                39,
                                                                                515,
                                                                                0
                                                                            ]
                                                                        },
                                                                        "args": [
                                                                            {
                                                                                "type": "call",
                                                                                "callee": {
                                                                                    "type": "slot",
                                                                                    "kind": "global",
                                                                                    "name": "get_dom",
                                                                                    "loc": [
                                                                                        40,
                                                                                        515,
                                                                                        47,
                                                                                        515,
                                                                                        0
                                                                                    ]
                                                                                },
                                                                                "args": [
                                                                                    {
                                                                                        "type": "literal",
                                                                                        "kind": "integer",
                                                                                        "value": "0"
                                                                                    }
                                                                                ],
                                                                                "loc": [
                                                                                    40,
                                                                                    515,
                                                                                    50,
                                                                                    515,
                                                                                    0
                                                                                ]
                                                                            },
                                                                            {
                                                                                "type": "slot",
                                                                                "kind": "attr",
                                                                                "base": {
                                                                                    "type": "slot",
                                                                                    "kind": "local",
                                                                                    "index": 2
                                                                                },
                                                                                "name": "output",
                                                                                "loc": [
                                                                                    52,
                                                                                    515,
                                                                                    64,
                                                                                    515,
                                                                                    0
                                                                                ]
                                                                            }
                                                                        ],
                                                                        "loc": [
                                                                            20,
                                                                            515,
                                                                            65,
                                                                            515,
                                                                            0
                                                                        ]
                                                                    },
                                                                    {
                                                                        "type": "call",
                                                                        "callee": {
                                                                            "type": "slot",
                                                                            "kind": "attr",
                                                                            "base": {
                                                                                "type": "slot",
                                                                                "kind": "local",
                                                                                "index": 0
                                                                            },
                                                                            "name": "add_transition",
                                                                            "loc": [
                                                                                20,
                                                                                516,
                                                                                39,
                                                                                516,
                                                                                0
                                                                            ]
                                                                        },
                                                                        "args": [
                                                                            {
                                                                                "type": "call",
                                                                                "callee": {
                                                                                    "type": "slot",
                                                                                    "kind": "global",
                                                                                    "name": "get_dom",
                                                                                    "loc": [
                                                                                        40,
                                                                                        516,
                                                                                        47,
                                                                                        516,
                                                                                        0
                                                                                    ]
                                                                                },
                                                                                "args": [
                                                                                    {
                                                                                        "type": "literal",
                                                                                        "kind": "integer",
                                                                                        "value": "1"
                                                                                    }
                                                                                ],
                                                                                "loc": [
                                                                                    40,
                                                                                    516,
                                                                                    50,
                                                                                    516,
                                                                                    0
                                                                                ]
                                                                            },
                                                                            {
                                                                                "type": "slot",
                                                                                "kind": "attr",
                                                                                "base": {
                                                                                    "type": "slot",
                                                                                    "kind": "local",
                                                                                    "index": 3
                                                                                },
                                                                                "name": "output",
                                                                                "loc": [
                                                                                    52,
                                                                                    516,
                                                                                    64,
                                                                                    516,
                                                                                    0
                                                                                ]
                                                                            }
                                                                        ],
                                                                        "loc": [
                                                                            20,
                                                                            516,
                                                                            65,
                                                                            516,
                                                                            0
                                                                        ]
                                                                    },
                                                                    {
                                                                        "type": "call",
                                                                        "callee": {
                                                                            "type": "slot",
                                                                            "kind": "attr",
                                                                            "base": {
                                                                                "type": "slot",
                                                                                "kind": "local",
                                                                                "index": 0
                                                                            },
                                                                            "name": "add_transition",
                                                                            "loc": [
                                                                                20,
                                                                                517,
                                                                                39,
                                                                                517,
                                                                                0
                                                                            ]
                                                                        },
                                                                        "args": [
                                                                            {
                                                                                "type": "slot",
                                                                                "kind": "global",
                                                                                "name": "cod",
                                                                                "loc": [
                                                                                    40,
                                                                                    517,
                                                                                    43,
                                                                                    517,
                                                                                    0
                                                                                ]
                                                                            },
                                                                            {
                                                                                "type": "slot",
                                                                                "kind": "attr",
                                                                                "base": {
                                                                                    "type": "slot",
                                                                                    "kind": "local",
                                                                                    "index": 4
                                                                                },
                                                                                "name": "input",
                                                                                "loc": [
                                                                                    45,
                                                                                    517,
                                                                                    57,
                                                                                    517,
                                                                                    0
                                                                                ]
                                                                            }
                                                                        ],
                                                                        "loc": [
                                                                            20,
                                                                            517,
                                                                            58,
                                                                            517,
                                                                            0
                                                                        ]
                                                                    },
                                                                    {
                                                                        "type": "assign",
                                                                        "slot": {
                                                                            "type": "slot",
                                                                            "kind": "local",
                                                                            "index": 5
                                                                        },
                                                                        "value": {
                                                                            "type": "call",
                                                                            "callee": {
                                                                                "type": "slot",
                                                                                "kind": "global",
                                                                                "name": "fresh_state",
                                                                                "loc": [
                                                                                    24,
                                                                                    519,
                                                                                    35,
                                                                                    519,
                                                                                    0
                                                                                ]
                                                                            },
                                                                            "args": [
                                                                                {
                                                                                    "type": "call",
                                                                                    "callee": {
                                                                                        "type": "slot",
                                                                                        "kind": "global",
                                                                                        "name": "+expr",
                                                                                        "loc": [
                                                                                            36,
                                                                                            519,
                                                                                            38,
                                                                                            519,
                                                                                            0
                                                                                        ]
                                                                                    },
                                                                                    "args": [
                                                                                        {
                                                                                            "type": "literal",
                                                                                            "kind": "integer",
                                                                                            "value": "1"
                                                                                        }
                                                                                    ],
                                                                                    "loc": [
                                                                                        36,
                                                                                        519,
                                                                                        38,
                                                                                        519,
                                                                                        0
                                                                                    ]
                                                                                }
                                                                            ],
                                                                            "loc": [
                                                                                24,
                                                                                519,
                                                                                39,
                                                                                519,
                                                                                0
                                                                            ]
                                                                        }
                                                                    },
                                                                    {
                                                                        "type": "call",
                                                                        "callee": {
                                                                            "type": "slot",
                                                                            "kind": "attr",
                                                                            "base": {
                                                                                "type": "slot",
                                                                                "kind": "attr",
                                                                                "base": {
                                                                                    "type": "slot",
                                                                                    "kind": "local",
                                                                                    "index": 5
                                                                                },
                                                                                "name": "heads",
                                                                                "loc": [
                                                                                    20,
                                                                                    520,
                                                                                    27,
                                                                                    520,
                                                                                    0
                                                                                ]
                                                                            },
                                                                            "name": "add",
                                                                            "loc": [
                                                                                20,
                                                                                520,
                                                                                31,
                                                                                520,
                                                                                0
                                                                            ]
                                                                        },
                                                                        "args": [
                                                                            {
                                                                                "type": "call",
                                                                                "callee": {
                                                                                    "type": "slot",
                                                                                    "kind": "global",
                                                                                    "name": "faucet",
                                                                                    "loc": [
                                                                                        32,
                                                                                        520,
                                                                                        38,
                                                                                        520,
                                                                                        0
                                                                                    ]
                                                                                },
                                                                                "args": [
                                                                                    {
                                                                                        "type": "call",
                                                                                        "callee": {
                                                                                            "type": "slot",
                                                                                            "kind": "global",
                                                                                            "name": "face",
                                                                                            "loc": [
                                                                                                39,
                                                                                                520,
                                                                                                43,
                                                                                                520,
                                                                                                0
                                                                                            ]
                                                                                        },
                                                                                        "args": [
                                                                                            {
                                                                                                "type": "slot",
                                                                                                "kind": "global",
                                                                                                "name": "+",
                                                                                                "loc": [
                                                                                                    45,
                                                                                                    520,
                                                                                                    46,
                                                                                                    520,
                                                                                                    0
                                                                                                ]
                                                                                            }
                                                                                        ],
                                                                                        "loc": [
                                                                                            39,
                                                                                            520,
                                                                                            48,
                                                                                            520,
                                                                                            0
                                                                                        ]
                                                                                    }
                                                                                ],
                                                                                "loc": [
                                                                                    32,
                                                                                    520,
                                                                                    49,
                                                                                    520,
                                                                                    0
                                                                                ]
                                                                            }
                                                                        ],
                                                                        "loc": [
                                                                            20,
                                                                            520,
                                                                            50,
                                                                            520,
                                                                            0
                                                                        ]
                                                                    },
                                                                    {
                                                                        "type": "call",
                                                                        "callee": {
                                                                            "type": "slot",
                                                                            "kind": "attr",
                                                                            "base": {
                                                                                "type": "slot",
                                                                                "kind": "local",
                                                                                "index": 5
                                                                            },
                                                                            "name": "add_transition",
                                                                            "loc": [
                                                                                20,
                                                                                521,
                                                                                36,
                                                                                521,
                                                                                0
                                                                            ]
                                                                        },
                                                                        "args": [
                                                                            {
                                                                                "type": "call",
                                                                                "callee": {
                                                                                    "type": "slot",
                                                                                    "kind": "global",
                                                                                    "name": "get_dom",
                                                                                    "loc": [
                                                                                        37,
                                                                                        521,
                                                                                        44,
                                                                                        521,
                                                                                        0
                                                                                    ]
                                                                                },
                                                                                "args": [
                                                                                    {
                                                                                        "type": "literal",
                                                                                        "kind": "integer",
                                                                                        "value": "0"
                                                                                    }
                                                                                ],
                                                                                "loc": [
                                                                                    37,
                                                                                    521,
                                                                                    47,
                                                                                    521,
                                                                                    0
                                                                                ]
                                                                            },
                                                                            {
                                                                                "type": "slot",
                                                                                "kind": "attr",
                                                                                "base": {
                                                                                    "type": "slot",
                                                                                    "kind": "local",
                                                                                    "index": 2
                                                                                },
                                                                                "name": "input",
                                                                                "loc": [
                                                                                    49,
                                                                                    521,
                                                                                    60,
                                                                                    521,
                                                                                    0
                                                                                ]
                                                                            }
                                                                        ],
                                                                        "loc": [
                                                                            20,
                                                                            521,
                                                                            61,
                                                                            521,
                                                                            0
                                                                        ]
                                                                    },
                                                                    {
                                                                        "type": "call",
                                                                        "callee": {
                                                                            "type": "slot",
                                                                            "kind": "attr",
                                                                            "base": {
                                                                                "type": "slot",
                                                                                "kind": "local",
                                                                                "index": 5
                                                                            },
                                                                            "name": "add_transition",
                                                                            "loc": [
                                                                                20,
                                                                                522,
                                                                                36,
                                                                                522,
                                                                                0
                                                                            ]
                                                                        },
                                                                        "args": [
                                                                            {
                                                                                "type": "call",
                                                                                "callee": {
                                                                                    "type": "slot",
                                                                                    "kind": "global",
                                                                                    "name": "get_dom",
                                                                                    "loc": [
                                                                                        37,
                                                                                        522,
                                                                                        44,
                                                                                        522,
                                                                                        0
                                                                                    ]
                                                                                },
                                                                                "args": [
                                                                                    {
                                                                                        "type": "literal",
                                                                                        "kind": "integer",
                                                                                        "value": "1"
                                                                                    }
                                                                                ],
                                                                                "loc": [
                                                                                    37,
                                                                                    522,
                                                                                    47,
                                                                                    522,
                                                                                    0
                                                                                ]
                                                                            },
                                                                            {
                                                                                "type": "slot",
                                                                                "kind": "attr",
                                                                                "base": {
                                                                                    "type": "slot",
                                                                                    "kind": "local",
                                                                                    "index": 3
                                                                                },
                                                                                "name": "input",
                                                                                "loc": [
                                                                                    49,
                                                                                    522,
                                                                                    60,
                                                                                    522,
                                                                                    0
                                                                                ]
                                                                            }
                                                                        ],
                                                                        "loc": [
                                                                            20,
                                                                            522,
                                                                            61,
                                                                            522,
                                                                            0
                                                                        ]
                                                                    },
                                                                    {
                                                                        "type": "call",
                                                                        "callee": {
                                                                            "type": "slot",
                                                                            "kind": "attr",
                                                                            "base": {
                                                                                "type": "slot",
                                                                                "kind": "local",
                                                                                "index": 5
                                                                            },
                                                                            "name": "add_transition",
                                                                            "loc": [
                                                                                20,
                                                                                523,
                                                                                36,
                                                                                523,
                                                                                0
                                                                            ]
                                                                        },
                                                                        "args": [
                                                                            {
                                                                                "type": "slot",
                                                                                "kind": "global",
                                                                                "name": "cod",
                                                                                "loc": [
                                                                                    37,
                                                                                    523,
                                                                                    40,
                                                                                    523,
                                                                                    0
                                                                                ]
                                                                            },
                                                                            {
                                                                                "type": "slot",
                                                                                "kind": "attr",
                                                                                "base": {
                                                                                    "type": "slot",
                                                                                    "kind": "local",
                                                                                    "index": 4
                                                                                },
                                                                                "name": "output",
                                                                                "loc": [
                                                                                    42,
                                                                                    523,
                                                                                    55,
                                                                                    523,
                                                                                    0
                                                                                ]
                                                                            }
                                                                        ],
                                                                        "loc": [
                                                                            20,
                                                                            523,
                                                                            56,
                                                                            523,
                                                                            0
                                                                        ]
                                                                    },
                                                                    {
                                                                        "type": "return",
                                                                        "value": {
                                                                            "type": "slot",
                                                                            "kind": "local",
                                                                            "index": 5
                                                                        }
                                                                    }
                                                                ],
                                                                "fbody": [],
                                                                "loc": [
                                                                    16,
                                                                    507,
                                                                    28,
                                                                    524,
                                                                    0
                                                                ]
                                                            },
                                                            {
                                                                "type": "assert",
                                                                "cond": {
                                                                    "type": "slot",
                                                                    "kind": "global",
                                                                    "name": "false",
                                                                    "loc": [
                                                                        23,
                                                                        525,
                                                                        28,
                                                                        525,
                                                                        0
                                                                    ]
                                                                },
                                                                "value": {
                                                                    "type": "literal",
                                                                    "kind": "string",
                                                                    "value": "not supported"
                                                                },
                                                                "loc": [
                                                                    16,
                                                                    525,
                                                                    47,
                                                                    525,
                                                                    0
                                                                ]
                                                            }
                                                        ],
                                                        "loc": [
                                                            18,
                                                            506,
                                                            47,
                                                            525,
                                                            0
                                                        ]
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                ],
                                "loc": [4, 502, 13, 526, 0]
                            }
                        ],
                        "default": [
                            {
                                "type": "call",
                                "callee": {
                                    "type": "slot",
                                    "kind": "global",
                                    "name": "print",
                                    "loc": [8, 528, 13, 528, 0]
                                },
                                "args": [
                                    {
                                        "type": "slot",
                                        "kind": "item",
                                        "base": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 0
                                        },
                                        "index": {
                                            "type": "literal",
                                            "kind": "string",
                                            "value": "kind"
                                        },
                                        "loc": [14, 528, 23, 528, 0]
                                    },
                                    {
                                        "type": "literal",
                                        "kind": "string",
                                        "value": "missing"
                                    }
                                ],
                                "loc": [8, 528, 35, 528, 0]
                            },
                            {
                                "type": "assert",
                                "cond": {
                                    "type": "slot",
                                    "kind": "global",
                                    "name": "false",
                                    "loc": [15, 529, 20, 529, 0]
                                },
                                "value": {
                                    "type": "literal",
                                    "kind": "string",
                                    "value": "missing inference for expression"
                                },
                                "loc": [8, 529, 58, 529, 0]
                            }
                        ],
                        "loc": [4, 492, 58, 529, 0]
                    }
                ],
                "loc": [17, 491, 58, 529, 0]
            }
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "foo",
                "loc": [0, 533, 3, 533, 0]
            },
            "value": {
                "type": "closure",
                "cellvars": [],
                "localvars": [],
                "frame": [],
                "args": [],
                "body": [
                    {
                        "type": "return",
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "global",
                                "name": "+",
                                "loc": [11, 534, 16, 534, 0]
                            },
                            "args": [
                                {
                                    "type": "literal",
                                    "kind": "integer",
                                    "value": "1"
                                },
                                {
                                    "type": "literal",
                                    "kind": "integer",
                                    "value": "5"
                                }
                            ],
                            "loc": [11, 534, 16, 534, 0]
                        }
                    }
                ],
                "loc": [6, 533, 16, 534, 0]
            }
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "env",
                "loc": [0, 536, 3, 536, 0]
            },
            "value": {
                "type": "call",
                "callee": {
                    "type": "slot",
                    "kind": "global",
                    "name": "environ",
                    "loc": [6, 536, 13, 536, 0]
                },
                "args": [
                    {
                        "type": "call",
                        "callee": {
                            "type": "slot",
                            "kind": "global",
                            "name": "dict",
                            "loc": [14, 536, 18, 536, 0]
                        },
                        "args": [],
                        "loc": [14, 536, 20, 536, 0]
                    },
                    {
                        "type": "call",
                        "callee": {
                            "type": "slot",
                            "kind": "global",
                            "name": "dict",
                            "loc": [22, 536, 26, 536, 0]
                        },
                        "args": [],
                        "loc": [22, 536, 28, 536, 0]
                    },
                    {
                        "type": "slot",
                        "kind": "global",
                        "name": "environ_end",
                        "loc": [30, 536, 41, 536, 0]
                    },
                    {
                        "type": "call",
                        "callee": {
                            "type": "slot",
                            "kind": "global",
                            "name": "set",
                            "loc": [43, 536, 46, 536, 0]
                        },
                        "args": [],
                        "loc": [43, 536, 48, 536, 0]
                    }
                ],
                "loc": [6, 536, 49, 536, 0]
            }
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "visited",
                "loc": [0, 537, 7, 537, 0]
            },
            "value": {
                "type": "call",
                "callee": {
                    "type": "slot",
                    "kind": "global",
                    "name": "set",
                    "loc": [10, 537, 13, 537, 0]
                },
                "args": [],
                "loc": [10, 537, 15, 537, 0]
            }
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "out",
                "loc": [0, 539, 3, 539, 0]
            },
            "value": {
                "type": "call",
                "callee": {
                    "type": "slot",
                    "kind": "global",
                    "name": "inference_function",
                    "loc": [6, 539, 24, 539, 0]
                },
                "args": [
                    {
                        "type": "slot",
                        "kind": "global",
                        "name": "foo",
                        "loc": [25, 539, 28, 539, 0]
                    },
                    {
                        "type": "slot",
                        "kind": "global",
                        "name": "env",
                        "loc": [30, 539, 33, 539, 0]
                    },
                    {
                        "type": "slot",
                        "kind": "global",
                        "name": "visited",
                        "loc": [35, 539, 42, 539, 0]
                    }
                ],
                "loc": [6, 539, 43, 539, 0]
            }
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "out_scheme",
                "loc": [0, 540, 10, 540, 0]
            },
            "value": {
                "type": "call",
                "callee": {
                    "type": "slot",
                    "kind": "global",
                    "name": "generalize",
                    "loc": [13, 540, 23, 540, 0]
                },
                "args": [
                    {
                        "type": "slot",
                        "kind": "global",
                        "name": "out",
                        "loc": [24, 540, 27, 540, 0]
                    },
                    {
                        "type": "slot",
                        "kind": "global",
                        "name": "env",
                        "loc": [29, 540, 32, 540, 0]
                    }
                ],
                "loc": [13, 540, 33, 540, 0]
            }
        },
        {
            "type": "call",
            "callee": {
                "type": "slot",
                "kind": "global",
                "name": "print",
                "loc": [0, 541, 5, 541, 0]
            },
            "args": [
                {
                    "type": "call",
                    "callee": {
                        "type": "slot",
                        "kind": "global",
                        "name": "to_raw_type",
                        "loc": [6, 541, 17, 541, 0]
                    },
                    "args": [
                        {
                            "type": "slot",
                            "kind": "global",
                            "name": "out_scheme",
                            "loc": [18, 541, 28, 541, 0]
                        }
                    ],
                    "loc": [6, 541, 29, 541, 0]
                }
            ],
            "loc": [0, 541, 30, 541, 0]
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "test1",
                "loc": [0, 574, 5, 574, 0]
            },
            "value": {
                "type": "call",
                "callee": {
                    "type": "slot",
                    "kind": "global",
                    "name": "fresh_state",
                    "loc": [8, 574, 19, 574, 0]
                },
                "args": [
                    {
                        "type": "call",
                        "callee": {
                            "type": "slot",
                            "kind": "global",
                            "name": "+expr",
                            "loc": [20, 574, 22, 574, 0]
                        },
                        "args": [
                            {"type": "literal", "kind": "integer", "value": "1"}
                        ],
                        "loc": [20, 574, 22, 574, 0]
                    }
                ],
                "loc": [8, 574, 23, 574, 0]
            }
        },
        {
            "type": "call",
            "callee": {
                "type": "slot",
                "kind": "attr",
                "base": {
                    "type": "slot",
                    "kind": "attr",
                    "base": {
                        "type": "slot",
                        "kind": "global",
                        "name": "test1",
                        "loc": [0, 575, 5, 575, 0]
                    },
                    "name": "heads",
                    "loc": [0, 575, 11, 575, 0]
                },
                "name": "add",
                "loc": [0, 575, 15, 575, 0]
            },
            "args": [
                {
                    "type": "call",
                    "callee": {
                        "type": "slot",
                        "kind": "global",
                        "name": "faucet",
                        "loc": [16, 575, 22, 575, 0]
                    },
                    "args": [
                        {
                            "type": "slot",
                            "kind": "global",
                            "name": "Integer",
                            "loc": [23, 575, 30, 575, 0]
                        }
                    ],
                    "loc": [16, 575, 31, 575, 0]
                }
            ],
            "loc": [0, 575, 32, 575, 0]
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "test1_scheme",
                "loc": [0, 576, 12, 576, 0]
            },
            "value": {
                "type": "record",
                "fields": [
                    {
                        "name": "generic",
                        "mutable": false,
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "global",
                                "name": "set",
                                "loc": [13, 577, 16, 577, 0]
                            },
                            "args": [
                                {
                                    "type": "list",
                                    "values": [
                                        {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "test1",
                                            "loc": [18, 577, 23, 577, 0]
                                        }
                                    ]
                                }
                            ],
                            "loc": [13, 577, 25, 577, 0]
                        }
                    },
                    {
                        "name": "root",
                        "mutable": false,
                        "value": {
                            "type": "slot",
                            "kind": "global",
                            "name": "test1",
                            "loc": [13, 578, 18, 578, 0]
                        }
                    }
                ]
            }
        },
        {
            "type": "call",
            "callee": {
                "type": "slot",
                "kind": "global",
                "name": "print",
                "loc": [0, 579, 5, 579, 0]
            },
            "args": [
                {
                    "type": "call",
                    "callee": {
                        "type": "slot",
                        "kind": "global",
                        "name": "to_raw_type",
                        "loc": [6, 579, 17, 579, 0]
                    },
                    "args": [
                        {
                            "type": "slot",
                            "kind": "global",
                            "name": "test1_scheme",
                            "loc": [18, 579, 30, 579, 0]
                        }
                    ],
                    "loc": [6, 579, 31, 579, 0]
                }
            ],
            "loc": [0, 579, 32, 579, 0]
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "test2_generic",
                "loc": [0, 581, 13, 581, 0]
            },
            "value": {
                "type": "call",
                "callee": {
                    "type": "slot",
                    "kind": "global",
                    "name": "set",
                    "loc": [16, 581, 19, 581, 0]
                },
                "args": [],
                "loc": [16, 581, 21, 581, 0]
            }
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "test2",
                "loc": [0, 582, 5, 582, 0]
            },
            "value": {
                "type": "call",
                "callee": {
                    "type": "slot",
                    "kind": "global",
                    "name": "fresh_state",
                    "loc": [8, 582, 19, 582, 0]
                },
                "args": [
                    {
                        "type": "call",
                        "callee": {
                            "type": "slot",
                            "kind": "global",
                            "name": "+expr",
                            "loc": [20, 582, 22, 582, 0]
                        },
                        "args": [
                            {"type": "literal", "kind": "integer", "value": "1"}
                        ],
                        "loc": [20, 582, 22, 582, 0]
                    }
                ],
                "loc": [8, 582, 23, 582, 0]
            }
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "fn",
                "loc": [0, 583, 2, 583, 0]
            },
            "value": {
                "type": "call",
                "callee": {
                    "type": "slot",
                    "kind": "global",
                    "name": "face",
                    "loc": [5, 583, 9, 583, 0]
                },
                "args": [
                    {
                        "type": "slot",
                        "kind": "global",
                        "name": "greedy_biclique_decomposition",
                        "loc": [10, 583, 39, 583, 0]
                    }
                ],
                "loc": [5, 583, 40, 583, 0]
            }
        },
        {
            "type": "call",
            "callee": {
                "type": "slot",
                "kind": "attr",
                "base": {
                    "type": "slot",
                    "kind": "attr",
                    "base": {
                        "type": "slot",
                        "kind": "global",
                        "name": "test2",
                        "loc": [0, 584, 5, 584, 0]
                    },
                    "name": "heads",
                    "loc": [0, 584, 11, 584, 0]
                },
                "name": "add",
                "loc": [0, 584, 15, 584, 0]
            },
            "args": [
                {
                    "type": "call",
                    "callee": {
                        "type": "slot",
                        "kind": "global",
                        "name": "faucet",
                        "loc": [16, 584, 22, 584, 0]
                    },
                    "args": [
                        {
                            "type": "slot",
                            "kind": "global",
                            "name": "fn",
                            "loc": [23, 584, 25, 584, 0]
                        }
                    ],
                    "loc": [16, 584, 26, 584, 0]
                }
            ],
            "loc": [0, 584, 27, 584, 0]
        },
        {
            "type": "repeat",
            "fresh": [],
            "heads": [
                {
                    "type": "for",
                    "slot": {"type": "slot", "kind": "local", "index": 0},
                    "value": {
                        "type": "call",
                        "callee": {
                            "type": "slot",
                            "kind": "attr",
                            "base": {
                                "type": "slot",
                                "kind": "global",
                                "name": "fn",
                                "loc": [13, 585, 15, 585, 0]
                            },
                            "name": "params",
                            "loc": [13, 585, 22, 585, 0]
                        },
                        "args": [],
                        "loc": [13, 585, 24, 585, 0]
                    }
                }
            ],
            "body": [
                {
                    "type": "assign",
                    "slot": {"type": "slot", "kind": "local", "index": 1},
                    "value": {
                        "type": "call",
                        "callee": {
                            "type": "slot",
                            "kind": "global",
                            "name": "fresh_state",
                            "loc": [9, 586, 20, 586, 0]
                        },
                        "args": [
                            {
                                "type": "slot",
                                "kind": "attr",
                                "base": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 0
                                },
                                "name": "pol",
                                "loc": [21, 586, 30, 586, 0]
                            }
                        ],
                        "loc": [9, 586, 31, 586, 0]
                    }
                },
                {
                    "type": "call",
                    "callee": {
                        "type": "slot",
                        "kind": "attr",
                        "base": {
                            "type": "slot",
                            "kind": "global",
                            "name": "test2",
                            "loc": [4, 587, 9, 587, 0]
                        },
                        "name": "add_transition",
                        "loc": [4, 587, 24, 587, 0]
                    },
                    "args": [
                        {"type": "slot", "kind": "local", "index": 0},
                        {"type": "slot", "kind": "local", "index": 1}
                    ],
                    "loc": [4, 587, 35, 587, 0]
                },
                {
                    "type": "call",
                    "callee": {
                        "type": "slot",
                        "kind": "attr",
                        "base": {
                            "type": "slot",
                            "kind": "global",
                            "name": "test2_generic",
                            "loc": [4, 588, 17, 588, 0]
                        },
                        "name": "add",
                        "loc": [4, 588, 21, 588, 0]
                    },
                    "args": [{"type": "slot", "kind": "local", "index": 1}],
                    "loc": [4, 588, 25, 588, 0]
                }
            ]
        },
        {
            "type": "call",
            "callee": {
                "type": "slot",
                "kind": "attr",
                "base": {
                    "type": "slot",
                    "kind": "global",
                    "name": "test2_generic",
                    "loc": [0, 589, 13, 589, 0]
                },
                "name": "add",
                "loc": [0, 589, 17, 589, 0]
            },
            "args": [
                {
                    "type": "slot",
                    "kind": "global",
                    "name": "test2",
                    "loc": [18, 589, 23, 589, 0]
                }
            ],
            "loc": [0, 589, 24, 589, 0]
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "test2_scheme",
                "loc": [0, 590, 12, 590, 0]
            },
            "value": {
                "type": "record",
                "fields": [
                    {
                        "name": "generic",
                        "mutable": false,
                        "value": {
                            "type": "slot",
                            "kind": "global",
                            "name": "test2_generic",
                            "loc": [13, 591, 26, 591, 0]
                        }
                    },
                    {
                        "name": "root",
                        "mutable": false,
                        "value": {
                            "type": "slot",
                            "kind": "global",
                            "name": "test2",
                            "loc": [13, 592, 18, 592, 0]
                        }
                    }
                ]
            }
        },
        {
            "type": "call",
            "callee": {
                "type": "slot",
                "kind": "global",
                "name": "print",
                "loc": [0, 593, 5, 593, 0]
            },
            "args": [
                {
                    "type": "call",
                    "callee": {
                        "type": "slot",
                        "kind": "global",
                        "name": "to_raw_type",
                        "loc": [6, 593, 17, 593, 0]
                    },
                    "args": [
                        {
                            "type": "slot",
                            "kind": "global",
                            "name": "test2_scheme",
                            "loc": [18, 593, 30, 593, 0]
                        }
                    ],
                    "loc": [6, 593, 31, 593, 0]
                }
            ],
            "loc": [0, 593, 32, 593, 0]
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "test3_generic",
                "loc": [0, 595, 13, 595, 0]
            },
            "value": {
                "type": "call",
                "callee": {
                    "type": "slot",
                    "kind": "global",
                    "name": "set",
                    "loc": [16, 595, 19, 595, 0]
                },
                "args": [],
                "loc": [16, 595, 21, 595, 0]
            }
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "test3",
                "loc": [0, 596, 5, 596, 0]
            },
            "value": {
                "type": "call",
                "callee": {
                    "type": "slot",
                    "kind": "global",
                    "name": "fresh_state",
                    "loc": [8, 596, 19, 596, 0]
                },
                "args": [
                    {
                        "type": "call",
                        "callee": {
                            "type": "slot",
                            "kind": "global",
                            "name": "+expr",
                            "loc": [20, 596, 22, 596, 0]
                        },
                        "args": [
                            {"type": "literal", "kind": "integer", "value": "1"}
                        ],
                        "loc": [20, 596, 22, 596, 0]
                    }
                ],
                "loc": [8, 596, 23, 596, 0]
            }
        },
        {
            "type": "call",
            "callee": {
                "type": "slot",
                "kind": "attr",
                "base": {
                    "type": "slot",
                    "kind": "attr",
                    "base": {
                        "type": "slot",
                        "kind": "global",
                        "name": "test3",
                        "loc": [0, 597, 5, 597, 0]
                    },
                    "name": "heads",
                    "loc": [0, 597, 11, 597, 0]
                },
                "name": "add",
                "loc": [0, 597, 15, 597, 0]
            },
            "args": [
                {
                    "type": "call",
                    "callee": {
                        "type": "slot",
                        "kind": "global",
                        "name": "faucet",
                        "loc": [16, 597, 22, 597, 0]
                    },
                    "args": [
                        {
                            "type": "slot",
                            "kind": "global",
                            "name": "List",
                            "loc": [23, 597, 27, 597, 0]
                        }
                    ],
                    "loc": [16, 597, 28, 597, 0]
                }
            ],
            "loc": [0, 597, 29, 597, 0]
        },
        {
            "type": "repeat",
            "fresh": [],
            "heads": [
                {
                    "type": "for",
                    "slot": {"type": "slot", "kind": "local", "index": 2},
                    "value": {
                        "type": "call",
                        "callee": {
                            "type": "slot",
                            "kind": "attr",
                            "base": {
                                "type": "slot",
                                "kind": "global",
                                "name": "List",
                                "loc": [13, 598, 17, 598, 0]
                            },
                            "name": "params",
                            "loc": [13, 598, 24, 598, 0]
                        },
                        "args": [],
                        "loc": [13, 598, 26, 598, 0]
                    }
                }
            ],
            "body": [
                {
                    "type": "assign",
                    "slot": {"type": "slot", "kind": "local", "index": 3},
                    "value": {
                        "type": "call",
                        "callee": {
                            "type": "slot",
                            "kind": "global",
                            "name": "fresh_state",
                            "loc": [9, 599, 20, 599, 0]
                        },
                        "args": [
                            {
                                "type": "slot",
                                "kind": "attr",
                                "base": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 2
                                },
                                "name": "pol",
                                "loc": [21, 599, 30, 599, 0]
                            }
                        ],
                        "loc": [9, 599, 31, 599, 0]
                    }
                },
                {
                    "type": "call",
                    "callee": {
                        "type": "slot",
                        "kind": "attr",
                        "base": {
                            "type": "slot",
                            "kind": "global",
                            "name": "test3",
                            "loc": [4, 600, 9, 600, 0]
                        },
                        "name": "add_transition",
                        "loc": [4, 600, 24, 600, 0]
                    },
                    "args": [
                        {"type": "slot", "kind": "local", "index": 2},
                        {"type": "slot", "kind": "local", "index": 3}
                    ],
                    "loc": [4, 600, 35, 600, 0]
                },
                {
                    "type": "call",
                    "callee": {
                        "type": "slot",
                        "kind": "attr",
                        "base": {
                            "type": "slot",
                            "kind": "global",
                            "name": "test3_generic",
                            "loc": [4, 601, 17, 601, 0]
                        },
                        "name": "add",
                        "loc": [4, 601, 21, 601, 0]
                    },
                    "args": [{"type": "slot", "kind": "local", "index": 3}],
                    "loc": [4, 601, 25, 601, 0]
                }
            ]
        },
        {
            "type": "call",
            "callee": {
                "type": "slot",
                "kind": "attr",
                "base": {
                    "type": "slot",
                    "kind": "global",
                    "name": "test3_generic",
                    "loc": [0, 602, 13, 602, 0]
                },
                "name": "add",
                "loc": [0, 602, 17, 602, 0]
            },
            "args": [
                {
                    "type": "slot",
                    "kind": "global",
                    "name": "test3",
                    "loc": [18, 602, 23, 602, 0]
                }
            ],
            "loc": [0, 602, 24, 602, 0]
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "test3_scheme",
                "loc": [0, 603, 12, 603, 0]
            },
            "value": {
                "type": "record",
                "fields": [
                    {
                        "name": "generic",
                        "mutable": false,
                        "value": {
                            "type": "slot",
                            "kind": "global",
                            "name": "test3_generic",
                            "loc": [13, 604, 26, 604, 0]
                        }
                    },
                    {
                        "name": "root",
                        "mutable": false,
                        "value": {
                            "type": "slot",
                            "kind": "global",
                            "name": "test3",
                            "loc": [13, 605, 18, 605, 0]
                        }
                    }
                ]
            }
        },
        {
            "type": "call",
            "callee": {
                "type": "slot",
                "kind": "global",
                "name": "print",
                "loc": [0, 606, 5, 606, 0]
            },
            "args": [
                {
                    "type": "call",
                    "callee": {
                        "type": "slot",
                        "kind": "global",
                        "name": "to_raw_type",
                        "loc": [6, 606, 17, 606, 0]
                    },
                    "args": [
                        {
                            "type": "slot",
                            "kind": "global",
                            "name": "test3_scheme",
                            "loc": [18, 606, 30, 606, 0]
                        }
                    ],
                    "loc": [6, 606, 31, 606, 0]
                }
            ],
            "loc": [0, 606, 32, 606, 0]
        }
    ],
    "sources": ["intro.lc"]
}
