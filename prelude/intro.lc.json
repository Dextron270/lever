{
    "type": "script",
    "cellvars": [],
    "localvars": [
        {"type": "cell", "deref": false, "name": "param", "defs": 1},
        {"type": "cell", "deref": false, "name": "st", "defs": 1},
        {"type": "cell", "deref": false, "name": "param", "defs": 1},
        {"type": "cell", "deref": false, "name": "st", "defs": 1}
    ],
    "body": [
        {
            "type": "bind",
            "module": {
                "type": "call",
                "callee": {
                    "type": "slot",
                    "kind": "global",
                    "name": "import",
                    "loc": [0, 1, 33, 2, 0]
                },
                "args": [
                    {
                        "type": "literal",
                        "kind": "string",
                        "value": "graph_utils"
                    }
                ],
                "loc": [0, 1, 33, 2, 0]
            },
            "bindings": {
                "greedy_biclique_decomposition": "greedy_biclique_decomposition"
            },
            "loc": [0, 1, 33, 2, 0]
        },
        {
            "type": "datatype",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "State",
                "loc": [9, 7, 14, 7, 0]
            },
            "varc": 2,
            "rows": [
                [
                    {
                        "type": "slot",
                        "kind": "global",
                        "name": "state",
                        "loc": [24, 7, 29, 7, 0]
                    },
                    4,
                    {"pol": 0, "heads": 1, "flow": 2, "transitions": 3},
                    {
                        "type": "closure",
                        "cellvars": [],
                        "localvars": [
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "op",
                                "defs": 1
                            },
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "a",
                                "defs": 1
                            }
                        ],
                        "frame": [],
                        "args": [
                            {
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 0
                                }
                            },
                            {
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 1
                                }
                            }
                        ],
                        "body": [
                            {
                                "type": "return",
                                "value": {
                                    "type": "make_tuple",
                                    "items": [
                                        {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "Integer",
                                            "loc": [17, 8, 24, 8, 0]
                                        },
                                        {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "Set",
                                                "loc": [17, 9, 20, 9, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "call",
                                                    "callee": {
                                                        "type": "slot",
                                                        "kind": "global",
                                                        "name": "Sink",
                                                        "loc": [21, 9, 25, 9, 0]
                                                    },
                                                    "args": [
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 0
                                                        },
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 1
                                                        }
                                                    ],
                                                    "loc": [21, 9, 32, 9, 0]
                                                }
                                            ],
                                            "loc": [17, 9, 33, 9, 0]
                                        },
                                        {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "Set",
                                                "loc": [17, 10, 20, 10, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "call",
                                                    "callee": {
                                                        "type": "slot",
                                                        "kind": "global",
                                                        "name": "State",
                                                        "loc": [
                                                            21,
                                                            10,
                                                            26,
                                                            10,
                                                            0
                                                        ]
                                                    },
                                                    "args": [
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 0
                                                        },
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 1
                                                        }
                                                    ],
                                                    "loc": [21, 10, 33, 10, 0]
                                                }
                                            ],
                                            "loc": [17, 10, 34, 10, 0]
                                        },
                                        {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "Dict",
                                                "loc": [17, 11, 21, 11, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "Parameter",
                                                    "loc": [22, 11, 31, 11, 0]
                                                },
                                                {
                                                    "type": "call",
                                                    "callee": {
                                                        "type": "slot",
                                                        "kind": "global",
                                                        "name": "State",
                                                        "loc": [
                                                            33,
                                                            11,
                                                            38,
                                                            11,
                                                            0
                                                        ]
                                                    },
                                                    "args": [
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 0
                                                        },
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 1
                                                        }
                                                    ],
                                                    "loc": [33, 11, 45, 11, 0]
                                                }
                                            ],
                                            "loc": [17, 11, 46, 11, 0]
                                        }
                                    ]
                                }
                            }
                        ],
                        "loc": [0, 7, 50, 24, 0]
                    }
                ]
            ],
            "decls": [
                {
                    "type": "derived",
                    "ops": [
                        {
                            "type": "slot",
                            "kind": "global",
                            "name": "hash",
                            "loc": [7, 12, 11, 12, 0]
                        },
                        {
                            "type": "slot",
                            "kind": "global",
                            "name": "==",
                            "loc": [14, 12, 16, 12, 0]
                        }
                    ],
                    "value": {
                        "type": "slot",
                        "kind": "global",
                        "name": "by_reference",
                        "loc": [19, 12, 31, 12, 0]
                    }
                },
                {
                    "type": "attr_method",
                    "name": "add_flow",
                    "value": {
                        "type": "closure",
                        "cellvars": [],
                        "localvars": [
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "self",
                                "defs": 1
                            },
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "other",
                                "defs": 1
                            }
                        ],
                        "frame": [],
                        "args": [
                            {
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 0
                                }
                            },
                            {
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 1
                                }
                            }
                        ],
                        "body": [
                            {
                                "type": "assert",
                                "cond": {
                                    "type": "cmp",
                                    "exprs": [
                                        {
                                            "type": "slot",
                                            "kind": "attr",
                                            "base": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 0
                                            },
                                            "name": "pol",
                                            "loc": [11, 14, 19, 14, 0]
                                        },
                                        {
                                            "type": "slot",
                                            "kind": "attr",
                                            "base": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 1
                                            },
                                            "name": "pol",
                                            "loc": [23, 14, 32, 14, 0]
                                        }
                                    ],
                                    "ops": [
                                        {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "!=",
                                            "loc": [11, 14, 32, 14, 0]
                                        }
                                    ],
                                    "loc": [11, 14, 32, 14, 0]
                                },
                                "value": {
                                    "type": "literal",
                                    "kind": "string",
                                    "value": "polarity conflict"
                                },
                                "loc": [4, 14, 55, 14, 0]
                            },
                            {
                                "type": "call",
                                "callee": {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "attr",
                                        "base": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 0
                                        },
                                        "name": "flow",
                                        "loc": [4, 15, 13, 15, 0]
                                    },
                                    "name": "add",
                                    "loc": [4, 15, 17, 15, 0]
                                },
                                "args": [
                                    {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 1
                                    }
                                ],
                                "loc": [4, 15, 24, 15, 0]
                            },
                            {
                                "type": "call",
                                "callee": {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "attr",
                                        "base": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 1
                                        },
                                        "name": "flow",
                                        "loc": [4, 16, 14, 16, 0]
                                    },
                                    "name": "add",
                                    "loc": [4, 16, 18, 16, 0]
                                },
                                "args": [
                                    {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 0
                                    }
                                ],
                                "loc": [4, 16, 24, 16, 0]
                            }
                        ],
                        "loc": [28, 13, 24, 16, 0]
                    }
                },
                {
                    "type": "attr_method",
                    "name": "add_transition",
                    "value": {
                        "type": "closure",
                        "cellvars": [],
                        "localvars": [
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "self",
                                "defs": 1
                            },
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "parameter",
                                "defs": 1
                            },
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "other",
                                "defs": 1
                            }
                        ],
                        "frame": [],
                        "args": [
                            {
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 0
                                }
                            },
                            {
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 1
                                }
                            },
                            {
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 2
                                }
                            }
                        ],
                        "body": [
                            {
                                "type": "assert",
                                "cond": {
                                    "type": "cmp",
                                    "exprs": [
                                        {
                                            "type": "cmp",
                                            "exprs": [
                                                {
                                                    "type": "slot",
                                                    "kind": "attr",
                                                    "base": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 1
                                                    },
                                                    "name": "pol",
                                                    "loc": [12, 20, 25, 20, 0]
                                                },
                                                {
                                                    "type": "literal",
                                                    "kind": "integer",
                                                    "value": "0"
                                                }
                                            ],
                                            "ops": [
                                                {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": ">=",
                                                    "loc": [12, 20, 30, 20, 0]
                                                }
                                            ],
                                            "loc": [12, 20, 30, 20, 0]
                                        },
                                        {
                                            "type": "cmp",
                                            "exprs": [
                                                {
                                                    "type": "slot",
                                                    "kind": "attr",
                                                    "base": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 0
                                                    },
                                                    "name": "pol",
                                                    "loc": [36, 20, 44, 20, 0]
                                                },
                                                {
                                                    "type": "slot",
                                                    "kind": "attr",
                                                    "base": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 2
                                                    },
                                                    "name": "pol",
                                                    "loc": [48, 20, 57, 20, 0]
                                                }
                                            ],
                                            "ops": [
                                                {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "==",
                                                    "loc": [36, 20, 57, 20, 0]
                                                }
                                            ],
                                            "loc": [36, 20, 57, 20, 0]
                                        }
                                    ],
                                    "ops": [
                                        {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "==",
                                            "loc": [11, 20, 58, 20, 0]
                                        }
                                    ],
                                    "loc": [11, 20, 58, 20, 0]
                                },
                                "value": {
                                    "type": "literal",
                                    "kind": "string",
                                    "value": "polarity conflict"
                                },
                                "loc": [4, 20, 27, 21, 0]
                            },
                            {
                                "type": "except",
                                "body": [
                                    {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "attr",
                                            "base": {
                                                "type": "slot",
                                                "kind": "item",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "attr",
                                                    "base": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 0
                                                    },
                                                    "name": "transitions",
                                                    "loc": [4, 22, 20, 22, 0]
                                                },
                                                "index": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 1
                                                },
                                                "loc": [4, 22, 31, 22, 0]
                                            },
                                            "name": "add",
                                            "loc": [4, 22, 35, 22, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 2
                                            }
                                        ],
                                        "loc": [4, 22, 42, 22, 0]
                                    }
                                ],
                                "excepts": [
                                    {
                                        "exc": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "NoIndex",
                                            "loc": [11, 23, 18, 23, 0]
                                        },
                                        "body": [
                                            {
                                                "type": "assign",
                                                "slot": {
                                                    "type": "slot",
                                                    "kind": "item",
                                                    "base": {
                                                        "type": "slot",
                                                        "kind": "attr",
                                                        "base": {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 0
                                                        },
                                                        "name": "transitions",
                                                        "loc": [
                                                            8,
                                                            24,
                                                            24,
                                                            24,
                                                            0
                                                        ]
                                                    },
                                                    "index": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 1
                                                    },
                                                    "loc": [8, 24, 35, 24, 0]
                                                },
                                                "value": {
                                                    "type": "call",
                                                    "callee": {
                                                        "type": "slot",
                                                        "kind": "global",
                                                        "name": "set",
                                                        "loc": [
                                                            38,
                                                            24,
                                                            41,
                                                            24,
                                                            0
                                                        ]
                                                    },
                                                    "args": [
                                                        {
                                                            "type": "list",
                                                            "values": [
                                                                {
                                                                    "type": "slot",
                                                                    "kind": "local",
                                                                    "index": 2
                                                                }
                                                            ]
                                                        }
                                                    ],
                                                    "loc": [38, 24, 50, 24, 0]
                                                }
                                            }
                                        ]
                                    }
                                ],
                                "loc": [4, 22, 50, 24, 0]
                            }
                        ],
                        "loc": [34, 19, 50, 24, 0]
                    }
                }
            ],
            "loc": [0, 7, 50, 24, 0]
        },
        {
            "type": "datatype",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "Site",
                "loc": [9, 34, 13, 34, 0]
            },
            "varc": 2,
            "rows": [
                [
                    {
                        "type": "slot",
                        "kind": "global",
                        "name": "site",
                        "loc": [23, 34, 27, 34, 0]
                    },
                    6,
                    {
                        "op": 0,
                        "coerces": 1,
                        "state": 2,
                        "expect": 3,
                        "operators": 4,
                        "slots": 5
                    },
                    {
                        "type": "closure",
                        "cellvars": [],
                        "localvars": [
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "op",
                                "defs": 1
                            },
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "a",
                                "defs": 1
                            }
                        ],
                        "frame": [],
                        "args": [
                            {
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 0
                                }
                            },
                            {
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 1
                                }
                            }
                        ],
                        "body": [
                            {
                                "type": "return",
                                "value": {
                                    "type": "make_tuple",
                                    "items": [
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 0
                                        },
                                        {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "Set",
                                                "loc": [13, 36, 16, 36, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "make_tuple",
                                                    "items": [
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 1
                                                        },
                                                        {
                                                            "type": "slot",
                                                            "kind": "global",
                                                            "name": "Integer",
                                                            "loc": [
                                                                21,
                                                                36,
                                                                28,
                                                                36,
                                                                0
                                                            ]
                                                        },
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 1
                                                        }
                                                    ]
                                                }
                                            ],
                                            "loc": [13, 36, 33, 36, 0]
                                        },
                                        {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "State",
                                                "loc": [11, 37, 16, 37, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 0
                                                },
                                                {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 1
                                                }
                                            ],
                                            "loc": [11, 37, 23, 37, 0]
                                        },
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 1
                                        },
                                        {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "Dict",
                                                "loc": [15, 39, 19, 39, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 1
                                                },
                                                {
                                                    "type": "record",
                                                    "fields": [
                                                        {
                                                            "name": "input",
                                                            "mutable": false,
                                                            "value": {
                                                                "type": "call",
                                                                "callee": {
                                                                    "type": "slot",
                                                                    "kind": "global",
                                                                    "name": "State",
                                                                    "loc": [
                                                                        31,
                                                                        39,
                                                                        36,
                                                                        39,
                                                                        0
                                                                    ]
                                                                },
                                                                "args": [
                                                                    {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 0
                                                                    },
                                                                    {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 1
                                                                    }
                                                                ],
                                                                "loc": [
                                                                    31,
                                                                    39,
                                                                    43,
                                                                    39,
                                                                    0
                                                                ]
                                                            }
                                                        },
                                                        {
                                                            "name": "output",
                                                            "mutable": false,
                                                            "value": {
                                                                "type": "call",
                                                                "callee": {
                                                                    "type": "slot",
                                                                    "kind": "global",
                                                                    "name": "State",
                                                                    "loc": [
                                                                        53,
                                                                        39,
                                                                        58,
                                                                        39,
                                                                        0
                                                                    ]
                                                                },
                                                                "args": [
                                                                    {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 0
                                                                    },
                                                                    {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 1
                                                                    }
                                                                ],
                                                                "loc": [
                                                                    53,
                                                                    39,
                                                                    65,
                                                                    39,
                                                                    0
                                                                ]
                                                            }
                                                        }
                                                    ]
                                                }
                                            ],
                                            "loc": [15, 39, 67, 39, 0]
                                        },
                                        {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "Dict",
                                                "loc": [11, 40, 15, 40, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "Integer",
                                                    "loc": [16, 40, 23, 40, 0]
                                                },
                                                {
                                                    "type": "call",
                                                    "callee": {
                                                        "type": "slot",
                                                        "kind": "global",
                                                        "name": "Set",
                                                        "loc": [
                                                            25,
                                                            40,
                                                            28,
                                                            40,
                                                            0
                                                        ]
                                                    },
                                                    "args": [
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 1
                                                        }
                                                    ],
                                                    "loc": [25, 40, 31, 40, 0]
                                                }
                                            ],
                                            "loc": [11, 40, 32, 40, 0]
                                        }
                                    ]
                                }
                            }
                        ],
                        "loc": [0, 34, 66, 50, 0]
                    }
                ]
            ],
            "decls": [
                {
                    "type": "derived",
                    "ops": [
                        {
                            "type": "slot",
                            "kind": "global",
                            "name": "hash",
                            "loc": [7, 41, 11, 41, 0]
                        },
                        {
                            "type": "slot",
                            "kind": "global",
                            "name": "==",
                            "loc": [14, 41, 16, 41, 0]
                        }
                    ],
                    "value": {
                        "type": "slot",
                        "kind": "global",
                        "name": "by_reference",
                        "loc": [19, 41, 31, 41, 0]
                    }
                },
                {
                    "type": "attr_method",
                    "name": "transfer",
                    "value": {
                        "type": "closure",
                        "cellvars": [],
                        "localvars": [
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "self",
                                "defs": 1
                            },
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "fn",
                                "defs": 1
                            },
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "coerces",
                                "defs": 1
                            },
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "expect",
                                "defs": 1
                            },
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "state",
                                "defs": 1
                            },
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "operators",
                                "defs": 1
                            },
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "slots",
                                "defs": 1
                            },
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "index",
                                "defs": 1
                            },
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "slot",
                                "defs": 1
                            }
                        ],
                        "frame": [],
                        "args": [
                            {
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 0
                                }
                            },
                            {
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 1
                                }
                            }
                        ],
                        "body": [
                            {
                                "type": "assign",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 2
                                },
                                "value": {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "set",
                                        "loc": [14, 43, 17, 43, 0]
                                    },
                                    "args": [
                                        {
                                            "type": "slot",
                                            "kind": "attr",
                                            "base": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 0
                                            },
                                            "name": "coerces",
                                            "loc": [18, 43, 30, 43, 0]
                                        }
                                    ],
                                    "loc": [14, 43, 31, 43, 0]
                                }
                            },
                            {
                                "type": "assign",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 3
                                },
                                "value": {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 0
                                    },
                                    "name": "expect",
                                    "loc": [13, 44, 24, 44, 0]
                                }
                            },
                            {
                                "type": "assign",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 4
                                },
                                "value": {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 1
                                    },
                                    "args": [
                                        {
                                            "type": "slot",
                                            "kind": "attr",
                                            "base": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 0
                                            },
                                            "name": "state",
                                            "loc": [15, 45, 25, 45, 0]
                                        }
                                    ],
                                    "loc": [12, 45, 26, 45, 0]
                                }
                            },
                            {
                                "type": "assign",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 5
                                },
                                "value": {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "dict",
                                        "loc": [16, 46, 20, 46, 0]
                                    },
                                    "args": [{"type": "list", "values": []}],
                                    "loc": [16, 46, 24, 46, 0]
                                }
                            },
                            {
                                "type": "assign",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 6
                                },
                                "value": {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "copy",
                                        "loc": [12, 47, 16, 47, 0]
                                    },
                                    "args": [
                                        {
                                            "type": "slot",
                                            "kind": "attr",
                                            "base": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 0
                                            },
                                            "name": "slots",
                                            "loc": [17, 47, 27, 47, 0]
                                        }
                                    ],
                                    "loc": [12, 47, 28, 47, 0]
                                }
                            },
                            {
                                "type": "repeat",
                                "fresh": [],
                                "heads": [
                                    {
                                        "type": "for",
                                        "slot": {
                                            "type": "slot",
                                            "kind": "tuple",
                                            "slots": [
                                                {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 7
                                                },
                                                {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 8
                                                }
                                            ],
                                            "loc": [8, 48, 19, 48, 0]
                                        },
                                        "value": {
                                            "type": "slot",
                                            "kind": "attr",
                                            "base": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 0
                                            },
                                            "name": "operators",
                                            "loc": [23, 48, 37, 48, 0]
                                        }
                                    }
                                ],
                                "body": [
                                    {
                                        "type": "assign",
                                        "slot": {
                                            "type": "slot",
                                            "kind": "item",
                                            "base": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 5
                                            },
                                            "index": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 7
                                            },
                                            "loc": [8, 49, 24, 49, 0]
                                        },
                                        "value": {
                                            "type": "record",
                                            "fields": [
                                                {
                                                    "name": "input",
                                                    "mutable": false,
                                                    "value": {
                                                        "type": "call",
                                                        "callee": {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 1
                                                        },
                                                        "args": [
                                                            {
                                                                "type": "slot",
                                                                "kind": "attr",
                                                                "base": {
                                                                    "type": "slot",
                                                                    "kind": "local",
                                                                    "index": 8
                                                                },
                                                                "name": "input",
                                                                "loc": [
                                                                    37,
                                                                    49,
                                                                    47,
                                                                    49,
                                                                    0
                                                                ]
                                                            }
                                                        ],
                                                        "loc": [
                                                            34,
                                                            49,
                                                            48,
                                                            49,
                                                            0
                                                        ]
                                                    }
                                                },
                                                {
                                                    "name": "output",
                                                    "mutable": false,
                                                    "value": {
                                                        "type": "call",
                                                        "callee": {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 1
                                                        },
                                                        "args": [
                                                            {
                                                                "type": "slot",
                                                                "kind": "attr",
                                                                "base": {
                                                                    "type": "slot",
                                                                    "kind": "local",
                                                                    "index": 8
                                                                },
                                                                "name": "output",
                                                                "loc": [
                                                                    60,
                                                                    49,
                                                                    71,
                                                                    49,
                                                                    0
                                                                ]
                                                            }
                                                        ],
                                                        "loc": [
                                                            57,
                                                            49,
                                                            72,
                                                            49,
                                                            0
                                                        ]
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                ]
                            },
                            {
                                "type": "return",
                                "value": {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "site",
                                        "loc": [11, 50, 15, 50, 0]
                                    },
                                    "args": [
                                        {
                                            "type": "slot",
                                            "kind": "attr",
                                            "base": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 0
                                            },
                                            "name": "op",
                                            "loc": [16, 50, 23, 50, 0]
                                        },
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 2
                                        },
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 4
                                        },
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 3
                                        },
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 5
                                        },
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 6
                                        }
                                    ],
                                    "loc": [11, 50, 66, 50, 0]
                                }
                            }
                        ],
                        "loc": [28, 42, 66, 50, 0]
                    }
                }
            ],
            "loc": [0, 34, 66, 50, 0]
        },
        {
            "type": "datatype",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "Sink",
                "loc": [9, 52, 13, 52, 0]
            },
            "varc": 2,
            "rows": [
                [
                    {
                        "type": "slot",
                        "kind": "global",
                        "name": "sink",
                        "loc": [4, 53, 8, 53, 0]
                    },
                    2,
                    {"index": 0, "site": 1},
                    {
                        "type": "closure",
                        "cellvars": [],
                        "localvars": [
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "op",
                                "defs": 1
                            },
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "a",
                                "defs": 1
                            }
                        ],
                        "frame": [],
                        "args": [
                            {
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 0
                                }
                            },
                            {
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 1
                                }
                            }
                        ],
                        "body": [
                            {
                                "type": "return",
                                "value": {
                                    "type": "make_tuple",
                                    "items": [
                                        {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "Integer",
                                            "loc": [16, 53, 23, 53, 0]
                                        },
                                        {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "Site",
                                                "loc": [31, 53, 35, 53, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 0
                                                },
                                                {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 1
                                                }
                                            ],
                                            "loc": [31, 53, 42, 53, 0]
                                        }
                                    ]
                                }
                            }
                        ],
                        "loc": [0, 52, 27, 54, 0]
                    }
                ],
                [
                    {
                        "type": "slot",
                        "kind": "global",
                        "name": "faucet",
                        "loc": [46, 53, 52, 53, 0]
                    },
                    1,
                    {},
                    {
                        "type": "closure",
                        "cellvars": [],
                        "localvars": [
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "op",
                                "defs": 1
                            },
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "a",
                                "defs": 1
                            }
                        ],
                        "frame": [],
                        "args": [
                            {
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 0
                                }
                            },
                            {
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 1
                                }
                            }
                        ],
                        "body": [
                            {
                                "type": "return",
                                "value": {
                                    "type": "make_tuple",
                                    "items": [
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 1
                                        }
                                    ]
                                }
                            }
                        ],
                        "loc": [0, 52, 27, 54, 0]
                    }
                ]
            ],
            "decls": [
                {
                    "type": "derived",
                    "ops": [
                        {
                            "type": "slot",
                            "kind": "global",
                            "name": "hash",
                            "loc": [7, 54, 11, 54, 0]
                        },
                        {
                            "type": "slot",
                            "kind": "global",
                            "name": "==",
                            "loc": [14, 54, 16, 54, 0]
                        }
                    ],
                    "value": {
                        "type": "slot",
                        "kind": "global",
                        "name": "by_value",
                        "loc": [19, 54, 27, 54, 0]
                    }
                }
            ],
            "loc": [0, 52, 27, 54, 0]
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "unwrap",
                "loc": [0, 56, 6, 56, 0]
            },
            "value": {
                "type": "closure",
                "cellvars": [],
                "localvars": [
                    {"type": "cell", "deref": false, "name": "item", "defs": 1},
                    {"type": "cell", "deref": false, "name": "a", "defs": 1}
                ],
                "frame": [],
                "args": [
                    {"slot": {"type": "slot", "kind": "local", "index": 0}}
                ],
                "body": [
                    {
                        "type": "case",
                        "value": {"type": "slot", "kind": "local", "index": 0},
                        "cases": [
                            {
                                "type": "pattern",
                                "pattern": {
                                    "type": "slot",
                                    "kind": "global",
                                    "name": "faucet",
                                    "loc": [4, 58, 10, 58, 0]
                                },
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 1
                                },
                                "body": [
                                    {
                                        "type": "return",
                                        "value": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 1
                                        }
                                    }
                                ],
                                "loc": [4, 58, 27, 58, 0]
                            }
                        ],
                        "default": [],
                        "loc": [4, 57, 27, 58, 0]
                    }
                ],
                "loc": [9, 56, 27, 58, 0]
            }
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "fresh_state",
                "loc": [0, 61, 11, 61, 0]
            },
            "value": {
                "type": "closure",
                "cellvars": [],
                "localvars": [
                    {"type": "cell", "deref": false, "name": "pol", "defs": 1}
                ],
                "frame": [],
                "args": [
                    {"slot": {"type": "slot", "kind": "local", "index": 0}}
                ],
                "body": [
                    {
                        "type": "return",
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "global",
                                "name": "state",
                                "loc": [11, 62, 16, 62, 0]
                            },
                            "args": [
                                {"type": "slot", "kind": "local", "index": 0},
                                {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "set",
                                        "loc": [22, 62, 25, 62, 0]
                                    },
                                    "args": [{"type": "list", "values": []}],
                                    "loc": [22, 62, 29, 62, 0]
                                },
                                {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "set",
                                        "loc": [31, 62, 34, 62, 0]
                                    },
                                    "args": [{"type": "list", "values": []}],
                                    "loc": [31, 62, 38, 62, 0]
                                },
                                {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "dict",
                                        "loc": [40, 62, 44, 62, 0]
                                    },
                                    "args": [{"type": "list", "values": []}],
                                    "loc": [40, 62, 48, 62, 0]
                                }
                            ],
                            "loc": [11, 62, 49, 62, 0]
                        }
                    }
                ],
                "loc": [14, 61, 49, 62, 0]
            }
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "fresh_operator",
                "loc": [0, 64, 14, 64, 0]
            },
            "value": {
                "type": "closure",
                "cellvars": [],
                "localvars": [
                    {"type": "cell", "deref": false, "name": "state", "defs": 1
                    },
                    {"type": "cell", "deref": false, "name": "op", "defs": 1},
                    {
                        "type": "cell",
                        "deref": false,
                        "name": "indices",
                        "defs": 1
                    },
                    {"type": "cell", "deref": false, "name": "argc", "defs": 1},
                    {
                        "type": "cell",
                        "deref": false,
                        "name": "coerces",
                        "defs": 1
                    },
                    {
                        "type": "cell",
                        "deref": false,
                        "name": "expect",
                        "defs": 1
                    },
                    {
                        "type": "cell",
                        "deref": false,
                        "name": "operators",
                        "defs": 1
                    },
                    {"type": "cell", "deref": false, "name": "slots", "defs": 1
                    },
                    {"type": "cell", "deref": false, "name": "index", "defs": 1}
                ],
                "frame": [],
                "args": [
                    {"slot": {"type": "slot", "kind": "local", "index": 0}},
                    {"slot": {"type": "slot", "kind": "local", "index": 1}},
                    {"slot": {"type": "slot", "kind": "local", "index": 2}},
                    {"slot": {"type": "slot", "kind": "local", "index": 3}}
                ],
                "body": [
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "local", "index": 4},
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "global",
                                "name": "set",
                                "loc": [14, 65, 17, 65, 0]
                            },
                            "args": [],
                            "loc": [14, 65, 19, 65, 0]
                        }
                    },
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "local", "index": 5},
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "global",
                                "name": "get_function_header",
                                "loc": [13, 66, 32, 66, 0]
                            },
                            "args": [
                                {"type": "slot", "kind": "local", "index": 3},
                                {
                                    "type": "slot",
                                    "kind": "global",
                                    "name": "false",
                                    "loc": [39, 66, 44, 66, 0]
                                },
                                {
                                    "type": "literal",
                                    "kind": "integer",
                                    "value": "0"
                                }
                            ],
                            "loc": [13, 66, 48, 66, 0]
                        }
                    },
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "local", "index": 6},
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "global",
                                "name": "dict",
                                "loc": [16, 67, 20, 67, 0]
                            },
                            "args": [],
                            "loc": [16, 67, 22, 67, 0]
                        }
                    },
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "local", "index": 7},
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "global",
                                "name": "dict",
                                "loc": [12, 68, 16, 68, 0]
                            },
                            "args": [],
                            "loc": [12, 68, 18, 68, 0]
                        }
                    },
                    {
                        "type": "repeat",
                        "fresh": [],
                        "heads": [
                            {
                                "type": "for",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 8
                                },
                                "value": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 2
                                }
                            }
                        ],
                        "body": [
                            {
                                "type": "assign",
                                "slot": {
                                    "type": "slot",
                                    "kind": "item",
                                    "base": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 7
                                    },
                                    "index": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 8
                                    },
                                    "loc": [8, 70, 20, 70, 0]
                                },
                                "value": {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "set",
                                        "loc": [23, 70, 26, 70, 0]
                                    },
                                    "args": [],
                                    "loc": [23, 70, 28, 70, 0]
                                }
                            }
                        ]
                    },
                    {
                        "type": "call",
                        "callee": {
                            "type": "slot",
                            "kind": "attr",
                            "base": {
                                "type": "slot",
                                "kind": "attr",
                                "base": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 0
                                },
                                "name": "heads",
                                "loc": [4, 71, 15, 71, 0]
                            },
                            "name": "add",
                            "loc": [4, 71, 19, 71, 0]
                        },
                        "args": [
                            {
                                "type": "call",
                                "callee": {
                                    "type": "slot",
                                    "kind": "global",
                                    "name": "faucet",
                                    "loc": [20, 71, 26, 71, 0]
                                },
                                "args": [
                                    {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 5
                                    }
                                ],
                                "loc": [20, 71, 34, 71, 0]
                            }
                        ],
                        "loc": [4, 71, 35, 71, 0]
                    },
                    {
                        "type": "return",
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "global",
                                "name": "site",
                                "loc": [11, 72, 15, 72, 0]
                            },
                            "args": [
                                {"type": "slot", "kind": "local", "index": 1},
                                {"type": "slot", "kind": "local", "index": 4},
                                {"type": "slot", "kind": "local", "index": 0},
                                {"type": "slot", "kind": "local", "index": 5},
                                {"type": "slot", "kind": "local", "index": 6},
                                {"type": "slot", "kind": "local", "index": 7}
                            ],
                            "loc": [11, 72, 61, 72, 0]
                        }
                    }
                ],
                "loc": [17, 64, 61, 72, 0]
            }
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "fresh_port",
                "loc": [0, 74, 10, 74, 0]
            },
            "value": {
                "type": "closure",
                "cellvars": [],
                "localvars": [
                    {"type": "cell", "deref": false, "name": "input", "defs": 1
                    },
                    {
                        "type": "cell",
                        "deref": false,
                        "name": "output",
                        "defs": 1
                    }
                ],
                "frame": [],
                "args": [],
                "body": [
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "local", "index": 0},
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "global",
                                "name": "fresh_state",
                                "loc": [12, 75, 23, 75, 0]
                            },
                            "args": [
                                {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "-expr",
                                        "loc": [24, 75, 26, 75, 0]
                                    },
                                    "args": [
                                        {
                                            "type": "literal",
                                            "kind": "integer",
                                            "value": "1"
                                        }
                                    ],
                                    "loc": [24, 75, 26, 75, 0]
                                }
                            ],
                            "loc": [12, 75, 27, 75, 0]
                        }
                    },
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "local", "index": 1},
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "global",
                                "name": "fresh_state",
                                "loc": [13, 76, 24, 76, 0]
                            },
                            "args": [
                                {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "+expr",
                                        "loc": [25, 76, 27, 76, 0]
                                    },
                                    "args": [
                                        {
                                            "type": "literal",
                                            "kind": "integer",
                                            "value": "1"
                                        }
                                    ],
                                    "loc": [25, 76, 27, 76, 0]
                                }
                            ],
                            "loc": [13, 76, 28, 76, 0]
                        }
                    },
                    {
                        "type": "call",
                        "callee": {
                            "type": "slot",
                            "kind": "attr",
                            "base": {
                                "type": "slot",
                                "kind": "local",
                                "index": 0
                            },
                            "name": "add_flow",
                            "loc": [4, 77, 18, 77, 0]
                        },
                        "args": [{"type": "slot", "kind": "local", "index": 1}],
                        "loc": [4, 77, 26, 77, 0]
                    },
                    {
                        "type": "return",
                        "value": {
                            "type": "record",
                            "fields": [
                                {
                                    "name": "input",
                                    "mutable": false,
                                    "value": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 0
                                    }
                                },
                                {
                                    "name": "output",
                                    "mutable": false,
                                    "value": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 1
                                    }
                                }
                            ]
                        }
                    }
                ],
                "loc": [13, 74, 41, 78, 0]
            }
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "fresh_free_port",
                "loc": [0, 80, 15, 80, 0]
            },
            "value": {
                "type": "closure",
                "cellvars": [],
                "localvars": [
                    {"type": "cell", "deref": false, "name": "graph", "defs": 1
                    },
                    {"type": "cell", "deref": false, "name": "port", "defs": 1}
                ],
                "frame": [],
                "args": [
                    {"slot": {"type": "slot", "kind": "local", "index": 0}}
                ],
                "body": [
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "local", "index": 1},
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "global",
                                "name": "fresh_port",
                                "loc": [11, 81, 21, 81, 0]
                            },
                            "args": [],
                            "loc": [11, 81, 23, 81, 0]
                        }
                    },
                    {
                        "type": "call",
                        "callee": {
                            "type": "slot",
                            "kind": "attr",
                            "base": {
                                "type": "slot",
                                "kind": "local",
                                "index": 0
                            },
                            "name": "add",
                            "loc": [4, 82, 13, 82, 0]
                        },
                        "args": [
                            {
                                "type": "slot",
                                "kind": "attr",
                                "base": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 1
                                },
                                "name": "input",
                                "loc": [14, 82, 24, 82, 0]
                            }
                        ],
                        "loc": [4, 82, 25, 82, 0]
                    },
                    {
                        "type": "call",
                        "callee": {
                            "type": "slot",
                            "kind": "attr",
                            "base": {
                                "type": "slot",
                                "kind": "local",
                                "index": 0
                            },
                            "name": "add",
                            "loc": [4, 83, 13, 83, 0]
                        },
                        "args": [
                            {
                                "type": "slot",
                                "kind": "attr",
                                "base": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 1
                                },
                                "name": "output",
                                "loc": [14, 83, 25, 83, 0]
                            }
                        ],
                        "loc": [4, 83, 26, 83, 0]
                    },
                    {
                        "type": "return",
                        "value": {"type": "slot", "kind": "local", "index": 1}
                    }
                ],
                "loc": [18, 80, 15, 84, 0]
            }
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "biunify",
                "loc": [0, 86, 7, 86, 0]
            },
            "value": {
                "type": "closure",
                "cellvars": [],
                "localvars": [
                    {"type": "cell", "deref": false, "name": "pair", "defs": 1},
                    {
                        "type": "cell",
                        "deref": false,
                        "name": "visited",
                        "defs": 1
                    },
                    {"type": "cell", "deref": false, "name": "p", "defs": 1},
                    {"type": "cell", "deref": false, "name": "q", "defs": 1},
                    {"type": "cell", "deref": false, "name": "x", "defs": 1},
                    {"type": "cell", "deref": false, "name": "y", "defs": 1},
                    {"type": "cell", "deref": false, "name": "ok", "defs": 1},
                    {"type": "cell", "deref": false, "name": "s", "defs": 1},
                    {"type": "cell", "deref": false, "name": "s", "defs": 1},
                    {"type": "cell", "deref": false, "name": "param", "defs": 1
                    },
                    {"type": "cell", "deref": false, "name": "ws", "defs": 1},
                    {"type": "cell", "deref": false, "name": "wu", "defs": 1},
                    {"type": "cell", "deref": false, "name": "s", "defs": 1},
                    {"type": "cell", "deref": false, "name": "u", "defs": 1},
                    {"type": "cell", "deref": false, "name": "u", "defs": 1},
                    {"type": "cell", "deref": false, "name": "s", "defs": 1}
                ],
                "frame": [],
                "args": [
                    {"slot": {"type": "slot", "kind": "local", "index": 0}},
                    {"slot": {"type": "slot", "kind": "local", "index": 1}}
                ],
                "body": [
                    {
                        "type": "cond",
                        "cond": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "global",
                                "name": "in",
                                "loc": [7, 87, 22, 87, 0]
                            },
                            "args": [
                                {"type": "slot", "kind": "local", "index": 0},
                                {"type": "slot", "kind": "local", "index": 1}
                            ],
                            "loc": [7, 87, 22, 87, 0]
                        },
                        "tbody": [
                            {
                                "type": "return",
                                "value": {
                                    "type": "slot",
                                    "kind": "global",
                                    "name": "null",
                                    "loc": [8, 88, 14, 88, 0]
                                }
                            }
                        ],
                        "fbody": [],
                        "loc": [4, 87, 14, 88, 0]
                    },
                    {
                        "type": "call",
                        "callee": {
                            "type": "slot",
                            "kind": "attr",
                            "base": {
                                "type": "slot",
                                "kind": "local",
                                "index": 1
                            },
                            "name": "add",
                            "loc": [4, 89, 15, 89, 0]
                        },
                        "args": [{"type": "slot", "kind": "local", "index": 0}],
                        "loc": [4, 89, 21, 89, 0]
                    },
                    {
                        "type": "assign",
                        "slot": {
                            "type": "slot",
                            "kind": "tuple",
                            "slots": [
                                {"type": "slot", "kind": "local", "index": 2},
                                {"type": "slot", "kind": "local", "index": 3}
                            ],
                            "loc": [4, 90, 8, 90, 0]
                        },
                        "value": {"type": "slot", "kind": "local", "index": 0}
                    },
                    {
                        "type": "assert",
                        "cond": {
                            "type": "cmp",
                            "exprs": [
                                {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 2
                                    },
                                    "name": "pol",
                                    "loc": [11, 91, 16, 91, 0]
                                },
                                {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 3
                                    },
                                    "name": "pol",
                                    "loc": [19, 91, 24, 91, 0]
                                }
                            ],
                            "ops": [
                                {
                                    "type": "slot",
                                    "kind": "global",
                                    "name": ">",
                                    "loc": [11, 91, 24, 91, 0]
                                }
                            ],
                            "loc": [11, 91, 24, 91, 0]
                        },
                        "value": {
                            "type": "literal",
                            "kind": "string",
                            "value": "polarity conflict"
                        },
                        "loc": [4, 91, 47, 91, 0]
                    },
                    {
                        "type": "repeat",
                        "fresh": [],
                        "heads": [
                            {
                                "type": "for",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 4
                                },
                                "value": {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 2
                                    },
                                    "name": "heads",
                                    "loc": [13, 92, 20, 92, 0]
                                }
                            },
                            {
                                "type": "for",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 5
                                },
                                "value": {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 3
                                    },
                                    "name": "heads",
                                    "loc": [30, 92, 37, 92, 0]
                                }
                            }
                        ],
                        "body": [
                            {
                                "type": "assign",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 6
                                },
                                "value": {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "fit_subtype",
                                        "loc": [13, 93, 24, 93, 0]
                                    },
                                    "args": [
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 2
                                        },
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 3
                                        },
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 4
                                        },
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 5
                                        },
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 1
                                        }
                                    ],
                                    "loc": [13, 93, 45, 93, 0]
                                }
                            },
                            {
                                "type": "assert",
                                "cond": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 6
                                },
                                "value": {
                                    "type": "literal",
                                    "kind": "string",
                                    "value": "type error"
                                },
                                "loc": [8, 94, 24, 95, 0]
                            }
                        ]
                    },
                    {
                        "type": "repeat",
                        "fresh": [],
                        "heads": [
                            {
                                "type": "for",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 7
                                },
                                "value": {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 3
                                    },
                                    "name": "flow",
                                    "loc": [13, 96, 19, 96, 0]
                                }
                            }
                        ],
                        "body": [
                            {
                                "type": "call",
                                "callee": {
                                    "type": "slot",
                                    "kind": "global",
                                    "name": "merge",
                                    "loc": [8, 97, 13, 97, 0]
                                },
                                "args": [
                                    {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 7
                                    },
                                    {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 2
                                    }
                                ],
                                "loc": [8, 97, 19, 97, 0]
                            }
                        ]
                    },
                    {
                        "type": "repeat",
                        "fresh": [],
                        "heads": [
                            {
                                "type": "for",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 8
                                },
                                "value": {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 2
                                    },
                                    "name": "flow",
                                    "loc": [13, 98, 19, 98, 0]
                                }
                            }
                        ],
                        "body": [
                            {
                                "type": "call",
                                "callee": {
                                    "type": "slot",
                                    "kind": "global",
                                    "name": "merge",
                                    "loc": [8, 99, 13, 99, 0]
                                },
                                "args": [
                                    {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 8
                                    },
                                    {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 3
                                    }
                                ],
                                "loc": [8, 99, 19, 99, 0]
                            }
                        ]
                    },
                    {
                        "type": "repeat",
                        "fresh": [],
                        "heads": [
                            {
                                "type": "for",
                                "slot": {
                                    "type": "slot",
                                    "kind": "tuple",
                                    "slots": [
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 9
                                        },
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 10
                                        }
                                    ],
                                    "loc": [8, 100, 17, 100, 0]
                                },
                                "value": {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 2
                                    },
                                    "name": "transitions",
                                    "loc": [21, 100, 34, 100, 0]
                                }
                            }
                        ],
                        "body": [
                            {
                                "type": "assign",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 11
                                },
                                "value": {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "attr",
                                        "base": {
                                            "type": "slot",
                                            "kind": "attr",
                                            "base": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 3
                                            },
                                            "name": "transitions",
                                            "loc": [13, 101, 26, 101, 0]
                                        },
                                        "name": "get",
                                        "loc": [13, 101, 30, 101, 0]
                                    },
                                    "args": [
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 9
                                        },
                                        {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "dict",
                                                "loc": [38, 101, 42, 101, 0]
                                            },
                                            "args": [],
                                            "loc": [38, 101, 44, 101, 0]
                                        }
                                    ],
                                    "loc": [13, 101, 45, 101, 0]
                                }
                            },
                            {
                                "type": "cond",
                                "cond": {
                                    "type": "cmp",
                                    "exprs": [
                                        {
                                            "type": "slot",
                                            "kind": "attr",
                                            "base": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 9
                                            },
                                            "name": "pol",
                                            "loc": [11, 102, 20, 102, 0]
                                        },
                                        {
                                            "type": "literal",
                                            "kind": "integer",
                                            "value": "0"
                                        }
                                    ],
                                    "ops": [
                                        {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": ">",
                                            "loc": [11, 102, 24, 102, 0]
                                        }
                                    ],
                                    "loc": [11, 102, 24, 102, 0]
                                },
                                "tbody": [
                                    {
                                        "type": "repeat",
                                        "fresh": [],
                                        "heads": [
                                            {
                                                "type": "for",
                                                "slot": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 12
                                                },
                                                "value": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 10
                                                }
                                            },
                                            {
                                                "type": "for",
                                                "slot": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 13
                                                },
                                                "value": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 11
                                                }
                                            }
                                        ],
                                        "body": [
                                            {
                                                "type": "call",
                                                "callee": {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "biunify",
                                                    "loc": [16, 104, 23, 104, 0]
                                                },
                                                "args": [
                                                    {
                                                        "type": "make_tuple",
                                                        "items": [
                                                            {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 12
                                                            },
                                                            {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 13
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 1
                                                    }
                                                ],
                                                "loc": [16, 104, 40, 104, 0]
                                            }
                                        ]
                                    }
                                ],
                                "fbody": [
                                    {
                                        "type": "repeat",
                                        "fresh": [],
                                        "heads": [
                                            {
                                                "type": "for",
                                                "slot": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 14
                                                },
                                                "value": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 11
                                                }
                                            },
                                            {
                                                "type": "for",
                                                "slot": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 15
                                                },
                                                "value": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 10
                                                }
                                            }
                                        ],
                                        "body": [
                                            {
                                                "type": "call",
                                                "callee": {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "biunify",
                                                    "loc": [16, 107, 23, 107, 0]
                                                },
                                                "args": [
                                                    {
                                                        "type": "make_tuple",
                                                        "items": [
                                                            {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 14
                                                            },
                                                            {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 15
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 1
                                                    }
                                                ],
                                                "loc": [16, 107, 40, 107, 0]
                                            }
                                        ]
                                    }
                                ],
                                "loc": [8, 102, 40, 107, 0]
                            }
                        ]
                    }
                ],
                "loc": [10, 86, 40, 107, 0]
            }
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "fit_subtype",
                "loc": [0, 109, 11, 109, 0]
            },
            "value": {
                "type": "closure",
                "cellvars": [],
                "localvars": [
                    {"type": "cell", "deref": false, "name": "p", "defs": 1},
                    {"type": "cell", "deref": false, "name": "q", "defs": 1},
                    {"type": "cell", "deref": false, "name": "x", "defs": 1},
                    {"type": "cell", "deref": false, "name": "y", "defs": 1},
                    {
                        "type": "cell",
                        "deref": false,
                        "name": "visited",
                        "defs": 1
                    },
                    {"type": "cell", "deref": false, "name": "index", "defs": 1
                    },
                    {"type": "cell", "deref": false, "name": "site", "defs": 1},
                    {"type": "cell", "deref": false, "name": "_", "defs": 1}
                ],
                "frame": [],
                "args": [
                    {"slot": {"type": "slot", "kind": "local", "index": 0}},
                    {"slot": {"type": "slot", "kind": "local", "index": 1}},
                    {"slot": {"type": "slot", "kind": "local", "index": 2}},
                    {"slot": {"type": "slot", "kind": "local", "index": 3}},
                    {"slot": {"type": "slot", "kind": "local", "index": 4}}
                ],
                "body": [
                    {
                        "type": "case",
                        "value": {"type": "slot", "kind": "local", "index": 3},
                        "cases": [
                            {
                                "type": "pattern",
                                "pattern": {
                                    "type": "slot",
                                    "kind": "global",
                                    "name": "sink",
                                    "loc": [4, 111, 8, 111, 0]
                                },
                                "slot": {
                                    "type": "slot",
                                    "kind": "tuple",
                                    "slots": [
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 5
                                        },
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 6
                                        }
                                    ],
                                    "loc": [4, 111, 19, 113, 0]
                                },
                                "body": [
                                    {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "inference_coerce",
                                            "loc": [8, 112, 24, 112, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 2
                                            },
                                            {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 1
                                            },
                                            {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 5
                                            },
                                            {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 6
                                            },
                                            {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 4
                                            }
                                        ],
                                        "loc": [8, 112, 52, 112, 0]
                                    },
                                    {
                                        "type": "return",
                                        "value": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "true",
                                            "loc": [15, 113, 19, 113, 0]
                                        }
                                    }
                                ],
                                "loc": [4, 111, 19, 113, 0]
                            },
                            {
                                "type": "pattern",
                                "pattern": {
                                    "type": "slot",
                                    "kind": "global",
                                    "name": "faucet",
                                    "loc": [4, 114, 10, 114, 0]
                                },
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 7
                                },
                                "body": [
                                    {
                                        "type": "cond",
                                        "cond": {
                                            "type": "cmp",
                                            "exprs": [
                                                {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 2
                                                },
                                                {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 3
                                                }
                                            ],
                                            "ops": [
                                                {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "==",
                                                    "loc": [11, 115, 17, 115, 0]
                                                }
                                            ],
                                            "loc": [11, 115, 17, 115, 0]
                                        },
                                        "tbody": [
                                            {
                                                "type": "return",
                                                "value": {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "true",
                                                    "loc": [19, 116, 23, 116, 0]
                                                }
                                            }
                                        ],
                                        "fbody": [
                                            {
                                                "type": "return",
                                                "value": {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "false",
                                                    "loc": [19, 118, 24, 118, 0]
                                                }
                                            }
                                        ],
                                        "loc": [8, 115, 24, 118, 0]
                                    }
                                ],
                                "loc": [4, 114, 24, 118, 0]
                            }
                        ],
                        "default": [],
                        "loc": [4, 110, 24, 118, 0]
                    }
                ],
                "loc": [14, 109, 24, 118, 0]
            }
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "merge",
                "loc": [0, 120, 5, 120, 0]
            },
            "value": {
                "type": "closure",
                "cellvars": [],
                "localvars": [
                    {"type": "cell", "deref": false, "name": "dst", "defs": 1},
                    {"type": "cell", "deref": false, "name": "src", "defs": 1},
                    {"type": "cell", "deref": false, "name": "head", "defs": 1},
                    {"type": "cell", "deref": false, "name": "state", "defs": 1
                    },
                    {"type": "cell", "deref": false, "name": "param", "defs": 1
                    },
                    {"type": "cell", "deref": false, "name": "ws", "defs": 1}
                ],
                "frame": [],
                "args": [
                    {"slot": {"type": "slot", "kind": "local", "index": 0}},
                    {"slot": {"type": "slot", "kind": "local", "index": 1}}
                ],
                "body": [
                    {
                        "type": "assert",
                        "cond": {
                            "type": "cmp",
                            "exprs": [
                                {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 0
                                    },
                                    "name": "pol",
                                    "loc": [11, 121, 18, 121, 0]
                                },
                                {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 1
                                    },
                                    "name": "pol",
                                    "loc": [22, 121, 29, 121, 0]
                                }
                            ],
                            "ops": [
                                {
                                    "type": "slot",
                                    "kind": "global",
                                    "name": "==",
                                    "loc": [11, 121, 29, 121, 0]
                                }
                            ],
                            "loc": [11, 121, 29, 121, 0]
                        },
                        "value": {
                            "type": "literal",
                            "kind": "string",
                            "value": "polarity conflict"
                        },
                        "loc": [4, 121, 52, 121, 0]
                    },
                    {
                        "type": "repeat",
                        "fresh": [],
                        "heads": [
                            {
                                "type": "for",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 2
                                },
                                "value": {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 1
                                    },
                                    "name": "heads",
                                    "loc": [16, 122, 25, 122, 0]
                                }
                            }
                        ],
                        "body": [
                            {
                                "type": "call",
                                "callee": {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "attr",
                                        "base": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 0
                                        },
                                        "name": "heads",
                                        "loc": [8, 123, 17, 123, 0]
                                    },
                                    "name": "add",
                                    "loc": [8, 123, 21, 123, 0]
                                },
                                "args": [
                                    {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 2
                                    }
                                ],
                                "loc": [8, 123, 27, 123, 0]
                            }
                        ]
                    },
                    {
                        "type": "repeat",
                        "fresh": [],
                        "heads": [
                            {
                                "type": "for",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 3
                                },
                                "value": {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 1
                                    },
                                    "name": "flow",
                                    "loc": [17, 124, 25, 124, 0]
                                }
                            }
                        ],
                        "body": [
                            {
                                "type": "call",
                                "callee": {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 0
                                    },
                                    "name": "add_flow",
                                    "loc": [8, 125, 20, 125, 0]
                                },
                                "args": [
                                    {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 3
                                    }
                                ],
                                "loc": [8, 125, 27, 125, 0]
                            }
                        ]
                    },
                    {
                        "type": "repeat",
                        "fresh": [],
                        "heads": [
                            {
                                "type": "for",
                                "slot": {
                                    "type": "slot",
                                    "kind": "tuple",
                                    "slots": [
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 4
                                        },
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 5
                                        }
                                    ],
                                    "loc": [8, 126, 17, 126, 0]
                                },
                                "value": {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 1
                                    },
                                    "name": "transitions",
                                    "loc": [21, 126, 36, 126, 0]
                                }
                            }
                        ],
                        "body": [
                            {
                                "type": "except",
                                "body": [
                                    {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "attr",
                                            "base": {
                                                "type": "slot",
                                                "kind": "item",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "attr",
                                                    "base": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 0
                                                    },
                                                    "name": "transitions",
                                                    "loc": [8, 127, 23, 127, 0]
                                                },
                                                "index": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 4
                                                },
                                                "loc": [8, 127, 30, 127, 0]
                                            },
                                            "name": "update",
                                            "loc": [8, 127, 37, 127, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 5
                                            }
                                        ],
                                        "loc": [8, 127, 41, 127, 0]
                                    }
                                ],
                                "excepts": [
                                    {
                                        "exc": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "NoIndex",
                                            "loc": [15, 128, 22, 128, 0]
                                        },
                                        "body": [
                                            {
                                                "type": "assign",
                                                "slot": {
                                                    "type": "slot",
                                                    "kind": "item",
                                                    "base": {
                                                        "type": "slot",
                                                        "kind": "attr",
                                                        "base": {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 0
                                                        },
                                                        "name": "transitions",
                                                        "loc": [
                                                            12,
                                                            129,
                                                            27,
                                                            129,
                                                            0
                                                        ]
                                                    },
                                                    "index": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 4
                                                    },
                                                    "loc": [12, 129, 34, 129, 0]
                                                },
                                                "value": {
                                                    "type": "call",
                                                    "callee": {
                                                        "type": "slot",
                                                        "kind": "global",
                                                        "name": "set",
                                                        "loc": [
                                                            37,
                                                            129,
                                                            40,
                                                            129,
                                                            0
                                                        ]
                                                    },
                                                    "args": [
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 5
                                                        }
                                                    ],
                                                    "loc": [37, 129, 44, 129, 0]
                                                }
                                            }
                                        ]
                                    }
                                ],
                                "loc": [8, 127, 44, 129, 0]
                            }
                        ]
                    }
                ],
                "loc": [8, 120, 44, 129, 0]
            }
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "inference_coerce",
                "loc": [0, 133, 16, 133, 0]
            },
            "value": {
                "type": "closure",
                "cellvars": [],
                "localvars": [
                    {"type": "cell", "deref": false, "name": "head", "defs": 1},
                    {"type": "cell", "deref": false, "name": "q", "defs": 1},
                    {
                        "type": "cell",
                        "deref": false,
                        "name": "slot_idx",
                        "defs": 1
                    },
                    {"type": "cell", "deref": false, "name": "site", "defs": 1},
                    {
                        "type": "cell",
                        "deref": false,
                        "name": "visited",
                        "defs": 1
                    },
                    {"type": "cell", "deref": false, "name": "k", "defs": 3},
                    {"type": "cell", "deref": false, "name": "i", "defs": 1},
                    {"type": "cell", "deref": false, "name": "n", "defs": 1},
                    {"type": "cell", "deref": false, "name": "t", "defs": 1},
                    {"type": "cell", "deref": false, "name": "h", "defs": 1},
                    {"type": "cell", "deref": false, "name": "doms", "defs": 1},
                    {"type": "cell", "deref": false, "name": "i", "defs": 1},
                    {
                        "type": "cell",
                        "deref": false,
                        "name": "coercions",
                        "defs": 1
                    },
                    {"type": "cell", "deref": false, "name": "heads", "defs": 1
                    },
                    {"type": "cell", "deref": false, "name": "c", "defs": 1},
                    {"type": "cell", "deref": false, "name": "i", "defs": 1},
                    {"type": "cell", "deref": false, "name": "u", "defs": 1},
                    {"type": "cell", "deref": false, "name": "ports", "defs": 2
                    },
                    {"type": "cell", "deref": false, "name": "fn", "defs": 1},
                    {"type": "cell", "deref": false, "name": "out", "defs": 1},
                    {"type": "cell", "deref": false, "name": "e", "defs": 1},
                    {"type": "cell", "deref": false, "name": "ws", "defs": 1},
                    {"type": "cell", "deref": false, "name": "xx", "defs": 1},
                    {"type": "cell", "deref": false, "name": "yy", "defs": 1},
                    {"type": "cell", "deref": false, "name": "rr", "defs": 1},
                    {"type": "cell", "deref": false, "name": "w", "defs": 1},
                    {"type": "cell", "deref": false, "name": "h", "defs": 1},
                    {"type": "cell", "deref": false, "name": "i", "defs": 1},
                    {"type": "cell", "deref": false, "name": "cf", "defs": 1},
                    {"type": "cell", "deref": false, "name": "z", "defs": 1},
                    {"type": "cell", "deref": false, "name": "w", "defs": 1},
                    {"type": "cell", "deref": false, "name": "port", "defs": 1},
                    {"type": "cell", "deref": false, "name": "w", "defs": 1}
                ],
                "frame": [],
                "args": [
                    {"slot": {"type": "slot", "kind": "local", "index": 0}},
                    {"slot": {"type": "slot", "kind": "local", "index": 1}},
                    {"slot": {"type": "slot", "kind": "local", "index": 2}},
                    {"slot": {"type": "slot", "kind": "local", "index": 3}},
                    {"slot": {"type": "slot", "kind": "local", "index": 4}}
                ],
                "body": [
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "local", "index": 5},
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "global",
                                "name": "set",
                                "loc": [8, 134, 11, 134, 0]
                            },
                            "args": [
                                {
                                    "type": "list",
                                    "values": [
                                        {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "set",
                                                "loc": [13, 134, 16, 134, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "list",
                                                    "values": [
                                                        {
                                                            "type": "call",
                                                            "callee": {
                                                                "type": "slot",
                                                                "kind": "global",
                                                                "name": "unwrap",
                                                                "loc": [
                                                                    18,
                                                                    134,
                                                                    24,
                                                                    134,
                                                                    0
                                                                ]
                                                            },
                                                            "args": [
                                                                {
                                                                    "type": "slot",
                                                                    "kind": "local",
                                                                    "index": 0
                                                                }
                                                            ],
                                                            "loc": [
                                                                18,
                                                                134,
                                                                30,
                                                                134,
                                                                0
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ],
                                            "loc": [13, 134, 32, 134, 0]
                                        }
                                    ]
                                }
                            ],
                            "loc": [8, 134, 34, 134, 0]
                        }
                    },
                    {
                        "type": "repeat",
                        "fresh": [],
                        "heads": [
                            {
                                "type": "for",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 6
                                },
                                "value": {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "attr",
                                        "base": {
                                            "type": "slot",
                                            "kind": "attr",
                                            "base": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 3
                                            },
                                            "name": "slots",
                                            "loc": [13, 136, 23, 136, 0]
                                        },
                                        "name": "keys",
                                        "loc": [13, 136, 28, 136, 0]
                                    },
                                    "args": [],
                                    "loc": [13, 136, 30, 136, 0]
                                }
                            }
                        ],
                        "body": [
                            {
                                "type": "cond",
                                "cond": {
                                    "type": "cmp",
                                    "exprs": [
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 6
                                        },
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 2
                                        }
                                    ],
                                    "ops": [
                                        {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "==",
                                            "loc": [11, 137, 24, 137, 0]
                                        }
                                    ],
                                    "loc": [11, 137, 24, 137, 0]
                                },
                                "tbody": [{"type": "continue"}],
                                "fbody": [],
                                "loc": [8, 137, 38, 137, 0]
                            },
                            {
                                "type": "assign",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 7
                                },
                                "value": {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "set",
                                        "loc": [12, 138, 15, 138, 0]
                                    },
                                    "args": [],
                                    "loc": [12, 138, 17, 138, 0]
                                }
                            },
                            {
                                "type": "repeat",
                                "fresh": [],
                                "heads": [
                                    {
                                        "type": "for",
                                        "slot": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 8
                                        },
                                        "value": {
                                            "type": "slot",
                                            "kind": "item",
                                            "base": {
                                                "type": "slot",
                                                "kind": "attr",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 3
                                                },
                                                "name": "slots",
                                                "loc": [17, 139, 27, 139, 0]
                                            },
                                            "index": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 6
                                            },
                                            "loc": [17, 139, 30, 139, 0]
                                        }
                                    },
                                    {
                                        "type": "for",
                                        "slot": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 9
                                        },
                                        "value": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 5
                                        }
                                    }
                                ],
                                "body": [
                                    {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "attr",
                                            "base": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 7
                                            },
                                            "name": "add",
                                            "loc": [12, 140, 17, 140, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "call",
                                                "callee": {
                                                    "type": "slot",
                                                    "kind": "attr",
                                                    "base": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 9
                                                    },
                                                    "name": "union",
                                                    "loc": [18, 140, 25, 140, 0]
                                                },
                                                "args": [
                                                    {
                                                        "type": "list",
                                                        "values": [
                                                            {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 8
                                                            }
                                                        ]
                                                    }
                                                ],
                                                "loc": [18, 140, 30, 140, 0]
                                            }
                                        ],
                                        "loc": [12, 140, 31, 140, 0]
                                    }
                                ]
                            },
                            {
                                "type": "assign",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 5
                                },
                                "value": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 7
                                }
                            }
                        ]
                    },
                    {
                        "type": "call",
                        "callee": {
                            "type": "slot",
                            "kind": "attr",
                            "base": {
                                "type": "slot",
                                "kind": "item",
                                "base": {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 3
                                    },
                                    "name": "slots",
                                    "loc": [4, 142, 14, 142, 0]
                                },
                                "index": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 2
                                },
                                "loc": [4, 142, 24, 142, 0]
                            },
                            "name": "add",
                            "loc": [4, 142, 28, 142, 0]
                        },
                        "args": [
                            {
                                "type": "call",
                                "callee": {
                                    "type": "slot",
                                    "kind": "global",
                                    "name": "unwrap",
                                    "loc": [29, 142, 35, 142, 0]
                                },
                                "args": [
                                    {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 0
                                    }
                                ],
                                "loc": [29, 142, 41, 142, 0]
                            }
                        ],
                        "loc": [4, 142, 42, 142, 0]
                    },
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "local", "index": 10},
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "global",
                                "name": "set",
                                "loc": [11, 144, 14, 144, 0]
                            },
                            "args": [],
                            "loc": [11, 144, 16, 144, 0]
                        }
                    },
                    {
                        "type": "repeat",
                        "fresh": [],
                        "heads": [
                            {
                                "type": "for",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 11
                                },
                                "value": {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "attr",
                                        "base": {
                                            "type": "slot",
                                            "kind": "attr",
                                            "base": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 3
                                            },
                                            "name": "slots",
                                            "loc": [13, 145, 23, 145, 0]
                                        },
                                        "name": "keys",
                                        "loc": [13, 145, 28, 145, 0]
                                    },
                                    "args": [],
                                    "loc": [13, 145, 30, 145, 0]
                                }
                            }
                        ],
                        "body": [
                            {
                                "type": "call",
                                "callee": {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 10
                                    },
                                    "name": "add",
                                    "loc": [8, 146, 16, 146, 0]
                                },
                                "args": [
                                    {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "get_dom",
                                            "loc": [17, 146, 24, 146, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 11
                                            }
                                        ],
                                        "loc": [17, 146, 27, 146, 0]
                                    }
                                ],
                                "loc": [8, 146, 28, 146, 0]
                            }
                        ]
                    },
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "local", "index": 12},
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "global",
                                "name": "set",
                                "loc": [16, 148, 19, 148, 0]
                            },
                            "args": [],
                            "loc": [16, 148, 21, 148, 0]
                        }
                    },
                    {
                        "type": "repeat",
                        "fresh": [],
                        "heads": [
                            {
                                "type": "for",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 13
                                },
                                "value": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 5
                                }
                            }
                        ],
                        "body": [
                            {
                                "type": "assign",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 14
                                },
                                "value": {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "unique_coercion",
                                        "loc": [12, 156, 27, 156, 0]
                                    },
                                    "args": [
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 13
                                        }
                                    ],
                                    "loc": [12, 156, 34, 156, 0]
                                }
                            },
                            {
                                "type": "repeat",
                                "fresh": [],
                                "heads": [
                                    {
                                        "type": "for",
                                        "slot": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 15
                                        },
                                        "value": {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "attr",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "attr",
                                                    "base": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 3
                                                    },
                                                    "name": "slots",
                                                    "loc": [17, 157, 27, 157, 0]
                                                },
                                                "name": "keys",
                                                "loc": [17, 157, 32, 157, 0]
                                            },
                                            "args": [],
                                            "loc": [17, 157, 34, 157, 0]
                                        }
                                    }
                                ],
                                "body": [
                                    {
                                        "type": "cond",
                                        "cond": {
                                            "type": "cmp",
                                            "exprs": [
                                                {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 15
                                                },
                                                {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 2
                                                }
                                            ],
                                            "ops": [
                                                {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "==",
                                                    "loc": [15, 158, 28, 158, 0]
                                                }
                                            ],
                                            "loc": [15, 158, 28, 158, 0]
                                        },
                                        "tbody": [
                                            {
                                                "type": "call",
                                                "callee": {
                                                    "type": "slot",
                                                    "kind": "attr",
                                                    "base": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 12
                                                    },
                                                    "name": "add",
                                                    "loc": [16, 159, 29, 159, 0]
                                                },
                                                "args": [
                                                    {
                                                        "type": "make_tuple",
                                                        "items": [
                                                            {
                                                                "type": "call",
                                                                "callee": {
                                                                    "type": "slot",
                                                                    "kind": "global",
                                                                    "name": "unwrap",
                                                                    "loc": [
                                                                        31,
                                                                        159,
                                                                        37,
                                                                        159,
                                                                        0
                                                                    ]
                                                                },
                                                                "args": [
                                                                    {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 0
                                                                    }
                                                                ],
                                                                "loc": [
                                                                    31,
                                                                    159,
                                                                    43,
                                                                    159,
                                                                    0
                                                                ]
                                                            },
                                                            {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 15
                                                            }
                                                        ]
                                                    }
                                                ],
                                                "loc": [16, 159, 48, 159, 0]
                                            }
                                        ],
                                        "fbody": [
                                            {
                                                "type": "repeat",
                                                "fresh": [],
                                                "heads": [
                                                    {
                                                        "type": "for",
                                                        "slot": {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 16
                                                        },
                                                        "value": {
                                                            "type": "slot",
                                                            "kind": "item",
                                                            "base": {
                                                                "type": "slot",
                                                                "kind": "attr",
                                                                "base": {
                                                                    "type": "slot",
                                                                    "kind": "local",
                                                                    "index": 3
                                                                },
                                                                "name": "slots",
                                                                "loc": [
                                                                    25,
                                                                    161,
                                                                    35,
                                                                    161,
                                                                    0
                                                                ]
                                                            },
                                                            "index": {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 15
                                                            },
                                                            "loc": [
                                                                25,
                                                                161,
                                                                38,
                                                                161,
                                                                0
                                                            ]
                                                        }
                                                    },
                                                    {
                                                        "type": "if",
                                                        "cond": {
                                                            "type": "call",
                                                            "callee": {
                                                                "type": "slot",
                                                                "kind": "global",
                                                                "name": "in",
                                                                "loc": [
                                                                    42,
                                                                    161,
                                                                    52,
                                                                    161,
                                                                    0
                                                                ]
                                                            },
                                                            "args": [
                                                                {
                                                                    "type": "slot",
                                                                    "kind": "local",
                                                                    "index": 16
                                                                },
                                                                {
                                                                    "type": "slot",
                                                                    "kind": "local",
                                                                    "index": 13
                                                                }
                                                            ],
                                                            "loc": [
                                                                42,
                                                                161,
                                                                52,
                                                                161,
                                                                0
                                                            ]
                                                        }
                                                    }
                                                ],
                                                "body": [
                                                    {
                                                        "type": "call",
                                                        "callee": {
                                                            "type": "slot",
                                                            "kind": "attr",
                                                            "base": {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 12
                                                            },
                                                            "name": "add",
                                                            "loc": [
                                                                20,
                                                                162,
                                                                33,
                                                                162,
                                                                0
                                                            ]
                                                        },
                                                        "args": [
                                                            {
                                                                "type": "make_tuple",
                                                                "items": [
                                                                    {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 16
                                                                    },
                                                                    {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 15
                                                                    }
                                                                ]
                                                            }
                                                        ],
                                                        "loc": [
                                                            20,
                                                            162,
                                                            40,
                                                            162,
                                                            0
                                                        ]
                                                    }
                                                ]
                                            }
                                        ],
                                        "loc": [12, 158, 40, 162, 0]
                                    }
                                ]
                            },
                            {
                                "type": "cond",
                                "cond": {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "in",
                                        "loc": [11, 163, 30, 163, 0]
                                    },
                                    "args": [
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 14
                                        },
                                        {
                                            "type": "slot",
                                            "kind": "attr",
                                            "base": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 3
                                            },
                                            "name": "operators",
                                            "loc": [16, 163, 30, 163, 0]
                                        }
                                    ],
                                    "loc": [11, 163, 30, 163, 0]
                                },
                                "tbody": [
                                    {
                                        "type": "assign",
                                        "slot": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 17
                                        },
                                        "value": {
                                            "type": "slot",
                                            "kind": "item",
                                            "base": {
                                                "type": "slot",
                                                "kind": "attr",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 3
                                                },
                                                "name": "operators",
                                                "loc": [20, 164, 34, 164, 0]
                                            },
                                            "index": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 14
                                            },
                                            "loc": [20, 164, 37, 164, 0]
                                        }
                                    }
                                ],
                                "fbody": [
                                    {
                                        "type": "assign",
                                        "slot": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 18
                                        },
                                        "value": {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "binary_operator",
                                                "loc": [17, 167, 32, 167, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "slot",
                                                    "kind": "attr",
                                                    "base": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 3
                                                    },
                                                    "name": "op",
                                                    "loc": [33, 167, 40, 167, 0]
                                                },
                                                {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 14
                                                },
                                                {
                                                    "type": "slot",
                                                    "kind": "attr",
                                                    "base": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 3
                                                    },
                                                    "name": "expect",
                                                    "loc": [45, 167, 56, 167, 0]
                                                }
                                            ],
                                            "loc": [17, 167, 57, 167, 0]
                                        }
                                    },
                                    {
                                        "type": "assign",
                                        "slot": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 17
                                        },
                                        "value": {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "dict",
                                                "loc": [20, 168, 24, 168, 0]
                                            },
                                            "args": [],
                                            "loc": [20, 168, 26, 168, 0]
                                        }
                                    },
                                    {
                                        "type": "assign",
                                        "slot": {
                                            "type": "slot",
                                            "kind": "item",
                                            "base": {
                                                "type": "slot",
                                                "kind": "attr",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 3
                                                },
                                                "name": "operators",
                                                "loc": [12, 169, 26, 169, 0]
                                            },
                                            "index": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 14
                                            },
                                            "loc": [12, 169, 29, 169, 0]
                                        },
                                        "value": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 17
                                        }
                                    },
                                    {
                                        "type": "assign",
                                        "slot": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 19
                                        },
                                        "value": {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "fresh_state",
                                                "loc": [18, 170, 29, 170, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "call",
                                                    "callee": {
                                                        "type": "slot",
                                                        "kind": "global",
                                                        "name": "+expr",
                                                        "loc": [
                                                            30,
                                                            170,
                                                            32,
                                                            170,
                                                            0
                                                        ]
                                                    },
                                                    "args": [
                                                        {
                                                            "type": "literal",
                                                            "kind": "integer",
                                                            "value": "1"
                                                        }
                                                    ],
                                                    "loc": [30, 170, 32, 170, 0]
                                                }
                                            ],
                                            "loc": [18, 170, 33, 170, 0]
                                        }
                                    },
                                    {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "attr",
                                            "base": {
                                                "type": "slot",
                                                "kind": "attr",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 19
                                                },
                                                "name": "heads",
                                                "loc": [12, 171, 21, 171, 0]
                                            },
                                            "name": "update",
                                            "loc": [12, 171, 28, 171, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "slot",
                                                "kind": "attr",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 18
                                                },
                                                "name": "heads",
                                                "loc": [29, 171, 37, 171, 0]
                                            }
                                        ],
                                        "loc": [12, 171, 38, 171, 0]
                                    },
                                    {
                                        "type": "repeat",
                                        "fresh": [],
                                        "heads": [
                                            {
                                                "type": "for",
                                                "slot": {
                                                    "type": "slot",
                                                    "kind": "tuple",
                                                    "slots": [
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 20
                                                        },
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 21
                                                        }
                                                    ],
                                                    "loc": [16, 172, 20, 172, 0]
                                                },
                                                "value": {
                                                    "type": "call",
                                                    "callee": {
                                                        "type": "slot",
                                                        "kind": "attr",
                                                        "base": {
                                                            "type": "slot",
                                                            "kind": "attr",
                                                            "base": {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 18
                                                            },
                                                            "name": "transitions",
                                                            "loc": [
                                                                24,
                                                                172,
                                                                38,
                                                                172,
                                                                0
                                                            ]
                                                        },
                                                        "name": "items",
                                                        "loc": [
                                                            24,
                                                            172,
                                                            44,
                                                            172,
                                                            0
                                                        ]
                                                    },
                                                    "args": [],
                                                    "loc": [24, 172, 46, 172, 0]
                                                }
                                            }
                                        ],
                                        "body": [
                                            {
                                                "type": "cond",
                                                "cond": {
                                                    "type": "call",
                                                    "callee": {
                                                        "type": "slot",
                                                        "kind": "global",
                                                        "name": "in",
                                                        "loc": [
                                                            19,
                                                            173,
                                                            28,
                                                            173,
                                                            0
                                                        ]
                                                    },
                                                    "args": [
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 20
                                                        },
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 10
                                                        }
                                                    ],
                                                    "loc": [19, 173, 28, 173, 0]
                                                },
                                                "tbody": [
                                                    {
                                                        "type": "assign",
                                                        "slot": {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 22
                                                        },
                                                        "value": {
                                                            "type": "call",
                                                            "callee": {
                                                                "type": "slot",
                                                                "kind": "global",
                                                                "name": "fresh_state",
                                                                "loc": [
                                                                    25,
                                                                    174,
                                                                    36,
                                                                    174,
                                                                    0
                                                                ]
                                                            },
                                                            "args": [
                                                                {
                                                                    "type": "call",
                                                                    "callee": {
                                                                        "type": "slot",
                                                                        "kind": "global",
                                                                        "name": "-expr",
                                                                        "loc": [
                                                                            37,
                                                                            174,
                                                                            39,
                                                                            174,
                                                                            0
                                                                        ]
                                                                    },
                                                                    "args": [
                                                                        {
                                                                            "type": "literal",
                                                                            "kind": "integer",
                                                                            "value": "1"
                                                                        }
                                                                    ],
                                                                    "loc": [
                                                                        37,
                                                                        174,
                                                                        39,
                                                                        174,
                                                                        0
                                                                    ]
                                                                }
                                                            ],
                                                            "loc": [
                                                                25,
                                                                174,
                                                                40,
                                                                174,
                                                                0
                                                            ]
                                                        }
                                                    },
                                                    {
                                                        "type": "call",
                                                        "callee": {
                                                            "type": "slot",
                                                            "kind": "attr",
                                                            "base": {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 19
                                                            },
                                                            "name": "add_transition",
                                                            "loc": [
                                                                20,
                                                                175,
                                                                38,
                                                                175,
                                                                0
                                                            ]
                                                        },
                                                        "args": [
                                                            {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 20
                                                            },
                                                            {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 22
                                                            }
                                                        ],
                                                        "loc": [
                                                            20,
                                                            175,
                                                            45,
                                                            175,
                                                            0
                                                        ]
                                                    },
                                                    {
                                                        "type": "assign",
                                                        "slot": {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 23
                                                        },
                                                        "value": {
                                                            "type": "call",
                                                            "callee": {
                                                                "type": "slot",
                                                                "kind": "global",
                                                                "name": "fresh_state",
                                                                "loc": [
                                                                    25,
                                                                    176,
                                                                    36,
                                                                    176,
                                                                    0
                                                                ]
                                                            },
                                                            "args": [
                                                                {
                                                                    "type": "call",
                                                                    "callee": {
                                                                        "type": "slot",
                                                                        "kind": "global",
                                                                        "name": "+expr",
                                                                        "loc": [
                                                                            37,
                                                                            176,
                                                                            39,
                                                                            176,
                                                                            0
                                                                        ]
                                                                    },
                                                                    "args": [
                                                                        {
                                                                            "type": "literal",
                                                                            "kind": "integer",
                                                                            "value": "1"
                                                                        }
                                                                    ],
                                                                    "loc": [
                                                                        37,
                                                                        176,
                                                                        39,
                                                                        176,
                                                                        0
                                                                    ]
                                                                }
                                                            ],
                                                            "loc": [
                                                                25,
                                                                176,
                                                                40,
                                                                176,
                                                                0
                                                            ]
                                                        }
                                                    },
                                                    {
                                                        "type": "call",
                                                        "callee": {
                                                            "type": "slot",
                                                            "kind": "attr",
                                                            "base": {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 22
                                                            },
                                                            "name": "add_flow",
                                                            "loc": [
                                                                20,
                                                                177,
                                                                31,
                                                                177,
                                                                0
                                                            ]
                                                        },
                                                        "args": [
                                                            {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 23
                                                            }
                                                        ],
                                                        "loc": [
                                                            20,
                                                            177,
                                                            35,
                                                            177,
                                                            0
                                                        ]
                                                    },
                                                    {
                                                        "type": "assign",
                                                        "slot": {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 24
                                                        },
                                                        "value": {
                                                            "type": "call",
                                                            "callee": {
                                                                "type": "slot",
                                                                "kind": "global",
                                                                "name": "fresh_state",
                                                                "loc": [
                                                                    25,
                                                                    178,
                                                                    36,
                                                                    178,
                                                                    0
                                                                ]
                                                            },
                                                            "args": [
                                                                {
                                                                    "type": "call",
                                                                    "callee": {
                                                                        "type": "slot",
                                                                        "kind": "global",
                                                                        "name": "-expr",
                                                                        "loc": [
                                                                            37,
                                                                            178,
                                                                            39,
                                                                            178,
                                                                            0
                                                                        ]
                                                                    },
                                                                    "args": [
                                                                        {
                                                                            "type": "literal",
                                                                            "kind": "integer",
                                                                            "value": "1"
                                                                        }
                                                                    ],
                                                                    "loc": [
                                                                        37,
                                                                        178,
                                                                        39,
                                                                        178,
                                                                        0
                                                                    ]
                                                                }
                                                            ],
                                                            "loc": [
                                                                25,
                                                                178,
                                                                40,
                                                                178,
                                                                0
                                                            ]
                                                        }
                                                    },
                                                    {
                                                        "type": "repeat",
                                                        "fresh": [],
                                                        "heads": [
                                                            {
                                                                "type": "for",
                                                                "slot": {
                                                                    "type": "slot",
                                                                    "kind": "local",
                                                                    "index": 25
                                                                },
                                                                "value": {
                                                                    "type": "slot",
                                                                    "kind": "local",
                                                                    "index": 21
                                                                }
                                                            }
                                                        ],
                                                        "body": [
                                                            {
                                                                "type": "call",
                                                                "callee": {
                                                                    "type": "slot",
                                                                    "kind": "global",
                                                                    "name": "merge",
                                                                    "loc": [
                                                                        39,
                                                                        179,
                                                                        44,
                                                                        179,
                                                                        0
                                                                    ]
                                                                },
                                                                "args": [
                                                                    {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 24
                                                                    },
                                                                    {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 25
                                                                    }
                                                                ],
                                                                "loc": [
                                                                    39,
                                                                    179,
                                                                    51,
                                                                    179,
                                                                    0
                                                                ]
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        "type": "assign",
                                                        "slot": {
                                                            "type": "slot",
                                                            "kind": "item",
                                                            "base": {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 17
                                                            },
                                                            "index": {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 20
                                                            },
                                                            "loc": [
                                                                20,
                                                                180,
                                                                28,
                                                                180,
                                                                0
                                                            ]
                                                        },
                                                        "value": {
                                                            "type": "record",
                                                            "fields": [
                                                                {
                                                                    "name": "input",
                                                                    "mutable": false,
                                                                    "value": {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 24
                                                                    }
                                                                },
                                                                {
                                                                    "name": "output",
                                                                    "mutable": false,
                                                                    "value": {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 23
                                                                    }
                                                                }
                                                            ]
                                                        }
                                                    }
                                                ],
                                                "fbody": [
                                                    {
                                                        "type": "assign",
                                                        "slot": {
                                                            "type": "slot",
                                                            "kind": "item",
                                                            "base": {
                                                                "type": "slot",
                                                                "kind": "attr",
                                                                "base": {
                                                                    "type": "slot",
                                                                    "kind": "local",
                                                                    "index": 19
                                                                },
                                                                "name": "transitions",
                                                                "loc": [
                                                                    20,
                                                                    182,
                                                                    35,
                                                                    182,
                                                                    0
                                                                ]
                                                            },
                                                            "index": {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 20
                                                            },
                                                            "loc": [
                                                                20,
                                                                182,
                                                                38,
                                                                182,
                                                                0
                                                            ]
                                                        },
                                                        "value": {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 21
                                                        }
                                                    }
                                                ],
                                                "loc": [16, 173, 43, 182, 0]
                                            }
                                        ]
                                    },
                                    {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "biunify",
                                            "loc": [12, 183, 19, 183, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "make_tuple",
                                                "items": [
                                                    {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 19
                                                    },
                                                    {
                                                        "type": "slot",
                                                        "kind": "attr",
                                                        "base": {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 3
                                                        },
                                                        "name": "state",
                                                        "loc": [
                                                            26,
                                                            183,
                                                            36,
                                                            183,
                                                            0
                                                        ]
                                                    }
                                                ]
                                            },
                                            {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 4
                                            }
                                        ],
                                        "loc": [12, 183, 47, 183, 0]
                                    }
                                ],
                                "loc": [8, 163, 47, 183, 0]
                            },
                            {
                                "type": "repeat",
                                "fresh": [],
                                "heads": [
                                    {
                                        "type": "for",
                                        "slot": {
                                            "type": "slot",
                                            "kind": "tuple",
                                            "slots": [
                                                {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 26
                                                },
                                                {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 27
                                                }
                                            ],
                                            "loc": [12, 185, 15, 185, 0]
                                        },
                                        "value": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 12
                                        }
                                    },
                                    {
                                        "type": "if",
                                        "cond": {
                                            "type": "not",
                                            "value": {
                                                "type": "call",
                                                "callee": {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "in",
                                                    "loc": [32, 185, 59, 185, 0]
                                                },
                                                "args": [
                                                    {
                                                        "type": "make_tuple",
                                                        "items": [
                                                            {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 26
                                                            },
                                                            {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 27
                                                            },
                                                            {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 14
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        "type": "slot",
                                                        "kind": "attr",
                                                        "base": {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 3
                                                        },
                                                        "name": "coerces",
                                                        "loc": [
                                                            47,
                                                            185,
                                                            59,
                                                            185,
                                                            0
                                                        ]
                                                    }
                                                ],
                                                "loc": [32, 185, 59, 185, 0]
                                            },
                                            "loc": [32, 185, 59, 185, 0]
                                        }
                                    }
                                ],
                                "body": [
                                    {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "attr",
                                            "base": {
                                                "type": "slot",
                                                "kind": "attr",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 3
                                                },
                                                "name": "coerces",
                                                "loc": [12, 186, 24, 186, 0]
                                            },
                                            "name": "add",
                                            "loc": [12, 186, 28, 186, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "make_tuple",
                                                "items": [
                                                    {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 26
                                                    },
                                                    {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 27
                                                    },
                                                    {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 14
                                                    }
                                                ]
                                            }
                                        ],
                                        "loc": [12, 186, 37, 186, 0]
                                    },
                                    {
                                        "type": "assign",
                                        "slot": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 5
                                        },
                                        "value": {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "get_coercion_function_type",
                                                "loc": [16, 188, 42, 188, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 26
                                                },
                                                {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 14
                                                }
                                            ],
                                            "loc": [16, 188, 48, 188, 0]
                                        }
                                    },
                                    {
                                        "type": "assign",
                                        "slot": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 28
                                        },
                                        "value": {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "get_function_header",
                                                "loc": [17, 189, 36, 189, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "literal",
                                                    "kind": "integer",
                                                    "value": "1"
                                                },
                                                {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "false",
                                                    "loc": [40, 189, 45, 189, 0]
                                                },
                                                {
                                                    "type": "literal",
                                                    "kind": "integer",
                                                    "value": "0"
                                                }
                                            ],
                                            "loc": [17, 189, 49, 189, 0]
                                        }
                                    },
                                    {
                                        "type": "assert",
                                        "cond": {
                                            "type": "cmp",
                                            "exprs": [
                                                {
                                                    "type": "slot",
                                                    "kind": "attr",
                                                    "base": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 5
                                                    },
                                                    "name": "heads",
                                                    "loc": [19, 190, 26, 190, 0]
                                                },
                                                {
                                                    "type": "call",
                                                    "callee": {
                                                        "type": "slot",
                                                        "kind": "global",
                                                        "name": "set",
                                                        "loc": [
                                                            30,
                                                            190,
                                                            33,
                                                            190,
                                                            0
                                                        ]
                                                    },
                                                    "args": [
                                                        {
                                                            "type": "list",
                                                            "values": [
                                                                {
                                                                    "type": "call",
                                                                    "callee": {
                                                                        "type": "slot",
                                                                        "kind": "global",
                                                                        "name": "faucet",
                                                                        "loc": [
                                                                            35,
                                                                            190,
                                                                            41,
                                                                            190,
                                                                            0
                                                                        ]
                                                                    },
                                                                    "args": [
                                                                        {
                                                                            "type": "slot",
                                                                            "kind": "local",
                                                                            "index": 28
                                                                        }
                                                                    ],
                                                                    "loc": [
                                                                        35,
                                                                        190,
                                                                        45,
                                                                        190,
                                                                        0
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ],
                                                    "loc": [30, 190, 47, 190, 0]
                                                }
                                            ],
                                            "ops": [
                                                {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "==",
                                                    "loc": [19, 190, 47, 190, 0]
                                                }
                                            ],
                                            "loc": [19, 190, 47, 190, 0]
                                        },
                                        "value": {
                                            "type": "literal",
                                            "kind": "string",
                                            "value": "type error"
                                        },
                                        "loc": [12, 190, 63, 190, 0]
                                    },
                                    {
                                        "type": "assign",
                                        "slot": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 29
                                        },
                                        "value": {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "fresh_state",
                                                "loc": [16, 191, 27, 191, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "call",
                                                    "callee": {
                                                        "type": "slot",
                                                        "kind": "global",
                                                        "name": "-expr",
                                                        "loc": [
                                                            28,
                                                            191,
                                                            30,
                                                            191,
                                                            0
                                                        ]
                                                    },
                                                    "args": [
                                                        {
                                                            "type": "literal",
                                                            "kind": "integer",
                                                            "value": "1"
                                                        }
                                                    ],
                                                    "loc": [28, 191, 30, 191, 0]
                                                }
                                            ],
                                            "loc": [16, 191, 31, 191, 0]
                                        }
                                    },
                                    {
                                        "type": "repeat",
                                        "fresh": [],
                                        "heads": [
                                            {
                                                "type": "for",
                                                "slot": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 30
                                                },
                                                "value": {
                                                    "type": "slot",
                                                    "kind": "item",
                                                    "base": {
                                                        "type": "slot",
                                                        "kind": "attr",
                                                        "base": {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 5
                                                        },
                                                        "name": "transitions",
                                                        "loc": [
                                                            21,
                                                            192,
                                                            34,
                                                            192,
                                                            0
                                                        ]
                                                    },
                                                    "index": {
                                                        "type": "call",
                                                        "callee": {
                                                            "type": "slot",
                                                            "kind": "global",
                                                            "name": "get_dom",
                                                            "loc": [
                                                                35,
                                                                192,
                                                                42,
                                                                192,
                                                                0
                                                            ]
                                                        },
                                                        "args": [
                                                            {
                                                                "type": "literal",
                                                                "kind": "integer",
                                                                "value": "0"
                                                            }
                                                        ],
                                                        "loc": [
                                                            35,
                                                            192,
                                                            45,
                                                            192,
                                                            0
                                                        ]
                                                    },
                                                    "loc": [21, 192, 46, 192, 0]
                                                }
                                            }
                                        ],
                                        "body": [
                                            {
                                                "type": "call",
                                                "callee": {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "merge",
                                                    "loc": [16, 193, 21, 193, 0]
                                                },
                                                "args": [
                                                    {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 29
                                                    },
                                                    {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 30
                                                    }
                                                ],
                                                "loc": [16, 193, 27, 193, 0]
                                            }
                                        ]
                                    },
                                    {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "attr",
                                            "base": {
                                                "type": "slot",
                                                "kind": "attr",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 29
                                                },
                                                "name": "heads",
                                                "loc": [12, 194, 19, 194, 0]
                                            },
                                            "name": "clear",
                                            "loc": [12, 194, 25, 194, 0]
                                        },
                                        "args": [],
                                        "loc": [12, 194, 27, 194, 0]
                                    },
                                    {
                                        "type": "assign",
                                        "slot": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 31
                                        },
                                        "value": {
                                            "type": "slot",
                                            "kind": "item",
                                            "base": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 17
                                            },
                                            "index": {
                                                "type": "call",
                                                "callee": {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "get_dom",
                                                    "loc": [25, 196, 32, 196, 0]
                                                },
                                                "args": [
                                                    {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 27
                                                    }
                                                ],
                                                "loc": [25, 196, 35, 196, 0]
                                            },
                                            "loc": [19, 196, 36, 196, 0]
                                        }
                                    },
                                    {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "biunify",
                                            "loc": [12, 197, 19, 197, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "make_tuple",
                                                "items": [
                                                    {
                                                        "type": "slot",
                                                        "kind": "attr",
                                                        "base": {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 31
                                                        },
                                                        "name": "output",
                                                        "loc": [
                                                            21,
                                                            197,
                                                            32,
                                                            197,
                                                            0
                                                        ]
                                                    },
                                                    {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 29
                                                    }
                                                ]
                                            },
                                            {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 4
                                            }
                                        ],
                                        "loc": [12, 197, 46, 197, 0]
                                    },
                                    {
                                        "type": "repeat",
                                        "fresh": [],
                                        "heads": [
                                            {
                                                "type": "for",
                                                "slot": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 32
                                                },
                                                "value": {
                                                    "type": "slot",
                                                    "kind": "item",
                                                    "base": {
                                                        "type": "slot",
                                                        "kind": "attr",
                                                        "base": {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 5
                                                        },
                                                        "name": "transitions",
                                                        "loc": [
                                                            21,
                                                            198,
                                                            34,
                                                            198,
                                                            0
                                                        ]
                                                    },
                                                    "index": {
                                                        "type": "slot",
                                                        "kind": "global",
                                                        "name": "cod",
                                                        "loc": [
                                                            35,
                                                            198,
                                                            38,
                                                            198,
                                                            0
                                                        ]
                                                    },
                                                    "loc": [21, 198, 39, 198, 0]
                                                }
                                            }
                                        ],
                                        "body": [
                                            {
                                                "type": "call",
                                                "callee": {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "biunify",
                                                    "loc": [16, 199, 23, 199, 0]
                                                },
                                                "args": [
                                                    {
                                                        "type": "make_tuple",
                                                        "items": [
                                                            {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 32
                                                            },
                                                            {
                                                                "type": "slot",
                                                                "kind": "attr",
                                                                "base": {
                                                                    "type": "slot",
                                                                    "kind": "local",
                                                                    "index": 31
                                                                },
                                                                "name": "input",
                                                                "loc": [
                                                                    28,
                                                                    199,
                                                                    38,
                                                                    199,
                                                                    0
                                                                ]
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 4
                                                    }
                                                ],
                                                "loc": [16, 199, 49, 199, 0]
                                            }
                                        ]
                                    }
                                ]
                            }
                        ]
                    }
                ],
                "loc": [19, 133, 49, 199, 0]
            }
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "binary_operator",
                "loc": [0, 201, 15, 201, 0]
            },
            "value": {
                "type": "closure",
                "cellvars": [],
                "localvars": [
                    {"type": "cell", "deref": false, "name": "op", "defs": 1},
                    {"type": "cell", "deref": false, "name": "head", "defs": 1},
                    {
                        "type": "cell",
                        "deref": false,
                        "name": "expect",
                        "defs": 1
                    },
                    {"type": "cell", "deref": false, "name": "f", "defs": 2},
                    {"type": "cell", "deref": false, "name": "z", "defs": 1},
                    {
                        "type": "cell",
                        "deref": false,
                        "name": "calltype",
                        "defs": 1
                    },
                    {
                        "type": "cell",
                        "deref": false,
                        "name": "op_site",
                        "defs": 1
                    },
                    {"type": "cell", "deref": false, "name": "sink0", "defs": 1
                    },
                    {"type": "cell", "deref": false, "name": "sink1", "defs": 1
                    },
                    {
                        "type": "cell",
                        "deref": false,
                        "name": "result",
                        "defs": 1
                    },
                    {"type": "cell", "deref": false, "name": "z1", "defs": 1},
                    {"type": "cell", "deref": false, "name": "z2", "defs": 1},
                    {"type": "cell", "deref": false, "name": "r", "defs": 1}
                ],
                "frame": [],
                "args": [
                    {"slot": {"type": "slot", "kind": "local", "index": 0}},
                    {"slot": {"type": "slot", "kind": "local", "index": 1}},
                    {"slot": {"type": "slot", "kind": "local", "index": 2}}
                ],
                "body": [
                    {
                        "type": "cond",
                        "cond": {
                            "type": "and",
                            "lhs": {
                                "type": "cmp",
                                "exprs": [
                                    {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 0
                                    },
                                    {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "call",
                                        "loc": [13, 205, 17, 205, 0]
                                    }
                                ],
                                "ops": [
                                    {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "==",
                                        "loc": [7, 205, 17, 205, 0]
                                    }
                                ],
                                "loc": [7, 205, 17, 205, 0]
                            },
                            "rhs": {
                                "type": "cmp",
                                "exprs": [
                                    {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 1
                                    },
                                    {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "face",
                                            "loc": [30, 205, 34, 205, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "+",
                                                "loc": [36, 205, 37, 205, 0]
                                            }
                                        ],
                                        "loc": [30, 205, 39, 205, 0]
                                    }
                                ],
                                "ops": [
                                    {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "==",
                                        "loc": [22, 205, 39, 205, 0]
                                    }
                                ],
                                "loc": [22, 205, 39, 205, 0]
                            },
                            "loc": [7, 205, 39, 205, 0]
                        },
                        "tbody": [
                            {
                                "type": "assign",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 3
                                },
                                "value": {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "fresh_state",
                                        "loc": [12, 208, 23, 208, 0]
                                    },
                                    "args": [
                                        {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "+expr",
                                                "loc": [24, 208, 26, 208, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "literal",
                                                    "kind": "integer",
                                                    "value": "1"
                                                }
                                            ],
                                            "loc": [24, 208, 26, 208, 0]
                                        }
                                    ],
                                    "loc": [12, 208, 27, 208, 0]
                                }
                            },
                            {
                                "type": "call",
                                "callee": {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "attr",
                                        "base": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 3
                                        },
                                        "name": "heads",
                                        "loc": [8, 209, 15, 209, 0]
                                    },
                                    "name": "add",
                                    "loc": [8, 209, 19, 209, 0]
                                },
                                "args": [
                                    {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "faucet",
                                            "loc": [20, 209, 26, 209, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 2
                                            }
                                        ],
                                        "loc": [20, 209, 34, 209, 0]
                                    }
                                ],
                                "loc": [8, 209, 35, 209, 0]
                            },
                            {
                                "type": "assign",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 4
                                },
                                "value": {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "fresh_state",
                                        "loc": [12, 211, 23, 211, 0]
                                    },
                                    "args": [
                                        {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "-expr",
                                                "loc": [24, 211, 26, 211, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "literal",
                                                    "kind": "integer",
                                                    "value": "1"
                                                }
                                            ],
                                            "loc": [24, 211, 26, 211, 0]
                                        }
                                    ],
                                    "loc": [12, 211, 27, 211, 0]
                                }
                            },
                            {
                                "type": "call",
                                "callee": {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "attr",
                                        "base": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 4
                                        },
                                        "name": "heads",
                                        "loc": [8, 212, 15, 212, 0]
                                    },
                                    "name": "add",
                                    "loc": [8, 212, 19, 212, 0]
                                },
                                "args": [
                                    {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "faucet",
                                            "loc": [20, 212, 26, 212, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 1
                                            }
                                        ],
                                        "loc": [20, 212, 32, 212, 0]
                                    }
                                ],
                                "loc": [8, 212, 33, 212, 0]
                            },
                            {
                                "type": "call",
                                "callee": {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 3
                                    },
                                    "name": "add_transition",
                                    "loc": [8, 213, 24, 213, 0]
                                },
                                "args": [
                                    {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "get_dom",
                                            "loc": [25, 213, 32, 213, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "literal",
                                                "kind": "integer",
                                                "value": "0"
                                            }
                                        ],
                                        "loc": [25, 213, 35, 213, 0]
                                    },
                                    {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 4
                                    }
                                ],
                                "loc": [8, 213, 39, 213, 0]
                            },
                            {
                                "type": "assign",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 5
                                },
                                "value": {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "fresh_state",
                                        "loc": [19, 215, 30, 215, 0]
                                    },
                                    "args": [
                                        {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "-expr",
                                                "loc": [31, 215, 33, 215, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "literal",
                                                    "kind": "integer",
                                                    "value": "1"
                                                }
                                            ],
                                            "loc": [31, 215, 33, 215, 0]
                                        }
                                    ],
                                    "loc": [19, 215, 34, 215, 0]
                                }
                            },
                            {
                                "type": "assign",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 6
                                },
                                "value": {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "fresh_operator",
                                        "loc": [18, 216, 32, 216, 0]
                                    },
                                    "args": [
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 5
                                        },
                                        {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "+",
                                            "loc": [44, 216, 45, 216, 0]
                                        },
                                        {
                                            "type": "list",
                                            "values": [
                                                {
                                                    "type": "literal",
                                                    "kind": "integer",
                                                    "value": "0"
                                                },
                                                {
                                                    "type": "literal",
                                                    "kind": "integer",
                                                    "value": "1"
                                                }
                                            ]
                                        },
                                        {
                                            "type": "literal",
                                            "kind": "integer",
                                            "value": "2"
                                        }
                                    ],
                                    "loc": [18, 216, 57, 216, 0]
                                }
                            },
                            {
                                "type": "assign",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 7
                                },
                                "value": {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "fresh_port",
                                        "loc": [16, 218, 26, 218, 0]
                                    },
                                    "args": [],
                                    "loc": [16, 218, 28, 218, 0]
                                }
                            },
                            {
                                "type": "call",
                                "callee": {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "attr",
                                        "base": {
                                            "type": "slot",
                                            "kind": "attr",
                                            "base": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 7
                                            },
                                            "name": "input",
                                            "loc": [8, 219, 19, 219, 0]
                                        },
                                        "name": "heads",
                                        "loc": [8, 219, 25, 219, 0]
                                    },
                                    "name": "add",
                                    "loc": [8, 219, 29, 219, 0]
                                },
                                "args": [
                                    {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "sink",
                                            "loc": [30, 219, 34, 219, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "literal",
                                                "kind": "integer",
                                                "value": "0"
                                            },
                                            {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 6
                                            }
                                        ],
                                        "loc": [30, 219, 46, 219, 0]
                                    }
                                ],
                                "loc": [8, 219, 47, 219, 0]
                            },
                            {
                                "type": "call",
                                "callee": {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 3
                                    },
                                    "name": "add_transition",
                                    "loc": [8, 220, 24, 220, 0]
                                },
                                "args": [
                                    {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "get_dom",
                                            "loc": [25, 220, 32, 220, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "literal",
                                                "kind": "integer",
                                                "value": "1"
                                            }
                                        ],
                                        "loc": [25, 220, 35, 220, 0]
                                    },
                                    {
                                        "type": "slot",
                                        "kind": "attr",
                                        "base": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 7
                                        },
                                        "name": "input",
                                        "loc": [37, 220, 48, 220, 0]
                                    }
                                ],
                                "loc": [8, 220, 49, 220, 0]
                            },
                            {
                                "type": "assign",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 8
                                },
                                "value": {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "fresh_port",
                                        "loc": [16, 222, 26, 222, 0]
                                    },
                                    "args": [],
                                    "loc": [16, 222, 28, 222, 0]
                                }
                            },
                            {
                                "type": "call",
                                "callee": {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "attr",
                                        "base": {
                                            "type": "slot",
                                            "kind": "attr",
                                            "base": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 8
                                            },
                                            "name": "input",
                                            "loc": [8, 223, 19, 223, 0]
                                        },
                                        "name": "heads",
                                        "loc": [8, 223, 25, 223, 0]
                                    },
                                    "name": "add",
                                    "loc": [8, 223, 29, 223, 0]
                                },
                                "args": [
                                    {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "sink",
                                            "loc": [30, 223, 34, 223, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "literal",
                                                "kind": "integer",
                                                "value": "1"
                                            },
                                            {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 6
                                            }
                                        ],
                                        "loc": [30, 223, 46, 223, 0]
                                    }
                                ],
                                "loc": [8, 223, 47, 223, 0]
                            },
                            {
                                "type": "call",
                                "callee": {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 3
                                    },
                                    "name": "add_transition",
                                    "loc": [8, 224, 24, 224, 0]
                                },
                                "args": [
                                    {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "get_dom",
                                            "loc": [25, 224, 32, 224, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "literal",
                                                "kind": "integer",
                                                "value": "2"
                                            }
                                        ],
                                        "loc": [25, 224, 35, 224, 0]
                                    },
                                    {
                                        "type": "slot",
                                        "kind": "attr",
                                        "base": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 8
                                        },
                                        "name": "input",
                                        "loc": [37, 224, 48, 224, 0]
                                    }
                                ],
                                "loc": [8, 224, 49, 224, 0]
                            },
                            {
                                "type": "assign",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 9
                                },
                                "value": {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "fresh_port",
                                        "loc": [17, 226, 27, 226, 0]
                                    },
                                    "args": [],
                                    "loc": [17, 226, 29, 226, 0]
                                }
                            },
                            {
                                "type": "call",
                                "callee": {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 5
                                    },
                                    "name": "add_transition",
                                    "loc": [8, 228, 31, 228, 0]
                                },
                                "args": [
                                    {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "get_dom",
                                            "loc": [32, 228, 39, 228, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "literal",
                                                "kind": "integer",
                                                "value": "0"
                                            }
                                        ],
                                        "loc": [32, 228, 42, 228, 0]
                                    },
                                    {
                                        "type": "slot",
                                        "kind": "attr",
                                        "base": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 7
                                        },
                                        "name": "output",
                                        "loc": [44, 228, 56, 228, 0]
                                    }
                                ],
                                "loc": [8, 228, 57, 228, 0]
                            },
                            {
                                "type": "call",
                                "callee": {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 5
                                    },
                                    "name": "add_transition",
                                    "loc": [8, 229, 31, 229, 0]
                                },
                                "args": [
                                    {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "get_dom",
                                            "loc": [32, 229, 39, 229, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "literal",
                                                "kind": "integer",
                                                "value": "1"
                                            }
                                        ],
                                        "loc": [32, 229, 42, 229, 0]
                                    },
                                    {
                                        "type": "slot",
                                        "kind": "attr",
                                        "base": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 8
                                        },
                                        "name": "output",
                                        "loc": [44, 229, 56, 229, 0]
                                    }
                                ],
                                "loc": [8, 229, 57, 229, 0]
                            },
                            {
                                "type": "call",
                                "callee": {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 5
                                    },
                                    "name": "add_transition",
                                    "loc": [8, 230, 31, 230, 0]
                                },
                                "args": [
                                    {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "cod",
                                        "loc": [32, 230, 35, 230, 0]
                                    },
                                    {
                                        "type": "slot",
                                        "kind": "attr",
                                        "base": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 9
                                        },
                                        "name": "input",
                                        "loc": [37, 230, 49, 230, 0]
                                    }
                                ],
                                "loc": [8, 230, 50, 230, 0]
                            },
                            {
                                "type": "call",
                                "callee": {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 3
                                    },
                                    "name": "add_transition",
                                    "loc": [8, 231, 24, 231, 0]
                                },
                                "args": [
                                    {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "cod",
                                        "loc": [25, 231, 28, 231, 0]
                                    },
                                    {
                                        "type": "slot",
                                        "kind": "attr",
                                        "base": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 9
                                        },
                                        "name": "output",
                                        "loc": [30, 231, 43, 231, 0]
                                    }
                                ],
                                "loc": [8, 231, 44, 231, 0]
                            },
                            {
                                "type": "return",
                                "value": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 3
                                }
                            }
                        ],
                        "fbody": [],
                        "loc": [4, 205, 16, 233, 0]
                    },
                    {
                        "type": "cond",
                        "cond": {
                            "type": "and",
                            "lhs": {
                                "type": "cmp",
                                "exprs": [
                                    {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 0
                                    },
                                    {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "+",
                                        "loc": [14, 234, 15, 234, 0]
                                    }
                                ],
                                "ops": [
                                    {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "==",
                                        "loc": [7, 234, 16, 234, 0]
                                    }
                                ],
                                "loc": [7, 234, 16, 234, 0]
                            },
                            "rhs": {
                                "type": "cmp",
                                "exprs": [
                                    {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 1
                                    },
                                    {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "Integer",
                                        "loc": [29, 234, 36, 234, 0]
                                    }
                                ],
                                "ops": [
                                    {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "==",
                                        "loc": [21, 234, 36, 234, 0]
                                    }
                                ],
                                "loc": [21, 234, 36, 234, 0]
                            },
                            "loc": [7, 234, 36, 234, 0]
                        },
                        "tbody": [
                            {
                                "type": "assign",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 3
                                },
                                "value": {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "fresh_state",
                                        "loc": [12, 235, 23, 235, 0]
                                    },
                                    "args": [
                                        {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "+expr",
                                                "loc": [24, 235, 26, 235, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "literal",
                                                    "kind": "integer",
                                                    "value": "1"
                                                }
                                            ],
                                            "loc": [24, 235, 26, 235, 0]
                                        }
                                    ],
                                    "loc": [12, 235, 27, 235, 0]
                                }
                            },
                            {
                                "type": "call",
                                "callee": {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "attr",
                                        "base": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 3
                                        },
                                        "name": "heads",
                                        "loc": [8, 236, 15, 236, 0]
                                    },
                                    "name": "add",
                                    "loc": [8, 236, 19, 236, 0]
                                },
                                "args": [
                                    {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "faucet",
                                            "loc": [20, 236, 26, 236, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "call",
                                                "callee": {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "get_function_header",
                                                    "loc": [27, 236, 46, 236, 0]
                                                },
                                                "args": [
                                                    {
                                                        "type": "literal",
                                                        "kind": "integer",
                                                        "value": "2"
                                                    },
                                                    {
                                                        "type": "slot",
                                                        "kind": "global",
                                                        "name": "false",
                                                        "loc": [
                                                            50,
                                                            236,
                                                            55,
                                                            236,
                                                            0
                                                        ]
                                                    },
                                                    {
                                                        "type": "literal",
                                                        "kind": "integer",
                                                        "value": "0"
                                                    }
                                                ],
                                                "loc": [27, 236, 59, 236, 0]
                                            }
                                        ],
                                        "loc": [20, 236, 60, 236, 0]
                                    }
                                ],
                                "loc": [8, 236, 61, 236, 0]
                            },
                            {
                                "type": "assign",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 10
                                },
                                "value": {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "fresh_state",
                                        "loc": [13, 237, 24, 237, 0]
                                    },
                                    "args": [
                                        {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "-expr",
                                                "loc": [25, 237, 27, 237, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "literal",
                                                    "kind": "integer",
                                                    "value": "1"
                                                }
                                            ],
                                            "loc": [25, 237, 27, 237, 0]
                                        }
                                    ],
                                    "loc": [13, 237, 28, 237, 0]
                                }
                            },
                            {
                                "type": "call",
                                "callee": {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "attr",
                                        "base": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 10
                                        },
                                        "name": "heads",
                                        "loc": [8, 238, 16, 238, 0]
                                    },
                                    "name": "add",
                                    "loc": [8, 238, 20, 238, 0]
                                },
                                "args": [
                                    {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "faucet",
                                            "loc": [21, 238, 27, 238, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "Integer",
                                                "loc": [28, 238, 35, 238, 0]
                                            }
                                        ],
                                        "loc": [21, 238, 36, 238, 0]
                                    }
                                ],
                                "loc": [8, 238, 37, 238, 0]
                            },
                            {
                                "type": "assign",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 11
                                },
                                "value": {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "fresh_state",
                                        "loc": [13, 239, 24, 239, 0]
                                    },
                                    "args": [
                                        {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "-expr",
                                                "loc": [25, 239, 27, 239, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "literal",
                                                    "kind": "integer",
                                                    "value": "1"
                                                }
                                            ],
                                            "loc": [25, 239, 27, 239, 0]
                                        }
                                    ],
                                    "loc": [13, 239, 28, 239, 0]
                                }
                            },
                            {
                                "type": "call",
                                "callee": {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "attr",
                                        "base": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 11
                                        },
                                        "name": "heads",
                                        "loc": [8, 240, 16, 240, 0]
                                    },
                                    "name": "add",
                                    "loc": [8, 240, 20, 240, 0]
                                },
                                "args": [
                                    {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "faucet",
                                            "loc": [21, 240, 27, 240, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "Integer",
                                                "loc": [28, 240, 35, 240, 0]
                                            }
                                        ],
                                        "loc": [21, 240, 36, 240, 0]
                                    }
                                ],
                                "loc": [8, 240, 37, 240, 0]
                            },
                            {
                                "type": "assign",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 12
                                },
                                "value": {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "fresh_state",
                                        "loc": [12, 241, 23, 241, 0]
                                    },
                                    "args": [
                                        {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "+expr",
                                                "loc": [24, 241, 26, 241, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "literal",
                                                    "kind": "integer",
                                                    "value": "1"
                                                }
                                            ],
                                            "loc": [24, 241, 26, 241, 0]
                                        }
                                    ],
                                    "loc": [12, 241, 27, 241, 0]
                                }
                            },
                            {
                                "type": "call",
                                "callee": {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "attr",
                                        "base": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 12
                                        },
                                        "name": "heads",
                                        "loc": [8, 242, 15, 242, 0]
                                    },
                                    "name": "add",
                                    "loc": [8, 242, 19, 242, 0]
                                },
                                "args": [
                                    {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "faucet",
                                            "loc": [20, 242, 26, 242, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "Integer",
                                                "loc": [27, 242, 34, 242, 0]
                                            }
                                        ],
                                        "loc": [20, 242, 35, 242, 0]
                                    }
                                ],
                                "loc": [8, 242, 36, 242, 0]
                            },
                            {
                                "type": "call",
                                "callee": {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 3
                                    },
                                    "name": "add_transition",
                                    "loc": [8, 243, 24, 243, 0]
                                },
                                "args": [
                                    {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "get_dom",
                                            "loc": [25, 243, 32, 243, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "literal",
                                                "kind": "integer",
                                                "value": "0"
                                            }
                                        ],
                                        "loc": [25, 243, 35, 243, 0]
                                    },
                                    {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 10
                                    }
                                ],
                                "loc": [8, 243, 40, 243, 0]
                            },
                            {
                                "type": "call",
                                "callee": {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 3
                                    },
                                    "name": "add_transition",
                                    "loc": [8, 244, 24, 244, 0]
                                },
                                "args": [
                                    {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "get_dom",
                                            "loc": [25, 244, 32, 244, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "literal",
                                                "kind": "integer",
                                                "value": "1"
                                            }
                                        ],
                                        "loc": [25, 244, 35, 244, 0]
                                    },
                                    {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 11
                                    }
                                ],
                                "loc": [8, 244, 40, 244, 0]
                            },
                            {
                                "type": "call",
                                "callee": {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 3
                                    },
                                    "name": "add_transition",
                                    "loc": [8, 245, 24, 245, 0]
                                },
                                "args": [
                                    {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "cod",
                                        "loc": [25, 245, 28, 245, 0]
                                    },
                                    {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 12
                                    }
                                ],
                                "loc": [8, 245, 32, 245, 0]
                            },
                            {
                                "type": "return",
                                "value": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 3
                                }
                            }
                        ],
                        "fbody": [],
                        "loc": [4, 234, 16, 246, 0]
                    },
                    {
                        "type": "assert",
                        "cond": {
                            "type": "slot",
                            "kind": "global",
                            "name": "false",
                            "loc": [11, 247, 16, 247, 0]
                        },
                        "value": {
                            "type": "literal",
                            "kind": "string",
                            "value": "not implemented"
                        },
                        "loc": [4, 247, 37, 247, 0]
                    }
                ],
                "loc": [18, 201, 37, 247, 0]
            }
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "get_coercion_function_type",
                "loc": [0, 325, 26, 325, 0]
            },
            "value": {
                "type": "closure",
                "cellvars": [],
                "localvars": [
                    {"type": "cell", "deref": false, "name": "a", "defs": 1},
                    {"type": "cell", "deref": false, "name": "b", "defs": 1},
                    {"type": "cell", "deref": false, "name": "f", "defs": 1},
                    {"type": "cell", "deref": false, "name": "z", "defs": 1},
                    {"type": "cell", "deref": false, "name": "r", "defs": 1},
                    {"type": "cell", "deref": false, "name": "param", "defs": 1
                    },
                    {"type": "cell", "deref": false, "name": "p", "defs": 1},
                    {"type": "cell", "deref": false, "name": "q", "defs": 1}
                ],
                "frame": [],
                "args": [
                    {"slot": {"type": "slot", "kind": "local", "index": 0}},
                    {"slot": {"type": "slot", "kind": "local", "index": 1}}
                ],
                "body": [
                    {
                        "type": "cond",
                        "cond": {
                            "type": "cmp",
                            "exprs": [
                                {"type": "slot", "kind": "local", "index": 0},
                                {"type": "slot", "kind": "local", "index": 1}
                            ],
                            "ops": [
                                {
                                    "type": "slot",
                                    "kind": "global",
                                    "name": "==",
                                    "loc": [7, 326, 13, 326, 0]
                                }
                            ],
                            "loc": [7, 326, 13, 326, 0]
                        },
                        "tbody": [
                            {
                                "type": "assign",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 2
                                },
                                "value": {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "fresh_state",
                                        "loc": [12, 327, 23, 327, 0]
                                    },
                                    "args": [
                                        {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "+expr",
                                                "loc": [24, 327, 26, 327, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "literal",
                                                    "kind": "integer",
                                                    "value": "1"
                                                }
                                            ],
                                            "loc": [24, 327, 26, 327, 0]
                                        }
                                    ],
                                    "loc": [12, 327, 27, 327, 0]
                                }
                            },
                            {
                                "type": "call",
                                "callee": {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "attr",
                                        "base": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 2
                                        },
                                        "name": "heads",
                                        "loc": [8, 328, 15, 328, 0]
                                    },
                                    "name": "add",
                                    "loc": [8, 328, 19, 328, 0]
                                },
                                "args": [
                                    {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "faucet",
                                            "loc": [20, 328, 26, 328, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "call",
                                                "callee": {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "get_function_header",
                                                    "loc": [27, 328, 46, 328, 0]
                                                },
                                                "args": [
                                                    {
                                                        "type": "literal",
                                                        "kind": "integer",
                                                        "value": "1"
                                                    },
                                                    {
                                                        "type": "slot",
                                                        "kind": "global",
                                                        "name": "false",
                                                        "loc": [
                                                            50,
                                                            328,
                                                            55,
                                                            328,
                                                            0
                                                        ]
                                                    },
                                                    {
                                                        "type": "literal",
                                                        "kind": "integer",
                                                        "value": "0"
                                                    }
                                                ],
                                                "loc": [27, 328, 59, 328, 0]
                                            }
                                        ],
                                        "loc": [20, 328, 60, 328, 0]
                                    }
                                ],
                                "loc": [8, 328, 61, 328, 0]
                            },
                            {
                                "type": "assign",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 3
                                },
                                "value": {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "fresh_state",
                                        "loc": [12, 329, 23, 329, 0]
                                    },
                                    "args": [
                                        {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "-expr",
                                                "loc": [24, 329, 26, 329, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "literal",
                                                    "kind": "integer",
                                                    "value": "1"
                                                }
                                            ],
                                            "loc": [24, 329, 26, 329, 0]
                                        }
                                    ],
                                    "loc": [12, 329, 27, 329, 0]
                                }
                            },
                            {
                                "type": "call",
                                "callee": {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "attr",
                                        "base": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 3
                                        },
                                        "name": "heads",
                                        "loc": [8, 330, 15, 330, 0]
                                    },
                                    "name": "add",
                                    "loc": [8, 330, 19, 330, 0]
                                },
                                "args": [
                                    {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "faucet",
                                            "loc": [20, 330, 26, 330, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 0
                                            }
                                        ],
                                        "loc": [20, 330, 29, 330, 0]
                                    }
                                ],
                                "loc": [8, 330, 30, 330, 0]
                            },
                            {
                                "type": "assign",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 4
                                },
                                "value": {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "fresh_state",
                                        "loc": [12, 331, 23, 331, 0]
                                    },
                                    "args": [
                                        {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "+expr",
                                                "loc": [24, 331, 26, 331, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "literal",
                                                    "kind": "integer",
                                                    "value": "1"
                                                }
                                            ],
                                            "loc": [24, 331, 26, 331, 0]
                                        }
                                    ],
                                    "loc": [12, 331, 27, 331, 0]
                                }
                            },
                            {
                                "type": "call",
                                "callee": {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "attr",
                                        "base": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 4
                                        },
                                        "name": "heads",
                                        "loc": [8, 332, 15, 332, 0]
                                    },
                                    "name": "add",
                                    "loc": [8, 332, 19, 332, 0]
                                },
                                "args": [
                                    {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "faucet",
                                            "loc": [20, 332, 26, 332, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 1
                                            }
                                        ],
                                        "loc": [20, 332, 29, 332, 0]
                                    }
                                ],
                                "loc": [8, 332, 30, 332, 0]
                            },
                            {
                                "type": "repeat",
                                "fresh": [],
                                "heads": [
                                    {
                                        "type": "for",
                                        "slot": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 5
                                        },
                                        "value": {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "attr",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 0
                                                },
                                                "name": "params",
                                                "loc": [21, 333, 29, 333, 0]
                                            },
                                            "args": [],
                                            "loc": [21, 333, 31, 333, 0]
                                        }
                                    }
                                ],
                                "body": [
                                    {
                                        "type": "assign",
                                        "slot": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 6
                                        },
                                        "value": {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "fresh_state",
                                                "loc": [16, 334, 27, 334, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "call",
                                                    "callee": {
                                                        "type": "slot",
                                                        "kind": "global",
                                                        "name": "+expr",
                                                        "loc": [
                                                            28,
                                                            334,
                                                            38,
                                                            334,
                                                            0
                                                        ]
                                                    },
                                                    "args": [
                                                        {
                                                            "type": "slot",
                                                            "kind": "attr",
                                                            "base": {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 5
                                                            },
                                                            "name": "pol",
                                                            "loc": [
                                                                29,
                                                                334,
                                                                38,
                                                                334,
                                                                0
                                                            ]
                                                        }
                                                    ],
                                                    "loc": [28, 334, 38, 334, 0]
                                                }
                                            ],
                                            "loc": [16, 334, 39, 334, 0]
                                        }
                                    },
                                    {
                                        "type": "assign",
                                        "slot": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 7
                                        },
                                        "value": {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "fresh_state",
                                                "loc": [16, 335, 27, 335, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "call",
                                                    "callee": {
                                                        "type": "slot",
                                                        "kind": "global",
                                                        "name": "-expr",
                                                        "loc": [
                                                            28,
                                                            335,
                                                            38,
                                                            335,
                                                            0
                                                        ]
                                                    },
                                                    "args": [
                                                        {
                                                            "type": "slot",
                                                            "kind": "attr",
                                                            "base": {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 5
                                                            },
                                                            "name": "pol",
                                                            "loc": [
                                                                29,
                                                                335,
                                                                38,
                                                                335,
                                                                0
                                                            ]
                                                        }
                                                    ],
                                                    "loc": [28, 335, 38, 335, 0]
                                                }
                                            ],
                                            "loc": [16, 335, 39, 335, 0]
                                        }
                                    },
                                    {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "attr",
                                            "base": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 6
                                            },
                                            "name": "add_flow",
                                            "loc": [12, 336, 22, 336, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 7
                                            }
                                        ],
                                        "loc": [12, 336, 25, 336, 0]
                                    },
                                    {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "attr",
                                            "base": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 4
                                            },
                                            "name": "add_transition",
                                            "loc": [12, 337, 28, 337, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 5
                                            },
                                            {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 6
                                            }
                                        ],
                                        "loc": [12, 337, 38, 337, 0]
                                    },
                                    {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "attr",
                                            "base": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 3
                                            },
                                            "name": "add_transition",
                                            "loc": [12, 338, 28, 338, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 5
                                            },
                                            {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 7
                                            }
                                        ],
                                        "loc": [12, 338, 38, 338, 0]
                                    }
                                ]
                            },
                            {
                                "type": "call",
                                "callee": {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 2
                                    },
                                    "name": "add_transition",
                                    "loc": [8, 339, 24, 339, 0]
                                },
                                "args": [
                                    {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "get_dom",
                                            "loc": [25, 339, 32, 339, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "literal",
                                                "kind": "integer",
                                                "value": "0"
                                            }
                                        ],
                                        "loc": [25, 339, 35, 339, 0]
                                    },
                                    {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 3
                                    }
                                ],
                                "loc": [8, 339, 39, 339, 0]
                            },
                            {
                                "type": "call",
                                "callee": {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 2
                                    },
                                    "name": "add_transition",
                                    "loc": [8, 340, 24, 340, 0]
                                },
                                "args": [
                                    {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "cod",
                                        "loc": [25, 340, 28, 340, 0]
                                    },
                                    {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 4
                                    }
                                ],
                                "loc": [8, 340, 32, 340, 0]
                            },
                            {
                                "type": "return",
                                "value": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 2
                                }
                            }
                        ],
                        "fbody": [],
                        "loc": [4, 326, 16, 341, 0]
                    },
                    {
                        "type": "assert",
                        "cond": {
                            "type": "slot",
                            "kind": "global",
                            "name": "false",
                            "loc": [11, 342, 16, 342, 0]
                        },
                        "value": {
                            "type": "literal",
                            "kind": "string",
                            "value": "not implemented"
                        },
                        "loc": [4, 342, 37, 342, 0]
                    }
                ],
                "loc": [29, 325, 37, 342, 0]
            }
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "to_raw_type",
                "loc": [0, 358, 11, 358, 0]
            },
            "value": {
                "type": "closure",
                "cellvars": [
                    {"type": "cell", "deref": true, "name": "scheme", "defs": 1
                    },
                    {
                        "type": "cell",
                        "deref": true,
                        "name": "flow_variables",
                        "defs": 1
                    },
                    {"type": "cell", "deref": true, "name": "visi", "defs": 1},
                    {"type": "cell", "deref": true, "name": "mapi", "defs": 1},
                    {
                        "type": "cell",
                        "deref": true,
                        "name": "rvar_id",
                        "defs": 1
                    },
                    {"type": "cell", "deref": true, "name": "trail", "defs": 1},
                    {
                        "type": "cell",
                        "deref": true,
                        "name": "s_visit",
                        "defs": 1
                    },
                    {
                        "type": "cell",
                        "deref": true,
                        "name": "r_visit",
                        "defs": 1
                    },
                    {
                        "type": "cell",
                        "deref": true,
                        "name": "e_visit",
                        "defs": 1
                    }
                ],
                "localvars": [],
                "frame": [],
                "args": [{"slot": {"type": "slot", "kind": "cell", "index": 0}}
                ],
                "body": [
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "cell", "index": 1},
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "global",
                                "name": "greedy_biclique_decomposition",
                                "loc": [21, 359, 50, 359, 0]
                            },
                            "args": [
                                {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "cell",
                                        "index": 0
                                    },
                                    "name": "generic",
                                    "loc": [8, 360, 22, 360, 0]
                                },
                                {
                                    "type": "closure",
                                    "cellvars": [],
                                    "localvars": [
                                        {
                                            "type": "cell",
                                            "deref": false,
                                            "name": "vertex",
                                            "defs": 1
                                        }
                                    ],
                                    "frame": [],
                                    "args": [
                                        {
                                            "slot": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 0
                                            }
                                        }
                                    ],
                                    "body": [
                                        {
                                            "type": "return",
                                            "value": {
                                                "type": "slot",
                                                "kind": "attr",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 0
                                                },
                                                "name": "flow",
                                                "loc": [19, 361, 30, 361, 0]
                                            }
                                        }
                                    ],
                                    "loc": [9, 361, 30, 361, 0]
                                }
                            ],
                            "loc": [21, 359, 32, 361, 0]
                        }
                    },
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "cell", "index": 2},
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "global",
                                "name": "set",
                                "loc": [11, 365, 14, 365, 0]
                            },
                            "args": [],
                            "loc": [11, 365, 16, 365, 0]
                        }
                    },
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "cell", "index": 3},
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "global",
                                "name": "dict",
                                "loc": [11, 366, 15, 366, 0]
                            },
                            "args": [],
                            "loc": [11, 366, 17, 366, 0]
                        }
                    },
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "cell", "index": 4},
                        "value": {
                            "type": "literal",
                            "kind": "integer",
                            "value": "0"
                        }
                    },
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "cell", "index": 5},
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "global",
                                "name": "dict",
                                "loc": [12, 369, 16, 369, 0]
                            },
                            "args": [],
                            "loc": [12, 369, 18, 369, 0]
                        }
                    },
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "cell", "index": 6},
                        "value": {
                            "type": "closure",
                            "cellvars": [
                                {
                                    "type": "cell",
                                    "deref": true,
                                    "name": "scheme",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": true,
                                    "name": "visi",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": true,
                                    "name": "rvar_id",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": true,
                                    "name": "mapi",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": true,
                                    "name": "s_visit",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": true,
                                    "name": "trail",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": true,
                                    "name": "r_visit",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": true,
                                    "name": "flow_variables",
                                    "defs": 1
                                }
                            ],
                            "localvars": [
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "state",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "in_trail",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "sym",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "op",
                                    "defs": 2
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "typedecl",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "head",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "index",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "site",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "name",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "line",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "x",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "v",
                                    "defs": 1
                                }
                            ],
                            "frame": [0, 2, 4, 3, 6, 5, 7, 1],
                            "args": [
                                {
                                    "slot": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 0
                                    }
                                },
                                {
                                    "slot": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 1
                                    }
                                }
                            ],
                            "body": [
                                {
                                    "type": "assert",
                                    "cond": {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "in",
                                            "loc": [15, 372, 38, 372, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 0
                                            },
                                            {
                                                "type": "slot",
                                                "kind": "attr",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "cell",
                                                    "index": 0
                                                },
                                                "name": "generic",
                                                "loc": [24, 372, 38, 372, 0]
                                            }
                                        ],
                                        "loc": [15, 372, 38, 372, 0]
                                    },
                                    "value": {
                                        "type": "literal",
                                        "kind": "string",
                                        "value": "raw type cannot print schemes with free variables in them"
                                    },
                                    "loc": [8, 372, 71, 373, 0]
                                },
                                {
                                    "type": "cond",
                                    "cond": {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "in",
                                            "loc": [11, 374, 24, 374, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 0
                                            },
                                            {
                                                "type": "slot",
                                                "kind": "cell",
                                                "index": 1
                                            }
                                        ],
                                        "loc": [11, 374, 24, 374, 0]
                                    },
                                    "tbody": [
                                        {
                                            "type": "assign",
                                            "slot": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 2
                                            },
                                            "value": {
                                                "type": "call",
                                                "callee": {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "++",
                                                    "loc": [18, 375, 47, 375, 0]
                                                },
                                                "args": [
                                                    {
                                                        "type": "literal",
                                                        "kind": "string",
                                                        "value": "rec.r"
                                                    },
                                                    {
                                                        "type": "call",
                                                        "callee": {
                                                            "type": "slot",
                                                            "kind": "global",
                                                            "name": "stringify",
                                                            "loc": [
                                                                29,
                                                                375,
                                                                38,
                                                                375,
                                                                0
                                                            ]
                                                        },
                                                        "args": [
                                                            {
                                                                "type": "slot",
                                                                "kind": "cell",
                                                                "index": 2
                                                            }
                                                        ],
                                                        "loc": [
                                                            29,
                                                            375,
                                                            47,
                                                            375,
                                                            0
                                                        ]
                                                    }
                                                ],
                                                "loc": [18, 375, 47, 375, 0]
                                            }
                                        },
                                        {
                                            "type": "assign",
                                            "slot": {
                                                "type": "slot",
                                                "kind": "item",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "cell",
                                                    "index": 3
                                                },
                                                "index": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 0
                                                },
                                                "loc": [12, 376, 23, 376, 0]
                                            },
                                            "value": {
                                                "type": "call",
                                                "callee": {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "++",
                                                    "loc": [26, 376, 55, 376, 0]
                                                },
                                                "args": [
                                                    {
                                                        "type": "literal",
                                                        "kind": "string",
                                                        "value": "let.r"
                                                    },
                                                    {
                                                        "type": "call",
                                                        "callee": {
                                                            "type": "slot",
                                                            "kind": "global",
                                                            "name": "stringify",
                                                            "loc": [
                                                                37,
                                                                376,
                                                                46,
                                                                376,
                                                                0
                                                            ]
                                                        },
                                                        "args": [
                                                            {
                                                                "type": "slot",
                                                                "kind": "cell",
                                                                "index": 2
                                                            }
                                                        ],
                                                        "loc": [
                                                            37,
                                                            376,
                                                            55,
                                                            376,
                                                            0
                                                        ]
                                                    }
                                                ],
                                                "loc": [26, 376, 55, 376, 0]
                                            }
                                        },
                                        {
                                            "type": "inplace_assign",
                                            "slot": {
                                                "type": "slot",
                                                "kind": "cell",
                                                "index": 2
                                            },
                                            "op": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "+",
                                                "loc": [12, 377, 24, 377, 0]
                                            },
                                            "value": {
                                                "type": "literal",
                                                "kind": "integer",
                                                "value": "1"
                                            }
                                        },
                                        {
                                            "type": "return",
                                            "value": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 2
                                            }
                                        }
                                    ],
                                    "fbody": [],
                                    "loc": [8, 374, 22, 378, 0]
                                },
                                {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "attr",
                                        "base": {
                                            "type": "slot",
                                            "kind": "cell",
                                            "index": 1
                                        },
                                        "name": "add",
                                        "loc": [8, 379, 16, 379, 0]
                                    },
                                    "args": [
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 0
                                        }
                                    ],
                                    "loc": [8, 379, 23, 379, 0]
                                },
                                {
                                    "type": "cond",
                                    "cond": {
                                        "type": "cmp",
                                        "exprs": [
                                            {
                                                "type": "slot",
                                                "kind": "attr",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 0
                                                },
                                                "name": "pol",
                                                "loc": [11, 381, 20, 381, 0]
                                            },
                                            {
                                                "type": "literal",
                                                "kind": "integer",
                                                "value": "0"
                                            }
                                        ],
                                        "ops": [
                                            {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": ">",
                                                "loc": [11, 381, 24, 381, 0]
                                            }
                                        ],
                                        "loc": [11, 381, 24, 381, 0]
                                    },
                                    "tbody": [
                                        {
                                            "type": "assign",
                                            "slot": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 3
                                            },
                                            "value": {
                                                "type": "literal",
                                                "kind": "string",
                                                "value": " | "
                                            }
                                        }
                                    ],
                                    "fbody": [
                                        {
                                            "type": "assign",
                                            "slot": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 3
                                            },
                                            "value": {
                                                "type": "literal",
                                                "kind": "string",
                                                "value": " & "
                                            }
                                        }
                                    ],
                                    "loc": [8, 381, 22, 384, 0]
                                },
                                {
                                    "type": "assign",
                                    "slot": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 4
                                    },
                                    "value": {"type": "list", "values": []}
                                },
                                {
                                    "type": "repeat",
                                    "fresh": [],
                                    "heads": [
                                        {
                                            "type": "for",
                                            "slot": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 5
                                            },
                                            "value": {
                                                "type": "slot",
                                                "kind": "attr",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 0
                                                },
                                                "name": "heads",
                                                "loc": [20, 387, 31, 387, 0]
                                            }
                                        }
                                    ],
                                    "body": [
                                        {
                                            "type": "case",
                                            "value": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 5
                                            },
                                            "cases": [
                                                {
                                                    "type": "pattern",
                                                    "pattern": {
                                                        "type": "slot",
                                                        "kind": "global",
                                                        "name": "sink",
                                                        "loc": [
                                                            12,
                                                            389,
                                                            16,
                                                            389,
                                                            0
                                                        ]
                                                    },
                                                    "slot": {
                                                        "type": "slot",
                                                        "kind": "tuple",
                                                        "slots": [
                                                            {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 6
                                                            },
                                                            {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 7
                                                            }
                                                        ],
                                                        "loc": [
                                                            12,
                                                            389,
                                                            62,
                                                            393,
                                                            0
                                                        ]
                                                    },
                                                    "body": [
                                                        {
                                                            "type": "assign",
                                                            "slot": {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 8
                                                            },
                                                            "value": {
                                                                "type": "call",
                                                                "callee": {
                                                                    "type": "slot",
                                                                    "kind": "global",
                                                                    "name": "stringify",
                                                                    "loc": [
                                                                        23,
                                                                        390,
                                                                        32,
                                                                        390,
                                                                        0
                                                                    ]
                                                                },
                                                                "args": [
                                                                    {
                                                                        "type": "slot",
                                                                        "kind": "attr",
                                                                        "base": {
                                                                            "type": "slot",
                                                                            "kind": "local",
                                                                            "index": 7
                                                                        },
                                                                        "name": "op",
                                                                        "loc": [
                                                                            33,
                                                                            390,
                                                                            40,
                                                                            390,
                                                                            0
                                                                        ]
                                                                    }
                                                                ],
                                                                "loc": [
                                                                    23,
                                                                    390,
                                                                    41,
                                                                    390,
                                                                    0
                                                                ]
                                                            }
                                                        },
                                                        {
                                                            "type": "cond",
                                                            "cond": {
                                                                "type": "not",
                                                                "value": {
                                                                    "type": "call",
                                                                    "callee": {
                                                                        "type": "slot",
                                                                        "kind": "global",
                                                                        "name": "in",
                                                                        "loc": [
                                                                            19,
                                                                            391,
                                                                            41,
                                                                            391,
                                                                            0
                                                                        ]
                                                                    },
                                                                    "args": [
                                                                        {
                                                                            "type": "slot",
                                                                            "kind": "attr",
                                                                            "base": {
                                                                                "type": "slot",
                                                                                "kind": "local",
                                                                                "index": 7
                                                                            },
                                                                            "name": "state",
                                                                            "loc": [
                                                                                19,
                                                                                391,
                                                                                29,
                                                                                391,
                                                                                0
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "slot",
                                                                            "kind": "cell",
                                                                            "index": 1
                                                                        }
                                                                    ],
                                                                    "loc": [
                                                                        19,
                                                                        391,
                                                                        41,
                                                                        391,
                                                                        0
                                                                    ]
                                                                },
                                                                "loc": [
                                                                    19,
                                                                    391,
                                                                    41,
                                                                    391,
                                                                    0
                                                                ]
                                                            },
                                                            "tbody": [
                                                                {
                                                                    "type": "assign",
                                                                    "slot": {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 9
                                                                    },
                                                                    "value": {
                                                                        "type": "call",
                                                                        "callee": {
                                                                            "type": "slot",
                                                                            "kind": "cell",
                                                                            "index": 4
                                                                        },
                                                                        "args": [
                                                                            {
                                                                                "type": "slot",
                                                                                "kind": "attr",
                                                                                "base": {
                                                                                    "type": "slot",
                                                                                    "kind": "local",
                                                                                    "index": 7
                                                                                },
                                                                                "name": "state",
                                                                                "loc": [
                                                                                    35,
                                                                                    392,
                                                                                    45,
                                                                                    392,
                                                                                    0
                                                                                ]
                                                                            },
                                                                            {
                                                                                "type": "slot",
                                                                                "kind": "global",
                                                                                "name": "true",
                                                                                "loc": [
                                                                                    47,
                                                                                    392,
                                                                                    51,
                                                                                    392,
                                                                                    0
                                                                                ]
                                                                            }
                                                                        ],
                                                                        "loc": [
                                                                            27,
                                                                            392,
                                                                            52,
                                                                            392,
                                                                            0
                                                                        ]
                                                                    }
                                                                },
                                                                {
                                                                    "type": "assign",
                                                                    "slot": {
                                                                        "type": "slot",
                                                                        "kind": "item",
                                                                        "base": {
                                                                            "type": "slot",
                                                                            "kind": "cell",
                                                                            "index": 5
                                                                        },
                                                                        "index": {
                                                                            "type": "slot",
                                                                            "kind": "global",
                                                                            "name": "w",
                                                                            "loc": [
                                                                                26,
                                                                                393,
                                                                                27,
                                                                                393,
                                                                                0
                                                                            ]
                                                                        },
                                                                        "loc": [
                                                                            20,
                                                                            393,
                                                                            28,
                                                                            393,
                                                                            0
                                                                        ]
                                                                    },
                                                                    "value": {
                                                                        "type": "call",
                                                                        "callee": {
                                                                            "type": "slot",
                                                                            "kind": "global",
                                                                            "name": "++",
                                                                            "loc": [
                                                                                31,
                                                                                393,
                                                                                62,
                                                                                393,
                                                                                0
                                                                            ]
                                                                        },
                                                                        "args": [
                                                                            {
                                                                                "type": "call",
                                                                                "callee": {
                                                                                    "type": "slot",
                                                                                    "kind": "global",
                                                                                    "name": "++",
                                                                                    "loc": [
                                                                                        31,
                                                                                        393,
                                                                                        54,
                                                                                        393,
                                                                                        0
                                                                                    ]
                                                                                },
                                                                                "args": [
                                                                                    {
                                                                                        "type": "call",
                                                                                        "callee": {
                                                                                            "type": "slot",
                                                                                            "kind": "global",
                                                                                            "name": "++",
                                                                                            "loc": [
                                                                                                31,
                                                                                                393,
                                                                                                45,
                                                                                                393,
                                                                                                0
                                                                                            ]
                                                                                        },
                                                                                        "args": [
                                                                                            {
                                                                                                "type": "literal",
                                                                                                "kind": "string",
                                                                                                "value": "\n  "
                                                                                            },
                                                                                            {
                                                                                                "type": "slot",
                                                                                                "kind": "local",
                                                                                                "index": 8
                                                                                            }
                                                                                        ],
                                                                                        "loc": [
                                                                                            31,
                                                                                            393,
                                                                                            45,
                                                                                            393,
                                                                                            0
                                                                                        ]
                                                                                    },
                                                                                    {
                                                                                        "type": "literal",
                                                                                        "kind": "string",
                                                                                        "value": " : "
                                                                                    }
                                                                                ],
                                                                                "loc": [
                                                                                    31,
                                                                                    393,
                                                                                    54,
                                                                                    393,
                                                                                    0
                                                                                ]
                                                                            },
                                                                            {
                                                                                "type": "slot",
                                                                                "kind": "local",
                                                                                "index": 9
                                                                            }
                                                                        ],
                                                                        "loc": [
                                                                            31,
                                                                            393,
                                                                            62,
                                                                            393,
                                                                            0
                                                                        ]
                                                                    }
                                                                }
                                                            ],
                                                            "fbody": [],
                                                            "loc": [
                                                                16,
                                                                391,
                                                                62,
                                                                393,
                                                                0
                                                            ]
                                                        }
                                                    ],
                                                    "loc": [12, 389, 62, 393, 0]
                                                },
                                                {
                                                    "type": "pattern",
                                                    "pattern": {
                                                        "type": "slot",
                                                        "kind": "global",
                                                        "name": "faucet",
                                                        "loc": [
                                                            12,
                                                            394,
                                                            18,
                                                            394,
                                                            0
                                                        ]
                                                    },
                                                    "slot": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 10
                                                    },
                                                    "body": [
                                                        {
                                                            "type": "call",
                                                            "callee": {
                                                                "type": "slot",
                                                                "kind": "attr",
                                                                "base": {
                                                                    "type": "slot",
                                                                    "kind": "local",
                                                                    "index": 4
                                                                },
                                                                "name": "append",
                                                                "loc": [
                                                                    16,
                                                                    395,
                                                                    31,
                                                                    395,
                                                                    0
                                                                ]
                                                            },
                                                            "args": [
                                                                {
                                                                    "type": "call",
                                                                    "callee": {
                                                                        "type": "slot",
                                                                        "kind": "cell",
                                                                        "index": 6
                                                                    },
                                                                    "args": [
                                                                        {
                                                                            "type": "slot",
                                                                            "kind": "local",
                                                                            "index": 10
                                                                        },
                                                                        {
                                                                            "type": "slot",
                                                                            "kind": "local",
                                                                            "index": 0
                                                                        },
                                                                        {
                                                                            "type": "slot",
                                                                            "kind": "local",
                                                                            "index": 1
                                                                        }
                                                                    ],
                                                                    "loc": [
                                                                        32,
                                                                        395,
                                                                        59,
                                                                        395,
                                                                        0
                                                                    ]
                                                                }
                                                            ],
                                                            "loc": [
                                                                16,
                                                                395,
                                                                60,
                                                                395,
                                                                0
                                                            ]
                                                        }
                                                    ],
                                                    "loc": [12, 394, 60, 395, 0]
                                                }
                                            ],
                                            "default": [],
                                            "loc": [12, 388, 60, 395, 0]
                                        }
                                    ]
                                },
                                {
                                    "type": "repeat",
                                    "fresh": [],
                                    "heads": [
                                        {
                                            "type": "for",
                                            "slot": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 11
                                            },
                                            "value": {
                                                "type": "slot",
                                                "kind": "item",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "cell",
                                                    "index": 7
                                                },
                                                "index": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 0
                                                },
                                                "loc": [17, 396, 38, 396, 0]
                                            }
                                        }
                                    ],
                                    "body": [
                                        {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "attr",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 4
                                                },
                                                "name": "append",
                                                "loc": [12, 397, 27, 397, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "call",
                                                    "callee": {
                                                        "type": "slot",
                                                        "kind": "global",
                                                        "name": "stringify",
                                                        "loc": [
                                                            28,
                                                            397,
                                                            37,
                                                            397,
                                                            0
                                                        ]
                                                    },
                                                    "args": [
                                                        {
                                                            "type": "call",
                                                            "callee": {
                                                                "type": "slot",
                                                                "kind": "global",
                                                                "name": "+",
                                                                "loc": [
                                                                    38,
                                                                    397,
                                                                    42,
                                                                    397,
                                                                    0
                                                                ]
                                                            },
                                                            "args": [
                                                                {
                                                                    "type": "slot",
                                                                    "kind": "local",
                                                                    "index": 11
                                                                },
                                                                {
                                                                    "type": "literal",
                                                                    "kind": "integer",
                                                                    "value": "10"
                                                                }
                                                            ],
                                                            "loc": [
                                                                38,
                                                                397,
                                                                42,
                                                                397,
                                                                0
                                                            ]
                                                        },
                                                        {
                                                            "type": "literal",
                                                            "kind": "integer",
                                                            "value": "36"
                                                        }
                                                    ],
                                                    "loc": [28, 397, 47, 397, 0]
                                                }
                                            ],
                                            "loc": [12, 397, 48, 397, 0]
                                        }
                                    ]
                                },
                                {
                                    "type": "cond",
                                    "cond": {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "in",
                                            "loc": [11, 398, 24, 398, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 0
                                            },
                                            {
                                                "type": "slot",
                                                "kind": "cell",
                                                "index": 3
                                            }
                                        ],
                                        "loc": [11, 398, 24, 398, 0]
                                    },
                                    "tbody": [
                                        {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "attr",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 4
                                                },
                                                "name": "insert",
                                                "loc": [12, 399, 27, 399, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "literal",
                                                    "kind": "integer",
                                                    "value": "0"
                                                },
                                                {
                                                    "type": "call",
                                                    "callee": {
                                                        "type": "slot",
                                                        "kind": "attr",
                                                        "base": {
                                                            "type": "slot",
                                                            "kind": "cell",
                                                            "index": 3
                                                        },
                                                        "name": "pop",
                                                        "loc": [
                                                            31,
                                                            399,
                                                            39,
                                                            399,
                                                            0
                                                        ]
                                                    },
                                                    "args": [
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 0
                                                        }
                                                    ],
                                                    "loc": [31, 399, 46, 399, 0]
                                                }
                                            ],
                                            "loc": [12, 399, 47, 399, 0]
                                        }
                                    ],
                                    "fbody": [],
                                    "loc": [8, 398, 47, 399, 0]
                                },
                                {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "attr",
                                        "base": {
                                            "type": "slot",
                                            "kind": "cell",
                                            "index": 1
                                        },
                                        "name": "discard",
                                        "loc": [8, 400, 20, 400, 0]
                                    },
                                    "args": [
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 0
                                        }
                                    ],
                                    "loc": [8, 400, 27, 400, 0]
                                },
                                {
                                    "type": "return",
                                    "value": {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "++",
                                            "loc": [15, 401, 46, 401, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "call",
                                                "callee": {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "++",
                                                    "loc": [15, 401, 39, 401, 0]
                                                },
                                                "args": [
                                                    {
                                                        "type": "literal",
                                                        "kind": "string",
                                                        "value": "("
                                                    },
                                                    {
                                                        "type": "call",
                                                        "callee": {
                                                            "type": "slot",
                                                            "kind": "attr",
                                                            "base": {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 3
                                                            },
                                                            "name": "join",
                                                            "loc": [
                                                                22,
                                                                401,
                                                                29,
                                                                401,
                                                                0
                                                            ]
                                                        },
                                                        "args": [
                                                            {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 4
                                                            }
                                                        ],
                                                        "loc": [
                                                            22,
                                                            401,
                                                            39,
                                                            401,
                                                            0
                                                        ]
                                                    }
                                                ],
                                                "loc": [15, 401, 39, 401, 0]
                                            },
                                            {
                                                "type": "literal",
                                                "kind": "string",
                                                "value": ")"
                                            }
                                        ],
                                        "loc": [15, 401, 46, 401, 0]
                                    }
                                }
                            ],
                            "loc": [14, 371, 46, 401, 0]
                        }
                    },
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "cell", "index": 7},
                        "value": {
                            "type": "closure",
                            "cellvars": [
                                {
                                    "type": "cell",
                                    "deref": true,
                                    "name": "e_visit",
                                    "defs": 1
                                }
                            ],
                            "localvars": [
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "face",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "state",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "in_trail",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "px",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "edge",
                                    "defs": 1
                                }
                            ],
                            "frame": [8],
                            "args": [
                                {
                                    "slot": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 0
                                    }
                                },
                                {
                                    "slot": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 1
                                    }
                                },
                                {
                                    "slot": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 2
                                    }
                                }
                            ],
                            "body": [
                                {
                                    "type": "assign",
                                    "slot": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 3
                                    },
                                    "value": {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "dict",
                                            "loc": [13, 404, 17, 404, 0]
                                        },
                                        "args": [],
                                        "loc": [13, 404, 19, 404, 0]
                                    }
                                },
                                {
                                    "type": "repeat",
                                    "fresh": [],
                                    "heads": [
                                        {
                                            "type": "for",
                                            "slot": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 4
                                            },
                                            "value": {
                                                "type": "call",
                                                "callee": {
                                                    "type": "slot",
                                                    "kind": "attr",
                                                    "base": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 0
                                                    },
                                                    "name": "params",
                                                    "loc": [20, 405, 31, 405, 0]
                                                },
                                                "args": [],
                                                "loc": [20, 405, 33, 405, 0]
                                            }
                                        }
                                    ],
                                    "body": [
                                        {
                                            "type": "assign",
                                            "slot": {
                                                "type": "slot",
                                                "kind": "item",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 3
                                                },
                                                "index": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 4
                                                },
                                                "loc": [12, 406, 20, 406, 0]
                                            },
                                            "value": {
                                                "type": "call",
                                                "callee": {
                                                    "type": "slot",
                                                    "kind": "cell",
                                                    "index": 0
                                                },
                                                "args": [
                                                    {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 1
                                                    },
                                                    {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 4
                                                    },
                                                    {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 2
                                                    }
                                                ],
                                                "loc": [23, 406, 53, 406, 0]
                                            }
                                        }
                                    ]
                                },
                                {
                                    "type": "return",
                                    "value": {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "attr",
                                            "base": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 0
                                            },
                                            "name": "format",
                                            "loc": [15, 407, 26, 407, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 3
                                            }
                                        ],
                                        "loc": [15, 407, 30, 407, 0]
                                    }
                                }
                            ],
                            "loc": [14, 403, 30, 407, 0]
                        }
                    },
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "cell", "index": 8},
                        "value": {
                            "type": "closure",
                            "cellvars": [
                                {
                                    "type": "cell",
                                    "deref": true,
                                    "name": "s_visit",
                                    "defs": 1
                                }
                            ],
                            "localvars": [
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "state",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "edge",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "in_trail",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "ws",
                                    "defs": 1
                                }
                            ],
                            "frame": [6],
                            "args": [
                                {
                                    "slot": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 0
                                    }
                                },
                                {
                                    "slot": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 1
                                    }
                                },
                                {
                                    "slot": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 2
                                    }
                                }
                            ],
                            "body": [
                                {
                                    "type": "cond",
                                    "cond": {
                                        "type": "not",
                                        "value": {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "in",
                                                "loc": [11, 410, 40, 410, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 1
                                                },
                                                {
                                                    "type": "slot",
                                                    "kind": "attr",
                                                    "base": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 0
                                                    },
                                                    "name": "transitions",
                                                    "loc": [23, 410, 40, 410, 0]
                                                }
                                            ],
                                            "loc": [11, 410, 40, 410, 0]
                                        },
                                        "loc": [11, 410, 40, 410, 0]
                                    },
                                    "tbody": [
                                        {
                                            "type": "return",
                                            "value": {
                                                "type": "literal",
                                                "kind": "string",
                                                "value": "(error?)"
                                            }
                                        }
                                    ],
                                    "fbody": [],
                                    "loc": [8, 410, 29, 411, 0]
                                },
                                {
                                    "type": "assign",
                                    "slot": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 3
                                    },
                                    "value": {
                                        "type": "slot",
                                        "kind": "item",
                                        "base": {
                                            "type": "slot",
                                            "kind": "attr",
                                            "base": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 0
                                            },
                                            "name": "transitions",
                                            "loc": [13, 412, 30, 412, 0]
                                        },
                                        "index": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 1
                                        },
                                        "loc": [13, 412, 36, 412, 0]
                                    }
                                },
                                {
                                    "type": "cond",
                                    "cond": {
                                        "type": "cmp",
                                        "exprs": [
                                            {
                                                "type": "slot",
                                                "kind": "attr",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 3
                                                },
                                                "name": "length",
                                                "loc": [11, 413, 20, 413, 0]
                                            },
                                            {
                                                "type": "literal",
                                                "kind": "integer",
                                                "value": "0"
                                            }
                                        ],
                                        "ops": [
                                            {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "==",
                                                "loc": [11, 413, 25, 413, 0]
                                            }
                                        ],
                                        "loc": [11, 413, 25, 413, 0]
                                    },
                                    "tbody": [
                                        {
                                            "type": "return",
                                            "value": {
                                                "type": "literal",
                                                "kind": "string",
                                                "value": "()"
                                            }
                                        }
                                    ],
                                    "fbody": [],
                                    "loc": [8, 413, 23, 414, 0]
                                },
                                {
                                    "type": "return",
                                    "value": {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "cell",
                                            "index": 0
                                        },
                                        "args": [
                                            {
                                                "type": "call",
                                                "callee": {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "single",
                                                    "loc": [23, 415, 29, 415, 0]
                                                },
                                                "args": [
                                                    {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 3
                                                    }
                                                ],
                                                "loc": [23, 415, 33, 415, 0]
                                            },
                                            {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 2
                                            }
                                        ],
                                        "loc": [15, 415, 44, 415, 0]
                                    }
                                }
                            ],
                            "loc": [14, 409, 44, 415, 0]
                        }
                    },
                    {
                        "type": "return",
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "global",
                                "name": "++",
                                "loc": [11, 417, 65, 417, 0]
                            },
                            "args": [
                                {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "cell",
                                        "index": 6
                                    },
                                    "args": [
                                        {
                                            "type": "slot",
                                            "kind": "attr",
                                            "base": {
                                                "type": "slot",
                                                "kind": "cell",
                                                "index": 0
                                            },
                                            "name": "root",
                                            "loc": [19, 417, 30, 417, 0]
                                        },
                                        {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "false",
                                            "loc": [32, 417, 37, 417, 0]
                                        }
                                    ],
                                    "loc": [11, 417, 38, 417, 0]
                                },
                                {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "attr",
                                        "base": {
                                            "type": "literal",
                                            "kind": "string",
                                            "value": ""
                                        },
                                        "name": "join",
                                        "loc": [42, 417, 49, 417, 0]
                                    },
                                    "args": [
                                        {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "attr",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "cell",
                                                    "index": 5
                                                },
                                                "name": "values",
                                                "loc": [50, 417, 62, 417, 0]
                                            },
                                            "args": [],
                                            "loc": [50, 417, 64, 417, 0]
                                        }
                                    ],
                                    "loc": [42, 417, 65, 417, 0]
                                }
                            ],
                            "loc": [11, 417, 65, 417, 0]
                        }
                    }
                ],
                "loc": [14, 358, 65, 417, 0]
            }
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "generalize",
                "loc": [0, 423, 10, 423, 0]
            },
            "value": {
                "type": "closure",
                "cellvars": [
                    {
                        "type": "cell",
                        "deref": true,
                        "name": "recalculate_free",
                        "defs": 1
                    },
                    {"type": "cell", "deref": true, "name": "free", "defs": 1},
                    {
                        "type": "cell",
                        "deref": true,
                        "name": "subsets",
                        "defs": 1
                    },
                    {
                        "type": "cell",
                        "deref": true,
                        "name": "membership",
                        "defs": 1
                    },
                    {
                        "type": "cell",
                        "deref": true,
                        "name": "reduce_site_port",
                        "defs": 1
                    },
                    {
                        "type": "cell",
                        "deref": true,
                        "name": "reduce_subset",
                        "defs": 1
                    }
                ],
                "localvars": [
                    {"type": "cell", "deref": false, "name": "root", "defs": 2},
                    {"type": "cell", "deref": false, "name": "env", "defs": 1},
                    {"type": "cell", "deref": false, "name": "state", "defs": 1
                    },
                    {"type": "cell", "deref": false, "name": "ss", "defs": 1},
                    {"type": "cell", "deref": false, "name": "w", "defs": 1},
                    {"type": "cell", "deref": false, "name": "qq", "defs": 1},
                    {"type": "cell", "deref": false, "name": "s", "defs": 1},
                    {"type": "cell", "deref": false, "name": "q", "defs": 1}
                ],
                "frame": [],
                "args": [
                    {"slot": {"type": "slot", "kind": "local", "index": 0}},
                    {"slot": {"type": "slot", "kind": "local", "index": 1}}
                ],
                "body": [
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "cell", "index": 0},
                        "value": {
                            "type": "closure",
                            "cellvars": [
                                {
                                    "type": "cell",
                                    "deref": true,
                                    "name": "recalculate_free",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": true,
                                    "name": "env_free",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": true,
                                    "name": "free",
                                    "defs": 1
                                }
                            ],
                            "localvars": [
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "env",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "schemes",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "locals",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "parent",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "visit",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "state",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "w",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "edge",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "ws",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "w",
                                    "defs": 1
                                }
                            ],
                            "frame": [0],
                            "args": [
                                {
                                    "slot": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 0
                                    }
                                }
                            ],
                            "body": [
                                {
                                    "type": "case",
                                    "value": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 0
                                    },
                                    "cases": [
                                        {
                                            "type": "constant",
                                            "value": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "environ_end",
                                                "loc": [8, 426, 19, 426, 0]
                                            },
                                            "body": [
                                                {
                                                    "type": "return",
                                                    "value": {
                                                        "type": "call",
                                                        "callee": {
                                                            "type": "slot",
                                                            "kind": "global",
                                                            "name": "set",
                                                            "loc": [
                                                                19,
                                                                427,
                                                                22,
                                                                427,
                                                                0
                                                            ]
                                                        },
                                                        "args": [],
                                                        "loc": [
                                                            19,
                                                            427,
                                                            24,
                                                            427,
                                                            0
                                                        ]
                                                    }
                                                }
                                            ],
                                            "loc": [8, 426, 24, 427, 0]
                                        },
                                        {
                                            "type": "pattern",
                                            "pattern": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "environ",
                                                "loc": [8, 428, 15, 428, 0]
                                            },
                                            "slot": {
                                                "type": "slot",
                                                "kind": "tuple",
                                                "slots": [
                                                    {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 1
                                                    },
                                                    {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 2
                                                    },
                                                    {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 3
                                                    },
                                                    {
                                                        "type": "slot",
                                                        "kind": "cell",
                                                        "index": 1
                                                    }
                                                ],
                                                "loc": [8, 428, 23, 442, 0]
                                            },
                                            "body": [
                                                {
                                                    "type": "assign",
                                                    "slot": {
                                                        "type": "slot",
                                                        "kind": "cell",
                                                        "index": 2
                                                    },
                                                    "value": {
                                                        "type": "call",
                                                        "callee": {
                                                            "type": "slot",
                                                            "kind": "cell",
                                                            "index": 0
                                                        },
                                                        "args": [
                                                            {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 3
                                                            }
                                                        ],
                                                        "loc": [
                                                            19,
                                                            429,
                                                            43,
                                                            429,
                                                            0
                                                        ]
                                                    }
                                                },
                                                {
                                                    "type": "call",
                                                    "callee": {
                                                        "type": "slot",
                                                        "kind": "attr",
                                                        "base": {
                                                            "type": "slot",
                                                            "kind": "cell",
                                                            "index": 1
                                                        },
                                                        "name": "difference_update",
                                                        "loc": [
                                                            12,
                                                            431,
                                                            38,
                                                            431,
                                                            0
                                                        ]
                                                    },
                                                    "args": [
                                                        {
                                                            "type": "slot",
                                                            "kind": "cell",
                                                            "index": 2
                                                        }
                                                    ],
                                                    "loc": [12, 431, 44, 431, 0]
                                                },
                                                {
                                                    "type": "assign",
                                                    "slot": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 4
                                                    },
                                                    "value": {
                                                        "type": "closure",
                                                        "cellvars": [
                                                            {
                                                                "type": "cell",
                                                                "deref": true,
                                                                "name": "free",
                                                                "defs": 1
                                                            },
                                                            {
                                                                "type": "cell",
                                                                "deref": true,
                                                                "name": "env_free",
                                                                "defs": 1
                                                            }
                                                        ],
                                                        "localvars": [
                                                            {
                                                                "type": "cell",
                                                                "deref": false,
                                                                "name": "state",
                                                                "defs": 1
                                                            }
                                                        ],
                                                        "frame": [2, 1],
                                                        "args": [
                                                            {
                                                                "slot": {
                                                                    "type": "slot",
                                                                    "kind": "local",
                                                                    "index": 0
                                                                }
                                                            }
                                                        ],
                                                        "body": [
                                                            {
                                                                "type": "cond",
                                                                "cond": {
                                                                    "type": "not",
                                                                    "value": {
                                                                        "type": "call",
                                                                        "callee": {
                                                                            "type": "slot",
                                                                            "kind": "global",
                                                                            "name": "in",
                                                                            "loc": [
                                                                                19,
                                                                                433,
                                                                                36,
                                                                                433,
                                                                                0
                                                                            ]
                                                                        },
                                                                        "args": [
                                                                            {
                                                                                "type": "slot",
                                                                                "kind": "local",
                                                                                "index": 0
                                                                            },
                                                                            {
                                                                                "type": "slot",
                                                                                "kind": "cell",
                                                                                "index": 0
                                                                            }
                                                                        ],
                                                                        "loc": [
                                                                            19,
                                                                            433,
                                                                            36,
                                                                            433,
                                                                            0
                                                                        ]
                                                                    },
                                                                    "loc": [
                                                                        19,
                                                                        433,
                                                                        36,
                                                                        433,
                                                                        0
                                                                    ]
                                                                },
                                                                "tbody": [
                                                                    {
                                                                        "type": "call",
                                                                        "callee": {
                                                                            "type": "slot",
                                                                            "kind": "attr",
                                                                            "base": {
                                                                                "type": "slot",
                                                                                "kind": "cell",
                                                                                "index": 1
                                                                            },
                                                                            "name": "add",
                                                                            "loc": [
                                                                                20,
                                                                                434,
                                                                                32,
                                                                                434,
                                                                                0
                                                                            ]
                                                                        },
                                                                        "args": [
                                                                            {
                                                                                "type": "slot",
                                                                                "kind": "local",
                                                                                "index": 0
                                                                            }
                                                                        ],
                                                                        "loc": [
                                                                            20,
                                                                            434,
                                                                            39,
                                                                            434,
                                                                            0
                                                                        ]
                                                                    }
                                                                ],
                                                                "fbody": [],
                                                                "loc": [
                                                                    16,
                                                                    433,
                                                                    39,
                                                                    434,
                                                                    0
                                                                ]
                                                            }
                                                        ],
                                                        "loc": [
                                                            20,
                                                            432,
                                                            39,
                                                            434,
                                                            0
                                                        ]
                                                    }
                                                },
                                                {
                                                    "type": "repeat",
                                                    "fresh": [],
                                                    "heads": [
                                                        {
                                                            "type": "for",
                                                            "slot": {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 5
                                                            },
                                                            "value": {
                                                                "type": "slot",
                                                                "kind": "cell",
                                                                "index": 1
                                                            }
                                                        }
                                                    ],
                                                    "body": [
                                                        {
                                                            "type": "repeat",
                                                            "fresh": [],
                                                            "heads": [
                                                                {
                                                                    "type": "for",
                                                                    "slot": {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 6
                                                                    },
                                                                    "value": {
                                                                        "type": "slot",
                                                                        "kind": "attr",
                                                                        "base": {
                                                                            "type": "slot",
                                                                            "kind": "local",
                                                                            "index": 5
                                                                        },
                                                                        "name": "flow",
                                                                        "loc": [
                                                                            25,
                                                                            437,
                                                                            35,
                                                                            437,
                                                                            0
                                                                        ]
                                                                    }
                                                                }
                                                            ],
                                                            "body": [
                                                                {
                                                                    "type": "call",
                                                                    "callee": {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 4
                                                                    },
                                                                    "args": [
                                                                        {
                                                                            "type": "slot",
                                                                            "kind": "local",
                                                                            "index": 6
                                                                        }
                                                                    ],
                                                                    "loc": [
                                                                        43,
                                                                        437,
                                                                        51,
                                                                        437,
                                                                        0
                                                                    ]
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "repeat",
                                                            "fresh": [],
                                                            "heads": [
                                                                {
                                                                    "type": "for",
                                                                    "slot": {
                                                                        "type": "slot",
                                                                        "kind": "tuple",
                                                                        "slots": [
                                                                            {
                                                                                "type": "slot",
                                                                                "kind": "local",
                                                                                "index": 7
                                                                            },
                                                                            {
                                                                                "type": "slot",
                                                                                "kind": "local",
                                                                                "index": 8
                                                                            }
                                                                        ],
                                                                        "loc": [
                                                                            20,
                                                                            438,
                                                                            28,
                                                                            438,
                                                                            0
                                                                        ]
                                                                    },
                                                                    "value": {
                                                                        "type": "slot",
                                                                        "kind": "attr",
                                                                        "base": {
                                                                            "type": "slot",
                                                                            "kind": "local",
                                                                            "index": 5
                                                                        },
                                                                        "name": "transitions",
                                                                        "loc": [
                                                                            32,
                                                                            438,
                                                                            49,
                                                                            438,
                                                                            0
                                                                        ]
                                                                    }
                                                                },
                                                                {
                                                                    "type": "for",
                                                                    "slot": {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 9
                                                                    },
                                                                    "value": {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 8
                                                                    }
                                                                }
                                                            ],
                                                            "body": [
                                                                {
                                                                    "type": "call",
                                                                    "callee": {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 4
                                                                    },
                                                                    "args": [
                                                                        {
                                                                            "type": "slot",
                                                                            "kind": "local",
                                                                            "index": 9
                                                                        }
                                                                    ],
                                                                    "loc": [
                                                                        35,
                                                                        439,
                                                                        43,
                                                                        439,
                                                                        0
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "call",
                                                    "callee": {
                                                        "type": "slot",
                                                        "kind": "attr",
                                                        "base": {
                                                            "type": "slot",
                                                            "kind": "cell",
                                                            "index": 2
                                                        },
                                                        "name": "update",
                                                        "loc": [
                                                            12,
                                                            441,
                                                            23,
                                                            441,
                                                            0
                                                        ]
                                                    },
                                                    "args": [
                                                        {
                                                            "type": "slot",
                                                            "kind": "cell",
                                                            "index": 1
                                                        }
                                                    ],
                                                    "loc": [12, 441, 33, 441, 0]
                                                },
                                                {
                                                    "type": "return",
                                                    "value": {
                                                        "type": "slot",
                                                        "kind": "cell",
                                                        "index": 2
                                                    }
                                                }
                                            ],
                                            "loc": [8, 428, 23, 442, 0]
                                        }
                                    ],
                                    "default": [],
                                    "loc": [8, 425, 23, 442, 0]
                                }
                            ],
                            "loc": [23, 424, 23, 442, 0]
                        }
                    },
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "cell", "index": 1},
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "cell",
                                "index": 0
                            },
                            "args": [
                                {"type": "slot", "kind": "local", "index": 1}
                            ],
                            "loc": [11, 444, 32, 444, 0]
                        }
                    },
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "cell", "index": 2},
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "global",
                                "name": "dict",
                                "loc": [14, 446, 18, 446, 0]
                            },
                            "args": [],
                            "loc": [14, 446, 20, 446, 0]
                        }
                    },
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "cell", "index": 3},
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "global",
                                "name": "dict",
                                "loc": [17, 447, 21, 447, 0]
                            },
                            "args": [],
                            "loc": [17, 447, 23, 447, 0]
                        }
                    },
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "cell", "index": 4},
                        "value": {
                            "type": "closure",
                            "cellvars": [
                                {
                                    "type": "cell",
                                    "deref": true,
                                    "name": "reduce_subset",
                                    "defs": 1
                                }
                            ],
                            "localvars": [
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "port",
                                    "defs": 1
                                }
                            ],
                            "frame": [5],
                            "args": [
                                {
                                    "slot": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 0
                                    }
                                }
                            ],
                            "body": [
                                {
                                    "type": "return",
                                    "value": {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "cell",
                                            "index": 0
                                        },
                                        "args": [
                                            {
                                                "type": "slot",
                                                "kind": "attr",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 0
                                                },
                                                "name": "pol",
                                                "loc": [29, 450, 37, 450, 0]
                                            },
                                            {
                                                "type": "call",
                                                "callee": {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "set",
                                                    "loc": [39, 450, 42, 450, 0]
                                                },
                                                "args": [
                                                    {
                                                        "type": "list",
                                                        "values": [
                                                            {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 0
                                                            }
                                                        ]
                                                    }
                                                ],
                                                "loc": [39, 450, 50, 450, 0]
                                            }
                                        ],
                                        "loc": [15, 450, 51, 450, 0]
                                    }
                                }
                            ],
                            "loc": [23, 449, 51, 450, 0]
                        }
                    },
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "cell", "index": 5},
                        "value": {
                            "type": "closure",
                            "cellvars": [
                                {
                                    "type": "cell",
                                    "deref": true,
                                    "name": "subsets",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": true,
                                    "name": "free",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": true,
                                    "name": "reduce_site_port",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": true,
                                    "name": "membership",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": true,
                                    "name": "reduce_subset",
                                    "defs": 1
                                }
                            ],
                            "localvars": [
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "pol",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "subset",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "s",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "transitions",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "n",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "head",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "index",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "site",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "n_site",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "_",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "edge",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "ws",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "w",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "edge",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "ws",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "extern",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "w",
                                    "defs": 1
                                }
                            ],
                            "frame": [2, 1, 4, 3, 5],
                            "args": [
                                {
                                    "slot": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 0
                                    }
                                },
                                {
                                    "slot": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 1
                                    }
                                }
                            ],
                            "body": [
                                {
                                    "type": "cond",
                                    "cond": {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "in",
                                            "loc": [11, 452, 28, 452, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 1
                                            },
                                            {
                                                "type": "slot",
                                                "kind": "cell",
                                                "index": 0
                                            }
                                        ],
                                        "loc": [11, 452, 28, 452, 0]
                                    },
                                    "tbody": [
                                        {
                                            "type": "return",
                                            "value": {
                                                "type": "slot",
                                                "kind": "item",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "cell",
                                                    "index": 0
                                                },
                                                "index": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 1
                                                },
                                                "loc": [19, 453, 34, 453, 0]
                                            }
                                        }
                                    ],
                                    "fbody": [],
                                    "loc": [8, 452, 34, 453, 0]
                                },
                                {
                                    "type": "assign",
                                    "slot": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 2
                                    },
                                    "value": {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "fresh_state",
                                            "loc": [12, 454, 23, 454, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 0
                                            }
                                        ],
                                        "loc": [12, 454, 28, 454, 0]
                                    }
                                },
                                {
                                    "type": "assign",
                                    "slot": {
                                        "type": "slot",
                                        "kind": "item",
                                        "base": {
                                            "type": "slot",
                                            "kind": "cell",
                                            "index": 0
                                        },
                                        "index": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 1
                                        },
                                        "loc": [8, 455, 23, 455, 0]
                                    },
                                    "value": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 2
                                    }
                                },
                                {
                                    "type": "assign",
                                    "slot": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 3
                                    },
                                    "value": {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "dict",
                                            "loc": [22, 456, 26, 456, 0]
                                        },
                                        "args": [],
                                        "loc": [22, 456, 28, 456, 0]
                                    }
                                },
                                {
                                    "type": "repeat",
                                    "fresh": [],
                                    "heads": [
                                        {
                                            "type": "for",
                                            "slot": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 4
                                            },
                                            "value": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 1
                                            }
                                        }
                                    ],
                                    "body": [
                                        {
                                            "type": "assert",
                                            "cond": {
                                                "type": "not",
                                                "value": {
                                                    "type": "call",
                                                    "callee": {
                                                        "type": "slot",
                                                        "kind": "global",
                                                        "name": "in",
                                                        "loc": [
                                                            19,
                                                            458,
                                                            32,
                                                            458,
                                                            0
                                                        ]
                                                    },
                                                    "args": [
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 4
                                                        },
                                                        {
                                                            "type": "slot",
                                                            "kind": "cell",
                                                            "index": 1
                                                        }
                                                    ],
                                                    "loc": [19, 458, 32, 458, 0]
                                                },
                                                "loc": [19, 458, 32, 458, 0]
                                            },
                                            "value": {
                                                "type": "literal",
                                                "kind": "string",
                                                "value": "bug: subset must not contain free states"
                                            },
                                            "loc": [12, 458, 78, 458, 0]
                                        },
                                        {
                                            "type": "repeat",
                                            "fresh": [],
                                            "heads": [
                                                {
                                                    "type": "for",
                                                    "slot": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 5
                                                    },
                                                    "value": {
                                                        "type": "slot",
                                                        "kind": "attr",
                                                        "base": {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 4
                                                        },
                                                        "name": "heads",
                                                        "loc": [
                                                            24,
                                                            459,
                                                            31,
                                                            459,
                                                            0
                                                        ]
                                                    }
                                                }
                                            ],
                                            "body": [
                                                {
                                                    "type": "case",
                                                    "value": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 5
                                                    },
                                                    "cases": [
                                                        {
                                                            "type": "pattern",
                                                            "pattern": {
                                                                "type": "slot",
                                                                "kind": "global",
                                                                "name": "sink",
                                                                "loc": [
                                                                    16,
                                                                    461,
                                                                    20,
                                                                    461,
                                                                    0
                                                                ]
                                                            },
                                                            "slot": {
                                                                "type": "slot",
                                                                "kind": "tuple",
                                                                "slots": [
                                                                    {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 6
                                                                    },
                                                                    {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 7
                                                                    }
                                                                ],
                                                                "loc": [
                                                                    16,
                                                                    461,
                                                                    52,
                                                                    463,
                                                                    0
                                                                ]
                                                            },
                                                            "body": [
                                                                {
                                                                    "type": "assign",
                                                                    "slot": {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 8
                                                                    },
                                                                    "value": {
                                                                        "type": "call",
                                                                        "callee": {
                                                                            "type": "slot",
                                                                            "kind": "attr",
                                                                            "base": {
                                                                                "type": "slot",
                                                                                "kind": "local",
                                                                                "index": 7
                                                                            },
                                                                            "name": "transfer",
                                                                            "loc": [
                                                                                29,
                                                                                462,
                                                                                42,
                                                                                462,
                                                                                0
                                                                            ]
                                                                        },
                                                                        "args": [
                                                                            {
                                                                                "type": "slot",
                                                                                "kind": "cell",
                                                                                "index": 2
                                                                            }
                                                                        ],
                                                                        "loc": [
                                                                            29,
                                                                            462,
                                                                            60,
                                                                            462,
                                                                            0
                                                                        ]
                                                                    }
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "callee": {
                                                                        "type": "slot",
                                                                        "kind": "attr",
                                                                        "base": {
                                                                            "type": "slot",
                                                                            "kind": "attr",
                                                                            "base": {
                                                                                "type": "slot",
                                                                                "kind": "local",
                                                                                "index": 2
                                                                            },
                                                                            "name": "heads",
                                                                            "loc": [
                                                                                20,
                                                                                463,
                                                                                27,
                                                                                463,
                                                                                0
                                                                            ]
                                                                        },
                                                                        "name": "add",
                                                                        "loc": [
                                                                            20,
                                                                            463,
                                                                            31,
                                                                            463,
                                                                            0
                                                                        ]
                                                                    },
                                                                    "args": [
                                                                        {
                                                                            "type": "call",
                                                                            "callee": {
                                                                                "type": "slot",
                                                                                "kind": "global",
                                                                                "name": "sink",
                                                                                "loc": [
                                                                                    32,
                                                                                    463,
                                                                                    36,
                                                                                    463,
                                                                                    0
                                                                                ]
                                                                            },
                                                                            "args": [
                                                                                {
                                                                                    "type": "slot",
                                                                                    "kind": "local",
                                                                                    "index": 6
                                                                                },
                                                                                {
                                                                                    "type": "slot",
                                                                                    "kind": "local",
                                                                                    "index": 8
                                                                                }
                                                                            ],
                                                                            "loc": [
                                                                                32,
                                                                                463,
                                                                                51,
                                                                                463,
                                                                                0
                                                                            ]
                                                                        }
                                                                    ],
                                                                    "loc": [
                                                                        20,
                                                                        463,
                                                                        52,
                                                                        463,
                                                                        0
                                                                    ]
                                                                }
                                                            ],
                                                            "loc": [
                                                                16,
                                                                461,
                                                                52,
                                                                463,
                                                                0
                                                            ]
                                                        },
                                                        {
                                                            "type": "pattern",
                                                            "pattern": {
                                                                "type": "slot",
                                                                "kind": "global",
                                                                "name": "faucet",
                                                                "loc": [
                                                                    16,
                                                                    464,
                                                                    22,
                                                                    464,
                                                                    0
                                                                ]
                                                            },
                                                            "slot": {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 9
                                                            },
                                                            "body": [
                                                                {
                                                                    "type": "call",
                                                                    "callee": {
                                                                        "type": "slot",
                                                                        "kind": "attr",
                                                                        "base": {
                                                                            "type": "slot",
                                                                            "kind": "attr",
                                                                            "base": {
                                                                                "type": "slot",
                                                                                "kind": "local",
                                                                                "index": 2
                                                                            },
                                                                            "name": "heads",
                                                                            "loc": [
                                                                                20,
                                                                                465,
                                                                                27,
                                                                                465,
                                                                                0
                                                                            ]
                                                                        },
                                                                        "name": "add",
                                                                        "loc": [
                                                                            20,
                                                                            465,
                                                                            31,
                                                                            465,
                                                                            0
                                                                        ]
                                                                    },
                                                                    "args": [
                                                                        {
                                                                            "type": "slot",
                                                                            "kind": "local",
                                                                            "index": 5
                                                                        }
                                                                    ],
                                                                    "loc": [
                                                                        20,
                                                                        465,
                                                                        37,
                                                                        465,
                                                                        0
                                                                    ]
                                                                }
                                                            ],
                                                            "loc": [
                                                                16,
                                                                464,
                                                                37,
                                                                465,
                                                                0
                                                            ]
                                                        }
                                                    ],
                                                    "default": [],
                                                    "loc": [16, 460, 37, 465, 0]
                                                }
                                            ]
                                        },
                                        {
                                            "type": "except",
                                            "body": [
                                                {
                                                    "type": "call",
                                                    "callee": {
                                                        "type": "slot",
                                                        "kind": "attr",
                                                        "base": {
                                                            "type": "slot",
                                                            "kind": "item",
                                                            "base": {
                                                                "type": "slot",
                                                                "kind": "cell",
                                                                "index": 3
                                                            },
                                                            "index": {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 4
                                                            },
                                                            "loc": [
                                                                12,
                                                                466,
                                                                25,
                                                                466,
                                                                0
                                                            ]
                                                        },
                                                        "name": "append",
                                                        "loc": [
                                                            12,
                                                            466,
                                                            32,
                                                            466,
                                                            0
                                                        ]
                                                    },
                                                    "args": [
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 2
                                                        }
                                                    ],
                                                    "loc": [12, 466, 35, 466, 0]
                                                }
                                            ],
                                            "excepts": [
                                                {
                                                    "exc": {
                                                        "type": "slot",
                                                        "kind": "global",
                                                        "name": "NoIndex",
                                                        "loc": [
                                                            19,
                                                            467,
                                                            26,
                                                            467,
                                                            0
                                                        ]
                                                    },
                                                    "body": [
                                                        {
                                                            "type": "assign",
                                                            "slot": {
                                                                "type": "slot",
                                                                "kind": "item",
                                                                "base": {
                                                                    "type": "slot",
                                                                    "kind": "cell",
                                                                    "index": 3
                                                                },
                                                                "index": {
                                                                    "type": "slot",
                                                                    "kind": "local",
                                                                    "index": 4
                                                                },
                                                                "loc": [
                                                                    16,
                                                                    468,
                                                                    29,
                                                                    468,
                                                                    0
                                                                ]
                                                            },
                                                            "value": {
                                                                "type": "list",
                                                                "values": [
                                                                    {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 2
                                                                    }
                                                                ]
                                                            }
                                                        }
                                                    ]
                                                }
                                            ],
                                            "loc": [12, 466, 35, 468, 0]
                                        },
                                        {
                                            "type": "repeat",
                                            "fresh": [],
                                            "heads": [
                                                {
                                                    "type": "for",
                                                    "slot": {
                                                        "type": "slot",
                                                        "kind": "tuple",
                                                        "slots": [
                                                            {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 10
                                                            },
                                                            {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 11
                                                            }
                                                        ],
                                                        "loc": [
                                                            16,
                                                            469,
                                                            24,
                                                            469,
                                                            0
                                                        ]
                                                    },
                                                    "value": {
                                                        "type": "slot",
                                                        "kind": "attr",
                                                        "base": {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 4
                                                        },
                                                        "name": "transitions",
                                                        "loc": [
                                                            28,
                                                            469,
                                                            41,
                                                            469,
                                                            0
                                                        ]
                                                    }
                                                },
                                                {
                                                    "type": "for",
                                                    "slot": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 12
                                                    },
                                                    "value": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 11
                                                    }
                                                }
                                            ],
                                            "body": [
                                                {
                                                    "type": "except",
                                                    "body": [
                                                        {
                                                            "type": "call",
                                                            "callee": {
                                                                "type": "slot",
                                                                "kind": "attr",
                                                                "base": {
                                                                    "type": "slot",
                                                                    "kind": "item",
                                                                    "base": {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 3
                                                                    },
                                                                    "index": {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 10
                                                                    },
                                                                    "loc": [
                                                                        16,
                                                                        471,
                                                                        33,
                                                                        471,
                                                                        0
                                                                    ]
                                                                },
                                                                "name": "add",
                                                                "loc": [
                                                                    16,
                                                                    471,
                                                                    37,
                                                                    471,
                                                                    0
                                                                ]
                                                            },
                                                            "args": [
                                                                {
                                                                    "type": "slot",
                                                                    "kind": "local",
                                                                    "index": 12
                                                                }
                                                            ],
                                                            "loc": [
                                                                16,
                                                                471,
                                                                40,
                                                                471,
                                                                0
                                                            ]
                                                        }
                                                    ],
                                                    "excepts": [
                                                        {
                                                            "exc": {
                                                                "type": "slot",
                                                                "kind": "global",
                                                                "name": "NoIndex",
                                                                "loc": [
                                                                    23,
                                                                    472,
                                                                    30,
                                                                    472,
                                                                    0
                                                                ]
                                                            },
                                                            "body": [
                                                                {
                                                                    "type": "assign",
                                                                    "slot": {
                                                                        "type": "slot",
                                                                        "kind": "item",
                                                                        "base": {
                                                                            "type": "slot",
                                                                            "kind": "local",
                                                                            "index": 3
                                                                        },
                                                                        "index": {
                                                                            "type": "slot",
                                                                            "kind": "local",
                                                                            "index": 10
                                                                        },
                                                                        "loc": [
                                                                            20,
                                                                            473,
                                                                            37,
                                                                            473,
                                                                            0
                                                                        ]
                                                                    },
                                                                    "value": {
                                                                        "type": "call",
                                                                        "callee": {
                                                                            "type": "slot",
                                                                            "kind": "global",
                                                                            "name": "set",
                                                                            "loc": [
                                                                                40,
                                                                                473,
                                                                                43,
                                                                                473,
                                                                                0
                                                                            ]
                                                                        },
                                                                        "args": [
                                                                            {
                                                                                "type": "list",
                                                                                "values": [
                                                                                    {
                                                                                        "type": "slot",
                                                                                        "kind": "local",
                                                                                        "index": 12
                                                                                    }
                                                                                ]
                                                                            }
                                                                        ],
                                                                        "loc": [
                                                                            40,
                                                                            473,
                                                                            48,
                                                                            473,
                                                                            0
                                                                        ]
                                                                    }
                                                                }
                                                            ]
                                                        }
                                                    ],
                                                    "loc": [16, 471, 48, 473, 0]
                                                }
                                            ]
                                        }
                                    ]
                                },
                                {
                                    "type": "repeat",
                                    "fresh": [],
                                    "heads": [
                                        {
                                            "type": "for",
                                            "slot": {
                                                "type": "slot",
                                                "kind": "tuple",
                                                "slots": [
                                                    {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 13
                                                    },
                                                    {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 14
                                                    }
                                                ],
                                                "loc": [12, 475, 20, 475, 0]
                                            },
                                            "value": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 3
                                            }
                                        }
                                    ],
                                    "body": [
                                        {
                                            "type": "assign",
                                            "slot": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 15
                                            },
                                            "value": {
                                                "type": "call",
                                                "callee": {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "set",
                                                    "loc": [21, 476, 24, 476, 0]
                                                },
                                                "args": [],
                                                "loc": [21, 476, 26, 476, 0]
                                            }
                                        },
                                        {
                                            "type": "repeat",
                                            "fresh": [],
                                            "heads": [
                                                {
                                                    "type": "for",
                                                    "slot": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 16
                                                    },
                                                    "value": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 14
                                                    }
                                                },
                                                {
                                                    "type": "if",
                                                    "cond": {
                                                        "type": "call",
                                                        "callee": {
                                                            "type": "slot",
                                                            "kind": "global",
                                                            "name": "in",
                                                            "loc": [
                                                                27,
                                                                477,
                                                                36,
                                                                477,
                                                                0
                                                            ]
                                                        },
                                                        "args": [
                                                            {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 16
                                                            },
                                                            {
                                                                "type": "slot",
                                                                "kind": "cell",
                                                                "index": 1
                                                            }
                                                        ],
                                                        "loc": [
                                                            27,
                                                            477,
                                                            36,
                                                            477,
                                                            0
                                                        ]
                                                    }
                                                }
                                            ],
                                            "body": [
                                                {
                                                    "type": "call",
                                                    "callee": {
                                                        "type": "slot",
                                                        "kind": "attr",
                                                        "base": {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 15
                                                        },
                                                        "name": "add",
                                                        "loc": [
                                                            16,
                                                            478,
                                                            26,
                                                            478,
                                                            0
                                                        ]
                                                    },
                                                    "args": [
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 16
                                                        }
                                                    ],
                                                    "loc": [16, 478, 29, 478, 0]
                                                }
                                            ]
                                        },
                                        {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "attr",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 14
                                                },
                                                "name": "difference_update",
                                                "loc": [12, 479, 32, 479, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 15
                                                }
                                            ],
                                            "loc": [12, 479, 40, 479, 0]
                                        },
                                        {
                                            "type": "assign",
                                            "slot": {
                                                "type": "slot",
                                                "kind": "item",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "attr",
                                                    "base": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 2
                                                    },
                                                    "name": "transitions",
                                                    "loc": [12, 480, 25, 480, 0]
                                                },
                                                "index": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 13
                                                },
                                                "loc": [12, 480, 31, 480, 0]
                                            },
                                            "value": {
                                                "type": "call",
                                                "callee": {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "|",
                                                    "loc": [34, 480, 81, 480, 0]
                                                },
                                                "args": [
                                                    {
                                                        "type": "call",
                                                        "callee": {
                                                            "type": "slot",
                                                            "kind": "global",
                                                            "name": "set",
                                                            "loc": [
                                                                34,
                                                                480,
                                                                37,
                                                                480,
                                                                0
                                                            ]
                                                        },
                                                        "args": [
                                                            {
                                                                "type": "list",
                                                                "values": [
                                                                    {
                                                                        "type": "call",
                                                                        "callee": {
                                                                            "type": "slot",
                                                                            "kind": "cell",
                                                                            "index": 4
                                                                        },
                                                                        "args": [
                                                                            {
                                                                                "type": "call",
                                                                                "callee": {
                                                                                    "type": "slot",
                                                                                    "kind": "global",
                                                                                    "name": "*",
                                                                                    "loc": [
                                                                                        53,
                                                                                        480,
                                                                                        65,
                                                                                        480,
                                                                                        0
                                                                                    ]
                                                                                },
                                                                                "args": [
                                                                                    {
                                                                                        "type": "slot",
                                                                                        "kind": "local",
                                                                                        "index": 0
                                                                                    },
                                                                                    {
                                                                                        "type": "slot",
                                                                                        "kind": "attr",
                                                                                        "base": {
                                                                                            "type": "slot",
                                                                                            "kind": "local",
                                                                                            "index": 13
                                                                                        },
                                                                                        "name": "pol",
                                                                                        "loc": [
                                                                                            57,
                                                                                            480,
                                                                                            65,
                                                                                            480,
                                                                                            0
                                                                                        ]
                                                                                    }
                                                                                ],
                                                                                "loc": [
                                                                                    53,
                                                                                    480,
                                                                                    65,
                                                                                    480,
                                                                                    0
                                                                                ]
                                                                            },
                                                                            {
                                                                                "type": "slot",
                                                                                "kind": "local",
                                                                                "index": 14
                                                                            }
                                                                        ],
                                                                        "loc": [
                                                                            39,
                                                                            480,
                                                                            70,
                                                                            480,
                                                                            0
                                                                        ]
                                                                    }
                                                                ]
                                                            }
                                                        ],
                                                        "loc": [
                                                            34,
                                                            480,
                                                            72,
                                                            480,
                                                            0
                                                        ]
                                                    },
                                                    {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 15
                                                    }
                                                ],
                                                "loc": [34, 480, 81, 480, 0]
                                            }
                                        }
                                    ]
                                },
                                {
                                    "type": "return",
                                    "value": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 2
                                    }
                                }
                            ],
                            "loc": [20, 451, 16, 481, 0]
                        }
                    },
                    {
                        "type": "cond",
                        "cond": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "global",
                                "name": "in",
                                "loc": [7, 483, 19, 483, 0]
                            },
                            "args": [
                                {"type": "slot", "kind": "local", "index": 0},
                                {"type": "slot", "kind": "cell", "index": 1}
                            ],
                            "loc": [7, 483, 19, 483, 0]
                        },
                        "tbody": [
                            {
                                "type": "return",
                                "value": {
                                    "type": "record",
                                    "fields": [
                                        {
                                            "name": "generic",
                                            "mutable": false,
                                            "value": {
                                                "type": "call",
                                                "callee": {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "set",
                                                    "loc": [24, 484, 27, 484, 0]
                                                },
                                                "args": [],
                                                "loc": [24, 484, 29, 484, 0]
                                            }
                                        },
                                        {
                                            "name": "root",
                                            "mutable": false,
                                            "value": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 0
                                            }
                                        }
                                    ]
                                }
                            }
                        ],
                        "fbody": [],
                        "loc": [4, 483, 41, 484, 0]
                    },
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "local", "index": 0},
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "cell",
                                "index": 5
                            },
                            "args": [
                                {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 0
                                    },
                                    "name": "pol",
                                    "loc": [25, 485, 33, 485, 0]
                                },
                                {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "set",
                                        "loc": [35, 485, 38, 485, 0]
                                    },
                                    "args": [
                                        {
                                            "type": "list",
                                            "values": [
                                                {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 0
                                                }
                                            ]
                                        }
                                    ],
                                    "loc": [35, 485, 46, 485, 0]
                                }
                            ],
                            "loc": [11, 485, 47, 485, 0]
                        }
                    },
                    {
                        "type": "repeat",
                        "fresh": [],
                        "heads": [
                            {
                                "type": "for",
                                "slot": {
                                    "type": "slot",
                                    "kind": "tuple",
                                    "slots": [
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 2
                                        },
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 3
                                        }
                                    ],
                                    "loc": [8, 486, 17, 486, 0]
                                },
                                "value": {
                                    "type": "slot",
                                    "kind": "cell",
                                    "index": 3
                                }
                            }
                        ],
                        "body": [
                            {
                                "type": "cond",
                                "cond": {
                                    "type": "cmp",
                                    "exprs": [
                                        {
                                            "type": "slot",
                                            "kind": "attr",
                                            "base": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 2
                                            },
                                            "name": "pol",
                                            "loc": [11, 487, 20, 487, 0]
                                        },
                                        {
                                            "type": "literal",
                                            "kind": "integer",
                                            "value": "0"
                                        }
                                    ],
                                    "ops": [
                                        {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": ">",
                                            "loc": [11, 487, 24, 487, 0]
                                        }
                                    ],
                                    "loc": [11, 487, 24, 487, 0]
                                },
                                "tbody": [{"type": "continue"}],
                                "fbody": [],
                                "loc": [8, 487, 38, 487, 0]
                            },
                            {
                                "type": "repeat",
                                "fresh": [],
                                "heads": [
                                    {
                                        "type": "for",
                                        "slot": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 4
                                        },
                                        "value": {
                                            "type": "slot",
                                            "kind": "attr",
                                            "base": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 2
                                            },
                                            "name": "flow",
                                            "loc": [17, 488, 27, 488, 0]
                                        }
                                    }
                                ],
                                "body": [
                                    {
                                        "type": "assert",
                                        "cond": {
                                            "type": "not",
                                            "value": {
                                                "type": "call",
                                                "callee": {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "in",
                                                    "loc": [19, 489, 32, 489, 0]
                                                },
                                                "args": [
                                                    {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 4
                                                    },
                                                    {
                                                        "type": "slot",
                                                        "kind": "cell",
                                                        "index": 1
                                                    }
                                                ],
                                                "loc": [19, 489, 32, 489, 0]
                                            },
                                            "loc": [19, 489, 32, 489, 0]
                                        },
                                        "value": {
                                            "type": "literal",
                                            "kind": "string",
                                            "value": "bug: free state that is not marked free"
                                        },
                                        "loc": [12, 489, 77, 489, 0]
                                    },
                                    {
                                        "type": "assign",
                                        "slot": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 5
                                        },
                                        "value": {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "attr",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "cell",
                                                    "index": 3
                                                },
                                                "name": "get",
                                                "loc": [17, 490, 31, 490, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 4
                                                },
                                                {"type": "list", "values": []}
                                            ],
                                            "loc": [17, 490, 38, 490, 0]
                                        }
                                    },
                                    {
                                        "type": "repeat",
                                        "fresh": [],
                                        "heads": [
                                            {
                                                "type": "for",
                                                "slot": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 6
                                                },
                                                "value": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 3
                                                }
                                            },
                                            {
                                                "type": "for",
                                                "slot": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 7
                                                },
                                                "value": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 5
                                                }
                                            }
                                        ],
                                        "body": [
                                            {
                                                "type": "call",
                                                "callee": {
                                                    "type": "slot",
                                                    "kind": "attr",
                                                    "base": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 6
                                                    },
                                                    "name": "add_flow",
                                                    "loc": [16, 492, 26, 492, 0]
                                                },
                                                "args": [
                                                    {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 7
                                                    }
                                                ],
                                                "loc": [16, 492, 29, 492, 0]
                                            }
                                        ]
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "type": "return",
                        "value": {
                            "type": "record",
                            "fields": [
                                {
                                    "name": "generic",
                                    "mutable": false,
                                    "value": {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "set",
                                            "loc": [20, 493, 23, 493, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "call",
                                                "callee": {
                                                    "type": "slot",
                                                    "kind": "attr",
                                                    "base": {
                                                        "type": "slot",
                                                        "kind": "cell",
                                                        "index": 2
                                                    },
                                                    "name": "values",
                                                    "loc": [24, 493, 38, 493, 0]
                                                },
                                                "args": [],
                                                "loc": [24, 493, 40, 493, 0]
                                            }
                                        ],
                                        "loc": [20, 493, 41, 493, 0]
                                    }
                                },
                                {
                                    "name": "root",
                                    "mutable": false,
                                    "value": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 0
                                    }
                                }
                            ]
                        }
                    }
                ],
                "loc": [13, 423, 53, 493, 0]
            }
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "instantiate_type",
                "loc": [0, 495, 16, 495, 0]
            },
            "value": {
                "type": "closure",
                "cellvars": [
                    {"type": "cell", "deref": true, "name": "scheme", "defs": 1
                    },
                    {
                        "type": "cell",
                        "deref": true,
                        "name": "mapping",
                        "defs": 1
                    },
                    {
                        "type": "cell",
                        "deref": true,
                        "name": "copy_state",
                        "defs": 1
                    }
                ],
                "localvars": [
                    {"type": "cell", "deref": false, "name": "root", "defs": 1}
                ],
                "frame": [],
                "args": [{"slot": {"type": "slot", "kind": "cell", "index": 0}}
                ],
                "body": [
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "cell", "index": 1},
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "global",
                                "name": "dict",
                                "loc": [14, 496, 18, 496, 0]
                            },
                            "args": [],
                            "loc": [14, 496, 20, 496, 0]
                        }
                    },
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "cell", "index": 2},
                        "value": {
                            "type": "closure",
                            "cellvars": [
                                {
                                    "type": "cell",
                                    "deref": true,
                                    "name": "scheme",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": true,
                                    "name": "mapping",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": true,
                                    "name": "copy_state",
                                    "defs": 1
                                }
                            ],
                            "localvars": [
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "n",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "m",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "head",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "index",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "site",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "n_site",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "_",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "w",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "edge",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "ws",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "w",
                                    "defs": 1
                                }
                            ],
                            "frame": [0, 1, 2],
                            "args": [
                                {
                                    "slot": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 0
                                    }
                                }
                            ],
                            "body": [
                                {
                                    "type": "cond",
                                    "cond": {
                                        "type": "not",
                                        "value": {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "in",
                                                "loc": [11, 498, 34, 498, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 0
                                                },
                                                {
                                                    "type": "slot",
                                                    "kind": "attr",
                                                    "base": {
                                                        "type": "slot",
                                                        "kind": "cell",
                                                        "index": 0
                                                    },
                                                    "name": "generic",
                                                    "loc": [20, 498, 34, 498, 0]
                                                }
                                            ],
                                            "loc": [11, 498, 34, 498, 0]
                                        },
                                        "loc": [11, 498, 34, 498, 0]
                                    },
                                    "tbody": [
                                        {
                                            "type": "return",
                                            "value": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 0
                                            }
                                        }
                                    ],
                                    "fbody": [],
                                    "loc": [8, 498, 48, 498, 0]
                                },
                                {
                                    "type": "except",
                                    "body": [
                                        {
                                            "type": "return",
                                            "value": {
                                                "type": "slot",
                                                "kind": "item",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "cell",
                                                    "index": 1
                                                },
                                                "index": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 0
                                                },
                                                "loc": [15, 499, 25, 499, 0]
                                            }
                                        }
                                    ],
                                    "excepts": [
                                        {
                                            "exc": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "KeyError",
                                                "loc": [15, 500, 23, 500, 0]
                                            },
                                            "body": [
                                                {
                                                    "type": "assign",
                                                    "slot": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 1
                                                    },
                                                    "value": {
                                                        "type": "call",
                                                        "callee": {
                                                            "type": "slot",
                                                            "kind": "global",
                                                            "name": "fresh_state",
                                                            "loc": [
                                                                16,
                                                                501,
                                                                27,
                                                                501,
                                                                0
                                                            ]
                                                        },
                                                        "args": [
                                                            {
                                                                "type": "slot",
                                                                "kind": "attr",
                                                                "base": {
                                                                    "type": "slot",
                                                                    "kind": "local",
                                                                    "index": 0
                                                                },
                                                                "name": "pol",
                                                                "loc": [
                                                                    28,
                                                                    501,
                                                                    33,
                                                                    501,
                                                                    0
                                                                ]
                                                            }
                                                        ],
                                                        "loc": [
                                                            16,
                                                            501,
                                                            34,
                                                            501,
                                                            0
                                                        ]
                                                    }
                                                },
                                                {
                                                    "type": "assign",
                                                    "slot": {
                                                        "type": "slot",
                                                        "kind": "item",
                                                        "base": {
                                                            "type": "slot",
                                                            "kind": "cell",
                                                            "index": 1
                                                        },
                                                        "index": {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 0
                                                        },
                                                        "loc": [
                                                            12,
                                                            502,
                                                            22,
                                                            502,
                                                            0
                                                        ]
                                                    },
                                                    "value": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 1
                                                    }
                                                },
                                                {
                                                    "type": "repeat",
                                                    "fresh": [],
                                                    "heads": [
                                                        {
                                                            "type": "for",
                                                            "slot": {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 2
                                                            },
                                                            "value": {
                                                                "type": "slot",
                                                                "kind": "attr",
                                                                "base": {
                                                                    "type": "slot",
                                                                    "kind": "local",
                                                                    "index": 0
                                                                },
                                                                "name": "heads",
                                                                "loc": [
                                                                    24,
                                                                    503,
                                                                    31,
                                                                    503,
                                                                    0
                                                                ]
                                                            }
                                                        }
                                                    ],
                                                    "body": [
                                                        {
                                                            "type": "case",
                                                            "value": {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 2
                                                            },
                                                            "cases": [
                                                                {
                                                                    "type": "pattern",
                                                                    "pattern": {
                                                                        "type": "slot",
                                                                        "kind": "global",
                                                                        "name": "sink",
                                                                        "loc": [
                                                                            16,
                                                                            505,
                                                                            20,
                                                                            505,
                                                                            0
                                                                        ]
                                                                    },
                                                                    "slot": {
                                                                        "type": "slot",
                                                                        "kind": "tuple",
                                                                        "slots": [
                                                                            {
                                                                                "type": "slot",
                                                                                "kind": "local",
                                                                                "index": 3
                                                                            },
                                                                            {
                                                                                "type": "slot",
                                                                                "kind": "local",
                                                                                "index": 4
                                                                            }
                                                                        ],
                                                                        "loc": [
                                                                            16,
                                                                            505,
                                                                            52,
                                                                            507,
                                                                            0
                                                                        ]
                                                                    },
                                                                    "body": [
                                                                        {
                                                                            "type": "assign",
                                                                            "slot": {
                                                                                "type": "slot",
                                                                                "kind": "local",
                                                                                "index": 5
                                                                            },
                                                                            "value": {
                                                                                "type": "call",
                                                                                "callee": {
                                                                                    "type": "slot",
                                                                                    "kind": "attr",
                                                                                    "base": {
                                                                                        "type": "slot",
                                                                                        "kind": "local",
                                                                                        "index": 4
                                                                                    },
                                                                                    "name": "transfer",
                                                                                    "loc": [
                                                                                        29,
                                                                                        506,
                                                                                        42,
                                                                                        506,
                                                                                        0
                                                                                    ]
                                                                                },
                                                                                "args": [
                                                                                    {
                                                                                        "type": "slot",
                                                                                        "kind": "global",
                                                                                        "name": "reduce_site_port",
                                                                                        "loc": [
                                                                                            43,
                                                                                            506,
                                                                                            59,
                                                                                            506,
                                                                                            0
                                                                                        ]
                                                                                    }
                                                                                ],
                                                                                "loc": [
                                                                                    29,
                                                                                    506,
                                                                                    60,
                                                                                    506,
                                                                                    0
                                                                                ]
                                                                            }
                                                                        },
                                                                        {
                                                                            "type": "call",
                                                                            "callee": {
                                                                                "type": "slot",
                                                                                "kind": "attr",
                                                                                "base": {
                                                                                    "type": "slot",
                                                                                    "kind": "attr",
                                                                                    "base": {
                                                                                        "type": "slot",
                                                                                        "kind": "global",
                                                                                        "name": "s",
                                                                                        "loc": [
                                                                                            20,
                                                                                            507,
                                                                                            21,
                                                                                            507,
                                                                                            0
                                                                                        ]
                                                                                    },
                                                                                    "name": "heads",
                                                                                    "loc": [
                                                                                        20,
                                                                                        507,
                                                                                        27,
                                                                                        507,
                                                                                        0
                                                                                    ]
                                                                                },
                                                                                "name": "add",
                                                                                "loc": [
                                                                                    20,
                                                                                    507,
                                                                                    31,
                                                                                    507,
                                                                                    0
                                                                                ]
                                                                            },
                                                                            "args": [
                                                                                {
                                                                                    "type": "call",
                                                                                    "callee": {
                                                                                        "type": "slot",
                                                                                        "kind": "global",
                                                                                        "name": "sink",
                                                                                        "loc": [
                                                                                            32,
                                                                                            507,
                                                                                            36,
                                                                                            507,
                                                                                            0
                                                                                        ]
                                                                                    },
                                                                                    "args": [
                                                                                        {
                                                                                            "type": "slot",
                                                                                            "kind": "local",
                                                                                            "index": 3
                                                                                        },
                                                                                        {
                                                                                            "type": "slot",
                                                                                            "kind": "local",
                                                                                            "index": 5
                                                                                        }
                                                                                    ],
                                                                                    "loc": [
                                                                                        32,
                                                                                        507,
                                                                                        51,
                                                                                        507,
                                                                                        0
                                                                                    ]
                                                                                }
                                                                            ],
                                                                            "loc": [
                                                                                20,
                                                                                507,
                                                                                52,
                                                                                507,
                                                                                0
                                                                            ]
                                                                        }
                                                                    ],
                                                                    "loc": [
                                                                        16,
                                                                        505,
                                                                        52,
                                                                        507,
                                                                        0
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "pattern",
                                                                    "pattern": {
                                                                        "type": "slot",
                                                                        "kind": "global",
                                                                        "name": "faucet",
                                                                        "loc": [
                                                                            16,
                                                                            508,
                                                                            22,
                                                                            508,
                                                                            0
                                                                        ]
                                                                    },
                                                                    "slot": {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 6
                                                                    },
                                                                    "body": [
                                                                        {
                                                                            "type": "call",
                                                                            "callee": {
                                                                                "type": "slot",
                                                                                "kind": "attr",
                                                                                "base": {
                                                                                    "type": "slot",
                                                                                    "kind": "attr",
                                                                                    "base": {
                                                                                        "type": "slot",
                                                                                        "kind": "global",
                                                                                        "name": "s",
                                                                                        "loc": [
                                                                                            20,
                                                                                            509,
                                                                                            21,
                                                                                            509,
                                                                                            0
                                                                                        ]
                                                                                    },
                                                                                    "name": "heads",
                                                                                    "loc": [
                                                                                        20,
                                                                                        509,
                                                                                        27,
                                                                                        509,
                                                                                        0
                                                                                    ]
                                                                                },
                                                                                "name": "add",
                                                                                "loc": [
                                                                                    20,
                                                                                    509,
                                                                                    31,
                                                                                    509,
                                                                                    0
                                                                                ]
                                                                            },
                                                                            "args": [
                                                                                {
                                                                                    "type": "slot",
                                                                                    "kind": "local",
                                                                                    "index": 2
                                                                                }
                                                                            ],
                                                                            "loc": [
                                                                                20,
                                                                                509,
                                                                                37,
                                                                                509,
                                                                                0
                                                                            ]
                                                                        }
                                                                    ],
                                                                    "loc": [
                                                                        16,
                                                                        508,
                                                                        37,
                                                                        509,
                                                                        0
                                                                    ]
                                                                }
                                                            ],
                                                            "default": [],
                                                            "loc": [
                                                                16,
                                                                504,
                                                                37,
                                                                509,
                                                                0
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "repeat",
                                                    "fresh": [],
                                                    "heads": [
                                                        {
                                                            "type": "for",
                                                            "slot": {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 7
                                                            },
                                                            "value": {
                                                                "type": "slot",
                                                                "kind": "attr",
                                                                "base": {
                                                                    "type": "slot",
                                                                    "kind": "local",
                                                                    "index": 0
                                                                },
                                                                "name": "flow",
                                                                "loc": [
                                                                    21,
                                                                    510,
                                                                    27,
                                                                    510,
                                                                    0
                                                                ]
                                                            }
                                                        }
                                                    ],
                                                    "body": [
                                                        {
                                                            "type": "call",
                                                            "callee": {
                                                                "type": "slot",
                                                                "kind": "attr",
                                                                "base": {
                                                                    "type": "slot",
                                                                    "kind": "attr",
                                                                    "base": {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 1
                                                                    },
                                                                    "name": "flow",
                                                                    "loc": [
                                                                        16,
                                                                        511,
                                                                        22,
                                                                        511,
                                                                        0
                                                                    ]
                                                                },
                                                                "name": "add",
                                                                "loc": [
                                                                    16,
                                                                    511,
                                                                    26,
                                                                    511,
                                                                    0
                                                                ]
                                                            },
                                                            "args": [
                                                                {
                                                                    "type": "call",
                                                                    "callee": {
                                                                        "type": "slot",
                                                                        "kind": "cell",
                                                                        "index": 2
                                                                    },
                                                                    "args": [
                                                                        {
                                                                            "type": "slot",
                                                                            "kind": "local",
                                                                            "index": 7
                                                                        }
                                                                    ],
                                                                    "loc": [
                                                                        27,
                                                                        511,
                                                                        40,
                                                                        511,
                                                                        0
                                                                    ]
                                                                }
                                                            ],
                                                            "loc": [
                                                                16,
                                                                511,
                                                                41,
                                                                511,
                                                                0
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "repeat",
                                                    "fresh": [],
                                                    "heads": [
                                                        {
                                                            "type": "for",
                                                            "slot": {
                                                                "type": "slot",
                                                                "kind": "tuple",
                                                                "slots": [
                                                                    {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 8
                                                                    },
                                                                    {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 9
                                                                    }
                                                                ],
                                                                "loc": [
                                                                    16,
                                                                    512,
                                                                    24,
                                                                    512,
                                                                    0
                                                                ]
                                                            },
                                                            "value": {
                                                                "type": "slot",
                                                                "kind": "attr",
                                                                "base": {
                                                                    "type": "slot",
                                                                    "kind": "local",
                                                                    "index": 0
                                                                },
                                                                "name": "transitions",
                                                                "loc": [
                                                                    28,
                                                                    512,
                                                                    41,
                                                                    512,
                                                                    0
                                                                ]
                                                            }
                                                        }
                                                    ],
                                                    "body": [
                                                        {
                                                            "type": "repeat",
                                                            "fresh": [],
                                                            "heads": [
                                                                {
                                                                    "type": "for",
                                                                    "slot": {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 10
                                                                    },
                                                                    "value": {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 9
                                                                    }
                                                                }
                                                            ],
                                                            "body": [
                                                                {
                                                                    "type": "call",
                                                                    "callee": {
                                                                        "type": "slot",
                                                                        "kind": "attr",
                                                                        "base": {
                                                                            "type": "slot",
                                                                            "kind": "local",
                                                                            "index": 1
                                                                        },
                                                                        "name": "add_transition",
                                                                        "loc": [
                                                                            20,
                                                                            514,
                                                                            36,
                                                                            514,
                                                                            0
                                                                        ]
                                                                    },
                                                                    "args": [
                                                                        {
                                                                            "type": "slot",
                                                                            "kind": "local",
                                                                            "index": 8
                                                                        },
                                                                        {
                                                                            "type": "call",
                                                                            "callee": {
                                                                                "type": "slot",
                                                                                "kind": "cell",
                                                                                "index": 2
                                                                            },
                                                                            "args": [
                                                                                {
                                                                                    "type": "slot",
                                                                                    "kind": "local",
                                                                                    "index": 10
                                                                                }
                                                                            ],
                                                                            "loc": [
                                                                                43,
                                                                                514,
                                                                                56,
                                                                                514,
                                                                                0
                                                                            ]
                                                                        }
                                                                    ],
                                                                    "loc": [
                                                                        20,
                                                                        514,
                                                                        57,
                                                                        514,
                                                                        0
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "return",
                                                    "value": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 1
                                                    }
                                                }
                                            ]
                                        }
                                    ],
                                    "loc": [8, 499, 20, 515, 0]
                                }
                            ],
                            "loc": [17, 497, 20, 515, 0]
                        }
                    },
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "local", "index": 0},
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "cell",
                                "index": 2
                            },
                            "args": [
                                {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "cell",
                                        "index": 0
                                    },
                                    "name": "root",
                                    "loc": [22, 516, 33, 516, 0]
                                }
                            ],
                            "loc": [11, 516, 34, 516, 0]
                        }
                    },
                    {
                        "type": "return",
                        "value": {
                            "type": "record",
                            "fields": [
                                {
                                    "name": "root",
                                    "mutable": false,
                                    "value": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 0
                                    }
                                }
                            ]
                        }
                    }
                ],
                "loc": [19, 495, 23, 517, 0]
            }
        },
        {
            "type": "datatype",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "Env",
                "loc": [9, 520, 12, 520, 0]
            },
            "varc": 2,
            "rows": [
                [
                    {
                        "type": "slot",
                        "kind": "global",
                        "name": "environ",
                        "loc": [22, 520, 29, 520, 0]
                    },
                    4,
                    {"schemes": 0, "locals": 1, "parent": 2, "free": 3},
                    {
                        "type": "closure",
                        "cellvars": [],
                        "localvars": [
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "op",
                                "defs": 1
                            },
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "a",
                                "defs": 1
                            }
                        ],
                        "frame": [],
                        "args": [
                            {
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 0
                                }
                            },
                            {
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 1
                                }
                            }
                        ],
                        "body": [
                            {
                                "type": "return",
                                "value": {
                                    "type": "make_tuple",
                                    "items": [
                                        {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "Dict",
                                                "loc": [13, 521, 17, 521, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "String",
                                                    "loc": [18, 521, 24, 521, 0]
                                                },
                                                {
                                                    "type": "record",
                                                    "fields": [
                                                        {
                                                            "name": "generic",
                                                            "mutable": false,
                                                            "value": {
                                                                "type": "call",
                                                                "callee": {
                                                                    "type": "slot",
                                                                    "kind": "global",
                                                                    "name": "Set",
                                                                    "loc": [
                                                                        36,
                                                                        521,
                                                                        39,
                                                                        521,
                                                                        0
                                                                    ]
                                                                },
                                                                "args": [
                                                                    {
                                                                        "type": "call",
                                                                        "callee": {
                                                                            "type": "slot",
                                                                            "kind": "global",
                                                                            "name": "State",
                                                                            "loc": [
                                                                                40,
                                                                                521,
                                                                                45,
                                                                                521,
                                                                                0
                                                                            ]
                                                                        },
                                                                        "args": [
                                                                            {
                                                                                "type": "slot",
                                                                                "kind": "local",
                                                                                "index": 0
                                                                            },
                                                                            {
                                                                                "type": "slot",
                                                                                "kind": "local",
                                                                                "index": 1
                                                                            }
                                                                        ],
                                                                        "loc": [
                                                                            40,
                                                                            521,
                                                                            52,
                                                                            521,
                                                                            0
                                                                        ]
                                                                    }
                                                                ],
                                                                "loc": [
                                                                    36,
                                                                    521,
                                                                    53,
                                                                    521,
                                                                    0
                                                                ]
                                                            }
                                                        },
                                                        {
                                                            "name": "root",
                                                            "mutable": false,
                                                            "value": {
                                                                "type": "call",
                                                                "callee": {
                                                                    "type": "slot",
                                                                    "kind": "global",
                                                                    "name": "State",
                                                                    "loc": [
                                                                        61,
                                                                        521,
                                                                        66,
                                                                        521,
                                                                        0
                                                                    ]
                                                                },
                                                                "args": [
                                                                    {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 0
                                                                    },
                                                                    {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 1
                                                                    }
                                                                ],
                                                                "loc": [
                                                                    61,
                                                                    521,
                                                                    73,
                                                                    521,
                                                                    0
                                                                ]
                                                            }
                                                        }
                                                    ]
                                                }
                                            ],
                                            "loc": [13, 521, 75, 521, 0]
                                        },
                                        {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "Dict",
                                                "loc": [12, 522, 16, 522, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "String",
                                                    "loc": [17, 522, 23, 522, 0]
                                                },
                                                {
                                                    "type": "record",
                                                    "fields": [
                                                        {
                                                            "name": "input",
                                                            "mutable": false,
                                                            "value": {
                                                                "type": "call",
                                                                "callee": {
                                                                    "type": "slot",
                                                                    "kind": "global",
                                                                    "name": "State",
                                                                    "loc": [
                                                                        33,
                                                                        522,
                                                                        38,
                                                                        522,
                                                                        0
                                                                    ]
                                                                },
                                                                "args": [
                                                                    {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 0
                                                                    },
                                                                    {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 1
                                                                    }
                                                                ],
                                                                "loc": [
                                                                    33,
                                                                    522,
                                                                    44,
                                                                    522,
                                                                    0
                                                                ]
                                                            }
                                                        },
                                                        {
                                                            "name": "output",
                                                            "mutable": false,
                                                            "value": {
                                                                "type": "call",
                                                                "callee": {
                                                                    "type": "slot",
                                                                    "kind": "global",
                                                                    "name": "State",
                                                                    "loc": [
                                                                        54,
                                                                        522,
                                                                        59,
                                                                        522,
                                                                        0
                                                                    ]
                                                                },
                                                                "args": [
                                                                    {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 0
                                                                    },
                                                                    {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 1
                                                                    }
                                                                ],
                                                                "loc": [
                                                                    54,
                                                                    522,
                                                                    66,
                                                                    522,
                                                                    0
                                                                ]
                                                            }
                                                        }
                                                    ]
                                                }
                                            ],
                                            "loc": [12, 522, 68, 522, 0]
                                        },
                                        {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "Env",
                                                "loc": [12, 523, 15, 523, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 0
                                                },
                                                {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 1
                                                }
                                            ],
                                            "loc": [12, 523, 22, 523, 0]
                                        },
                                        {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "Set",
                                                "loc": [10, 524, 13, 524, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "call",
                                                    "callee": {
                                                        "type": "slot",
                                                        "kind": "global",
                                                        "name": "State",
                                                        "loc": [
                                                            14,
                                                            524,
                                                            19,
                                                            524,
                                                            0
                                                        ]
                                                    },
                                                    "args": [
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 0
                                                        },
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 1
                                                        }
                                                    ],
                                                    "loc": [14, 524, 26, 524, 0]
                                                }
                                            ],
                                            "loc": [10, 524, 27, 524, 0]
                                        }
                                    ]
                                }
                            }
                        ],
                        "loc": [0, 520, 27, 532, 0]
                    }
                ],
                [
                    {
                        "type": "slot",
                        "kind": "global",
                        "name": "environ_end",
                        "loc": [31, 524, 42, 524, 0]
                    },
                    0,
                    {},
                    {
                        "type": "closure",
                        "cellvars": [],
                        "localvars": [
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "op",
                                "defs": 1
                            },
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "a",
                                "defs": 1
                            }
                        ],
                        "frame": [],
                        "args": [
                            {
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 0
                                }
                            },
                            {
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 1
                                }
                            }
                        ],
                        "body": [
                            {
                                "type": "return",
                                "value": {"type": "make_tuple", "items": []}
                            }
                        ],
                        "loc": [0, 520, 27, 532, 0]
                    }
                ]
            ],
            "decls": [
                {
                    "type": "method",
                    "op": {
                        "type": "slot",
                        "kind": "global",
                        "name": "getitem",
                        "loc": [7, 525, 14, 525, 0]
                    },
                    "value": {
                        "type": "closure",
                        "cellvars": [],
                        "localvars": [
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "env",
                                "defs": 1
                            },
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "name",
                                "defs": 1
                            },
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "schemes",
                                "defs": 1
                            },
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "locals",
                                "defs": 1
                            },
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "parent",
                                "defs": 1
                            },
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "free",
                                "defs": 1
                            }
                        ],
                        "frame": [],
                        "args": [
                            {
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 0
                                }
                            },
                            {
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 1
                                }
                            }
                        ],
                        "body": [
                            {
                                "type": "case",
                                "value": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 0
                                },
                                "cases": [
                                    {
                                        "type": "pattern",
                                        "pattern": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "environ",
                                            "loc": [4, 527, 11, 527, 0]
                                        },
                                        "slot": {
                                            "type": "slot",
                                            "kind": "tuple",
                                            "slots": [
                                                {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 2
                                                },
                                                {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 3
                                                },
                                                {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 4
                                                },
                                                {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 5
                                                }
                                            ],
                                            "loc": [4, 527, 31, 530, 0]
                                        },
                                        "body": [
                                            {
                                                "type": "except",
                                                "body": [
                                                    {
                                                        "type": "return",
                                                        "value": {
                                                            "type": "slot",
                                                            "kind": "item",
                                                            "base": {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 2
                                                            },
                                                            "index": {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 1
                                                            },
                                                            "loc": [
                                                                15,
                                                                528,
                                                                28,
                                                                528,
                                                                0
                                                            ]
                                                        }
                                                    }
                                                ],
                                                "excepts": [
                                                    {
                                                        "exc": {
                                                            "type": "slot",
                                                            "kind": "global",
                                                            "name": "NoIndex",
                                                            "loc": [
                                                                15,
                                                                529,
                                                                22,
                                                                529,
                                                                0
                                                            ]
                                                        },
                                                        "body": [
                                                            {
                                                                "type": "return",
                                                                "value": {
                                                                    "type": "slot",
                                                                    "kind": "item",
                                                                    "base": {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 4
                                                                    },
                                                                    "index": {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 1
                                                                    },
                                                                    "loc": [
                                                                        19,
                                                                        530,
                                                                        31,
                                                                        530,
                                                                        0
                                                                    ]
                                                                }
                                                            }
                                                        ]
                                                    }
                                                ],
                                                "loc": [8, 528, 31, 530, 0]
                                            }
                                        ],
                                        "loc": [4, 527, 31, 530, 0]
                                    },
                                    {
                                        "type": "constant",
                                        "value": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "environ_end",
                                            "loc": [4, 531, 15, 531, 0]
                                        },
                                        "body": [
                                            {
                                                "type": "return",
                                                "value": {
                                                    "type": "slot",
                                                    "kind": "item",
                                                    "base": {
                                                        "type": "call",
                                                        "callee": {
                                                            "type": "slot",
                                                            "kind": "global",
                                                            "name": "dict",
                                                            "loc": [
                                                                15,
                                                                532,
                                                                19,
                                                                532,
                                                                0
                                                            ]
                                                        },
                                                        "args": [],
                                                        "loc": [
                                                            15,
                                                            532,
                                                            21,
                                                            532,
                                                            0
                                                        ]
                                                    },
                                                    "index": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 1
                                                    },
                                                    "loc": [15, 532, 27, 532, 0]
                                                }
                                            }
                                        ],
                                        "loc": [4, 531, 27, 532, 0]
                                    }
                                ],
                                "default": [],
                                "loc": [4, 526, 27, 532, 0]
                            }
                        ],
                        "loc": [17, 525, 27, 532, 0]
                    }
                }
            ],
            "loc": [0, 520, 27, 532, 0]
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "inference_function",
                "loc": [0, 534, 18, 534, 0]
            },
            "value": {
                "type": "closure",
                "cellvars": [],
                "localvars": [
                    {"type": "cell", "deref": false, "name": "fn", "defs": 1},
                    {"type": "cell", "deref": false, "name": "env", "defs": 2},
                    {
                        "type": "cell",
                        "deref": false,
                        "name": "visited",
                        "defs": 1
                    },
                    {"type": "cell", "deref": false, "name": "head", "defs": 1},
                    {"type": "cell", "deref": false, "name": "info", "defs": 1},
                    {"type": "cell", "deref": false, "name": "out", "defs": 1},
                    {"type": "cell", "deref": false, "name": "i", "defs": 1},
                    {"type": "cell", "deref": false, "name": "arg", "defs": 1},
                    {"type": "cell", "deref": false, "name": "port", "defs": 1},
                    {"type": "cell", "deref": false, "name": "slot", "defs": 1},
                    {
                        "type": "cell",
                        "deref": false,
                        "name": "retval",
                        "defs": 1
                    }
                ],
                "frame": [],
                "args": [
                    {"slot": {"type": "slot", "kind": "local", "index": 0}},
                    {"slot": {"type": "slot", "kind": "local", "index": 1}},
                    {"slot": {"type": "slot", "kind": "local", "index": 2}}
                ],
                "body": [
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "local", "index": 1},
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "global",
                                "name": "environ",
                                "loc": [10, 535, 17, 535, 0]
                            },
                            "args": [
                                {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "dict",
                                        "loc": [18, 535, 22, 535, 0]
                                    },
                                    "args": [],
                                    "loc": [18, 535, 24, 535, 0]
                                },
                                {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "dict",
                                        "loc": [26, 535, 30, 535, 0]
                                    },
                                    "args": [],
                                    "loc": [26, 535, 32, 535, 0]
                                },
                                {"type": "slot", "kind": "local", "index": 1},
                                {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "set",
                                        "loc": [39, 535, 42, 535, 0]
                                    },
                                    "args": [],
                                    "loc": [39, 535, 44, 535, 0]
                                }
                            ],
                            "loc": [10, 535, 45, 535, 0]
                        }
                    },
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "local", "index": 3},
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "global",
                                "name": "face",
                                "loc": [11, 536, 15, 536, 0]
                            },
                            "args": [
                                {"type": "slot", "kind": "local", "index": 0}
                            ],
                            "loc": [11, 536, 19, 536, 0]
                        }
                    },
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "local", "index": 4},
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "global",
                                "name": "inspect",
                                "loc": [11, 537, 18, 537, 0]
                            },
                            "args": [
                                {"type": "slot", "kind": "local", "index": 0}
                            ],
                            "loc": [11, 537, 22, 537, 0]
                        }
                    },
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "local", "index": 5},
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "global",
                                "name": "fresh_state",
                                "loc": [10, 538, 21, 538, 0]
                            },
                            "args": [
                                {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "+expr",
                                        "loc": [22, 538, 24, 538, 0]
                                    },
                                    "args": [
                                        {
                                            "type": "literal",
                                            "kind": "integer",
                                            "value": "1"
                                        }
                                    ],
                                    "loc": [22, 538, 24, 538, 0]
                                }
                            ],
                            "loc": [10, 538, 25, 538, 0]
                        }
                    },
                    {
                        "type": "call",
                        "callee": {
                            "type": "slot",
                            "kind": "attr",
                            "base": {
                                "type": "slot",
                                "kind": "attr",
                                "base": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 5
                                },
                                "name": "heads",
                                "loc": [4, 539, 13, 539, 0]
                            },
                            "name": "add",
                            "loc": [4, 539, 17, 539, 0]
                        },
                        "args": [
                            {
                                "type": "call",
                                "callee": {
                                    "type": "slot",
                                    "kind": "global",
                                    "name": "faucet",
                                    "loc": [18, 539, 24, 539, 0]
                                },
                                "args": [
                                    {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 3
                                    }
                                ],
                                "loc": [18, 539, 30, 539, 0]
                            }
                        ],
                        "loc": [4, 539, 31, 539, 0]
                    },
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "local", "index": 6},
                        "value": {
                            "type": "literal",
                            "kind": "integer",
                            "value": "0"
                        }
                    },
                    {
                        "type": "repeat",
                        "fresh": [],
                        "heads": [
                            {
                                "type": "for",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 7
                                },
                                "value": {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 4
                                    },
                                    "name": "args",
                                    "loc": [15, 541, 24, 541, 0]
                                }
                            }
                        ],
                        "body": [
                            {
                                "type": "assign",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 8
                                },
                                "value": {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "fresh_port",
                                        "loc": [15, 542, 25, 542, 0]
                                    },
                                    "args": [],
                                    "loc": [15, 542, 27, 542, 0]
                                }
                            },
                            {
                                "type": "call",
                                "callee": {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 5
                                    },
                                    "name": "add_transition",
                                    "loc": [8, 543, 26, 543, 0]
                                },
                                "args": [
                                    {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "get_dom",
                                            "loc": [27, 543, 34, 543, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 6
                                            }
                                        ],
                                        "loc": [27, 543, 37, 543, 0]
                                    },
                                    {
                                        "type": "slot",
                                        "kind": "attr",
                                        "base": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 8
                                        },
                                        "name": "input",
                                        "loc": [39, 543, 49, 543, 0]
                                    }
                                ],
                                "loc": [8, 543, 50, 543, 0]
                            },
                            {
                                "type": "assign",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 9
                                },
                                "value": {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "inference_slot",
                                        "loc": [15, 544, 29, 544, 0]
                                    },
                                    "args": [
                                        {
                                            "type": "slot",
                                            "kind": "item",
                                            "base": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 7
                                            },
                                            "index": {
                                                "type": "literal",
                                                "kind": "string",
                                                "value": "slot"
                                            },
                                            "loc": [30, 544, 41, 544, 0]
                                        },
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 1
                                        },
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 2
                                        }
                                    ],
                                    "loc": [15, 544, 56, 544, 0]
                                }
                            },
                            {
                                "type": "call",
                                "callee": {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 9
                                    },
                                    "name": "set",
                                    "loc": [8, 545, 16, 545, 0]
                                },
                                "args": [
                                    {
                                        "type": "slot",
                                        "kind": "attr",
                                        "base": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 8
                                        },
                                        "name": "output",
                                        "loc": [17, 545, 28, 545, 0]
                                    }
                                ],
                                "loc": [8, 545, 29, 545, 0]
                            },
                            {
                                "type": "inplace_assign",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 6
                                },
                                "op": {
                                    "type": "slot",
                                    "kind": "global",
                                    "name": "+",
                                    "loc": [8, 546, 14, 546, 0]
                                },
                                "value": {
                                    "type": "literal",
                                    "kind": "integer",
                                    "value": "1"
                                }
                            }
                        ]
                    },
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "local", "index": 10},
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "global",
                                "name": "inference_program",
                                "loc": [13, 547, 30, 547, 0]
                            },
                            "args": [
                                {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 4
                                    },
                                    "name": "body",
                                    "loc": [31, 547, 40, 547, 0]
                                },
                                {"type": "slot", "kind": "local", "index": 1},
                                {"type": "slot", "kind": "local", "index": 2}
                            ],
                            "loc": [13, 547, 55, 547, 0]
                        }
                    },
                    {
                        "type": "call",
                        "callee": {
                            "type": "slot",
                            "kind": "attr",
                            "base": {
                                "type": "slot",
                                "kind": "local",
                                "index": 5
                            },
                            "name": "add_transition",
                            "loc": [4, 548, 22, 548, 0]
                        },
                        "args": [
                            {
                                "type": "slot",
                                "kind": "global",
                                "name": "cod",
                                "loc": [23, 548, 26, 548, 0]
                            },
                            {"type": "slot", "kind": "local", "index": 10}
                        ],
                        "loc": [4, 548, 35, 548, 0]
                    },
                    {
                        "type": "return",
                        "value": {"type": "slot", "kind": "local", "index": 5}
                    }
                ],
                "loc": [21, 534, 14, 549, 0]
            }
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "inference_program",
                "loc": [0, 551, 17, 551, 0]
            },
            "value": {
                "type": "closure",
                "cellvars": [],
                "localvars": [
                    {"type": "cell", "deref": false, "name": "body", "defs": 1},
                    {"type": "cell", "deref": false, "name": "env", "defs": 1},
                    {
                        "type": "cell",
                        "deref": false,
                        "name": "visited",
                        "defs": 1
                    },
                    {
                        "type": "cell",
                        "deref": false,
                        "name": "result",
                        "defs": 1
                    },
                    {"type": "cell", "deref": false, "name": "stmt", "defs": 1},
                    {"type": "cell", "deref": false, "name": "value", "defs": 3
                    },
                    {"type": "cell", "deref": false, "name": "slot", "defs": 1}
                ],
                "frame": [],
                "args": [
                    {"slot": {"type": "slot", "kind": "local", "index": 0}},
                    {"slot": {"type": "slot", "kind": "local", "index": 1}},
                    {"slot": {"type": "slot", "kind": "local", "index": 2}}
                ],
                "body": [
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "local", "index": 3},
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "global",
                                "name": "fresh_port",
                                "loc": [13, 552, 23, 552, 0]
                            },
                            "args": [],
                            "loc": [13, 552, 25, 552, 0]
                        }
                    },
                    {
                        "type": "repeat",
                        "fresh": [],
                        "heads": [
                            {
                                "type": "for",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 4
                                },
                                "value": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 0
                                }
                            }
                        ],
                        "body": [
                            {
                                "type": "case",
                                "value": {
                                    "type": "slot",
                                    "kind": "item",
                                    "base": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 4
                                    },
                                    "index": {
                                        "type": "literal",
                                        "kind": "string",
                                        "value": "type"
                                    },
                                    "loc": [13, 554, 25, 554, 0]
                                },
                                "cases": [
                                    {
                                        "type": "constant",
                                        "value": {
                                            "type": "literal",
                                            "kind": "string",
                                            "value": "return"
                                        },
                                        "body": [
                                            {
                                                "type": "assign",
                                                "slot": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 5
                                                },
                                                "value": {
                                                    "type": "slot",
                                                    "kind": "item",
                                                    "base": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 4
                                                    },
                                                    "index": {
                                                        "type": "literal",
                                                        "kind": "string",
                                                        "value": "value"
                                                    },
                                                    "loc": [20, 556, 33, 556, 0]
                                                }
                                            },
                                            {
                                                "type": "assign",
                                                "slot": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 5
                                                },
                                                "value": {
                                                    "type": "call",
                                                    "callee": {
                                                        "type": "slot",
                                                        "kind": "global",
                                                        "name": "inference_expr",
                                                        "loc": [
                                                            20,
                                                            557,
                                                            34,
                                                            557,
                                                            0
                                                        ]
                                                    },
                                                    "args": [
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 5
                                                        },
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 1
                                                        },
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 2
                                                        }
                                                    ],
                                                    "loc": [20, 557, 55, 557, 0]
                                                }
                                            },
                                            {
                                                "type": "call",
                                                "callee": {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "biunify",
                                                    "loc": [12, 558, 19, 558, 0]
                                                },
                                                "args": [
                                                    {
                                                        "type": "make_tuple",
                                                        "items": [
                                                            {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 5
                                                            },
                                                            {
                                                                "type": "slot",
                                                                "kind": "attr",
                                                                "base": {
                                                                    "type": "slot",
                                                                    "kind": "local",
                                                                    "index": 3
                                                                },
                                                                "name": "input",
                                                                "loc": [
                                                                    28,
                                                                    558,
                                                                    40,
                                                                    558,
                                                                    0
                                                                ]
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 2
                                                    }
                                                ],
                                                "loc": [12, 558, 51, 558, 0]
                                            }
                                        ],
                                        "loc": [8, 555, 51, 558, 0]
                                    },
                                    {
                                        "type": "constant",
                                        "value": {
                                            "type": "literal",
                                            "kind": "string",
                                            "value": "assign"
                                        },
                                        "body": [
                                            {
                                                "type": "assign",
                                                "slot": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 6
                                                },
                                                "value": {
                                                    "type": "call",
                                                    "callee": {
                                                        "type": "slot",
                                                        "kind": "global",
                                                        "name": "inference_slot",
                                                        "loc": [
                                                            19,
                                                            560,
                                                            33,
                                                            560,
                                                            0
                                                        ]
                                                    },
                                                    "args": [
                                                        {
                                                            "type": "slot",
                                                            "kind": "item",
                                                            "base": {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 4
                                                            },
                                                            "index": {
                                                                "type": "literal",
                                                                "kind": "string",
                                                                "value": "slot"
                                                            },
                                                            "loc": [
                                                                34,
                                                                560,
                                                                46,
                                                                560,
                                                                0
                                                            ]
                                                        },
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 1
                                                        },
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 2
                                                        }
                                                    ],
                                                    "loc": [19, 560, 61, 560, 0]
                                                }
                                            },
                                            {
                                                "type": "assign",
                                                "slot": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 5
                                                },
                                                "value": {
                                                    "type": "call",
                                                    "callee": {
                                                        "type": "slot",
                                                        "kind": "global",
                                                        "name": "inference_expr",
                                                        "loc": [
                                                            20,
                                                            561,
                                                            34,
                                                            561,
                                                            0
                                                        ]
                                                    },
                                                    "args": [
                                                        {
                                                            "type": "slot",
                                                            "kind": "item",
                                                            "base": {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 4
                                                            },
                                                            "index": {
                                                                "type": "literal",
                                                                "kind": "string",
                                                                "value": "value"
                                                            },
                                                            "loc": [
                                                                35,
                                                                561,
                                                                48,
                                                                561,
                                                                0
                                                            ]
                                                        },
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 1
                                                        },
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 2
                                                        }
                                                    ],
                                                    "loc": [20, 561, 63, 561, 0]
                                                }
                                            },
                                            {
                                                "type": "call",
                                                "callee": {
                                                    "type": "slot",
                                                    "kind": "attr",
                                                    "base": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 6
                                                    },
                                                    "name": "set",
                                                    "loc": [12, 562, 20, 562, 0]
                                                },
                                                "args": [
                                                    {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 5
                                                    }
                                                ],
                                                "loc": [12, 562, 27, 562, 0]
                                            }
                                        ],
                                        "loc": [8, 559, 27, 562, 0]
                                    }
                                ],
                                "default": [
                                    {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "inference_expr",
                                            "loc": [12, 564, 26, 564, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 4
                                            },
                                            {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 1
                                            },
                                            {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 2
                                            }
                                        ],
                                        "loc": [12, 564, 46, 564, 0]
                                    }
                                ],
                                "loc": [8, 554, 46, 564, 0]
                            }
                        ]
                    },
                    {
                        "type": "return",
                        "value": {
                            "type": "slot",
                            "kind": "attr",
                            "base": {
                                "type": "slot",
                                "kind": "local",
                                "index": 3
                            },
                            "name": "output",
                            "loc": [11, 565, 24, 565, 0]
                        }
                    }
                ],
                "loc": [20, 551, 24, 565, 0]
            }
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "inference_expr",
                "loc": [0, 567, 14, 567, 0]
            },
            "value": {
                "type": "closure",
                "cellvars": [],
                "localvars": [
                    {"type": "cell", "deref": false, "name": "a", "defs": 1},
                    {"type": "cell", "deref": false, "name": "env", "defs": 1},
                    {
                        "type": "cell",
                        "deref": false,
                        "name": "visited",
                        "defs": 1
                    },
                    {
                        "type": "cell",
                        "deref": false,
                        "name": "result",
                        "defs": 2
                    },
                    {
                        "type": "cell",
                        "deref": false,
                        "name": "callee",
                        "defs": 1
                    },
                    {
                        "type": "cell",
                        "deref": false,
                        "name": "calltype",
                        "defs": 1
                    },
                    {
                        "type": "cell",
                        "deref": false,
                        "name": "op_site",
                        "defs": 1
                    },
                    {"type": "cell", "deref": false, "name": "sinky", "defs": 1
                    },
                    {"type": "cell", "deref": false, "name": "i", "defs": 1},
                    {"type": "cell", "deref": false, "name": "arg", "defs": 2}
                ],
                "frame": [],
                "args": [
                    {"slot": {"type": "slot", "kind": "local", "index": 0}},
                    {"slot": {"type": "slot", "kind": "local", "index": 1}},
                    {"slot": {"type": "slot", "kind": "local", "index": 2}}
                ],
                "body": [
                    {
                        "type": "case",
                        "value": {
                            "type": "slot",
                            "kind": "item",
                            "base": {
                                "type": "slot",
                                "kind": "local",
                                "index": 0
                            },
                            "index": {
                                "type": "literal",
                                "kind": "string",
                                "value": "type"
                            },
                            "loc": [9, 568, 18, 568, 0]
                        },
                        "cases": [
                            {
                                "type": "constant",
                                "value": {
                                    "type": "literal",
                                    "kind": "string",
                                    "value": "literal"
                                },
                                "body": [
                                    {
                                        "type": "assign",
                                        "slot": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 3
                                        },
                                        "value": {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "fresh_state",
                                                "loc": [17, 570, 28, 570, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "call",
                                                    "callee": {
                                                        "type": "slot",
                                                        "kind": "global",
                                                        "name": "+expr",
                                                        "loc": [
                                                            29,
                                                            570,
                                                            31,
                                                            570,
                                                            0
                                                        ]
                                                    },
                                                    "args": [
                                                        {
                                                            "type": "literal",
                                                            "kind": "integer",
                                                            "value": "1"
                                                        }
                                                    ],
                                                    "loc": [29, 570, 31, 570, 0]
                                                }
                                            ],
                                            "loc": [17, 570, 32, 570, 0]
                                        }
                                    },
                                    {
                                        "type": "case",
                                        "value": {
                                            "type": "slot",
                                            "kind": "item",
                                            "base": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 0
                                            },
                                            "index": {
                                                "type": "literal",
                                                "kind": "string",
                                                "value": "kind"
                                            },
                                            "loc": [13, 571, 22, 571, 0]
                                        },
                                        "cases": [
                                            {
                                                "type": "constant",
                                                "value": {
                                                    "type": "literal",
                                                    "kind": "string",
                                                    "value": "string"
                                                },
                                                "body": [
                                                    {
                                                        "type": "call",
                                                        "callee": {
                                                            "type": "slot",
                                                            "kind": "attr",
                                                            "base": {
                                                                "type": "slot",
                                                                "kind": "attr",
                                                                "base": {
                                                                    "type": "slot",
                                                                    "kind": "local",
                                                                    "index": 3
                                                                },
                                                                "name": "heads",
                                                                "loc": [
                                                                    12,
                                                                    573,
                                                                    24,
                                                                    573,
                                                                    0
                                                                ]
                                                            },
                                                            "name": "add",
                                                            "loc": [
                                                                12,
                                                                573,
                                                                28,
                                                                573,
                                                                0
                                                            ]
                                                        },
                                                        "args": [
                                                            {
                                                                "type": "call",
                                                                "callee": {
                                                                    "type": "slot",
                                                                    "kind": "global",
                                                                    "name": "faucet",
                                                                    "loc": [
                                                                        29,
                                                                        573,
                                                                        35,
                                                                        573,
                                                                        0
                                                                    ]
                                                                },
                                                                "args": [
                                                                    {
                                                                        "type": "slot",
                                                                        "kind": "global",
                                                                        "name": "String",
                                                                        "loc": [
                                                                            36,
                                                                            573,
                                                                            42,
                                                                            573,
                                                                            0
                                                                        ]
                                                                    }
                                                                ],
                                                                "loc": [
                                                                    29,
                                                                    573,
                                                                    43,
                                                                    573,
                                                                    0
                                                                ]
                                                            }
                                                        ],
                                                        "loc": [
                                                            12,
                                                            573,
                                                            44,
                                                            573,
                                                            0
                                                        ]
                                                    }
                                                ],
                                                "loc": [8, 572, 44, 573, 0]
                                            },
                                            {
                                                "type": "constant",
                                                "value": {
                                                    "type": "literal",
                                                    "kind": "string",
                                                    "value": "integer"
                                                },
                                                "body": [
                                                    {
                                                        "type": "call",
                                                        "callee": {
                                                            "type": "slot",
                                                            "kind": "attr",
                                                            "base": {
                                                                "type": "slot",
                                                                "kind": "attr",
                                                                "base": {
                                                                    "type": "slot",
                                                                    "kind": "local",
                                                                    "index": 3
                                                                },
                                                                "name": "heads",
                                                                "loc": [
                                                                    12,
                                                                    575,
                                                                    24,
                                                                    575,
                                                                    0
                                                                ]
                                                            },
                                                            "name": "add",
                                                            "loc": [
                                                                12,
                                                                575,
                                                                28,
                                                                575,
                                                                0
                                                            ]
                                                        },
                                                        "args": [
                                                            {
                                                                "type": "call",
                                                                "callee": {
                                                                    "type": "slot",
                                                                    "kind": "global",
                                                                    "name": "faucet",
                                                                    "loc": [
                                                                        29,
                                                                        575,
                                                                        35,
                                                                        575,
                                                                        0
                                                                    ]
                                                                },
                                                                "args": [
                                                                    {
                                                                        "type": "slot",
                                                                        "kind": "global",
                                                                        "name": "Integer",
                                                                        "loc": [
                                                                            36,
                                                                            575,
                                                                            43,
                                                                            575,
                                                                            0
                                                                        ]
                                                                    }
                                                                ],
                                                                "loc": [
                                                                    29,
                                                                    575,
                                                                    44,
                                                                    575,
                                                                    0
                                                                ]
                                                            }
                                                        ],
                                                        "loc": [
                                                            12,
                                                            575,
                                                            45,
                                                            575,
                                                            0
                                                        ]
                                                    }
                                                ],
                                                "loc": [8, 574, 45, 575, 0]
                                            }
                                        ],
                                        "default": [
                                            {
                                                "type": "assert",
                                                "cond": {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "false",
                                                    "loc": [19, 577, 24, 577, 0]
                                                },
                                                "value": {
                                                    "type": "literal",
                                                    "kind": "string",
                                                    "value": "missing inference for literal"
                                                },
                                                "loc": [12, 577, 59, 577, 0]
                                            }
                                        ],
                                        "loc": [8, 571, 59, 577, 0]
                                    },
                                    {
                                        "type": "return",
                                        "value": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 3
                                        }
                                    }
                                ],
                                "loc": [4, 569, 21, 578, 0]
                            },
                            {
                                "type": "constant",
                                "value": {
                                    "type": "literal",
                                    "kind": "string",
                                    "value": "slot"
                                },
                                "body": [
                                    {
                                        "type": "return",
                                        "value": {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "attr",
                                                "base": {
                                                    "type": "call",
                                                    "callee": {
                                                        "type": "slot",
                                                        "kind": "global",
                                                        "name": "inference_slot",
                                                        "loc": [
                                                            15,
                                                            580,
                                                            29,
                                                            580,
                                                            0
                                                        ]
                                                    },
                                                    "args": [
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 0
                                                        },
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 1
                                                        },
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 2
                                                        }
                                                    ],
                                                    "loc": [15, 580, 46, 580, 0]
                                                },
                                                "name": "get",
                                                "loc": [15, 580, 50, 580, 0]
                                            },
                                            "args": [],
                                            "loc": [15, 580, 52, 580, 0]
                                        }
                                    }
                                ],
                                "loc": [4, 579, 52, 580, 0]
                            },
                            {
                                "type": "constant",
                                "value": {
                                    "type": "literal",
                                    "kind": "string",
                                    "value": "call"
                                },
                                "body": [
                                    {
                                        "type": "assign",
                                        "slot": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 4
                                        },
                                        "value": {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "inference_expr",
                                                "loc": [17, 582, 31, 582, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "slot",
                                                    "kind": "item",
                                                    "base": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 0
                                                    },
                                                    "index": {
                                                        "type": "literal",
                                                        "kind": "string",
                                                        "value": "callee"
                                                    },
                                                    "loc": [32, 582, 43, 582, 0]
                                                },
                                                {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 1
                                                },
                                                {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 2
                                                }
                                            ],
                                            "loc": [17, 582, 58, 582, 0]
                                        }
                                    },
                                    {
                                        "type": "assign",
                                        "slot": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 5
                                        },
                                        "value": {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "fresh_state",
                                                "loc": [19, 583, 30, 583, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "call",
                                                    "callee": {
                                                        "type": "slot",
                                                        "kind": "global",
                                                        "name": "-expr",
                                                        "loc": [
                                                            31,
                                                            583,
                                                            33,
                                                            583,
                                                            0
                                                        ]
                                                    },
                                                    "args": [
                                                        {
                                                            "type": "literal",
                                                            "kind": "integer",
                                                            "value": "1"
                                                        }
                                                    ],
                                                    "loc": [31, 583, 33, 583, 0]
                                                }
                                            ],
                                            "loc": [19, 583, 34, 583, 0]
                                        }
                                    },
                                    {
                                        "type": "assign",
                                        "slot": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 6
                                        },
                                        "value": {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "fresh_operator",
                                                "loc": [18, 584, 32, 584, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 5
                                                },
                                                {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "call",
                                                    "loc": [43, 584, 47, 584, 0]
                                                },
                                                {
                                                    "type": "list",
                                                    "values": [
                                                        {
                                                            "type": "literal",
                                                            "kind": "integer",
                                                            "value": "0"
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "call",
                                                    "callee": {
                                                        "type": "slot",
                                                        "kind": "global",
                                                        "name": "+",
                                                        "loc": [
                                                            54,
                                                            584,
                                                            74,
                                                            584,
                                                            0
                                                        ]
                                                    },
                                                    "args": [
                                                        {
                                                            "type": "literal",
                                                            "kind": "integer",
                                                            "value": "1"
                                                        },
                                                        {
                                                            "type": "slot",
                                                            "kind": "attr",
                                                            "base": {
                                                                "type": "slot",
                                                                "kind": "item",
                                                                "base": {
                                                                    "type": "slot",
                                                                    "kind": "local",
                                                                    "index": 0
                                                                },
                                                                "index": {
                                                                    "type": "literal",
                                                                    "kind": "string",
                                                                    "value": "args"
                                                                },
                                                                "loc": [
                                                                    58,
                                                                    584,
                                                                    67,
                                                                    584,
                                                                    0
                                                                ]
                                                            },
                                                            "name": "length",
                                                            "loc": [
                                                                58,
                                                                584,
                                                                74,
                                                                584,
                                                                0
                                                            ]
                                                        }
                                                    ],
                                                    "loc": [54, 584, 74, 584, 0]
                                                }
                                            ],
                                            "loc": [18, 584, 75, 584, 0]
                                        }
                                    },
                                    {
                                        "type": "assign",
                                        "slot": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 7
                                        },
                                        "value": {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "fresh_port",
                                                "loc": [16, 586, 26, 586, 0]
                                            },
                                            "args": [],
                                            "loc": [16, 586, 28, 586, 0]
                                        }
                                    },
                                    {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "attr",
                                            "base": {
                                                "type": "slot",
                                                "kind": "attr",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "attr",
                                                    "base": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 7
                                                    },
                                                    "name": "input",
                                                    "loc": [8, 587, 19, 587, 0]
                                                },
                                                "name": "heads",
                                                "loc": [8, 587, 25, 587, 0]
                                            },
                                            "name": "add",
                                            "loc": [8, 587, 29, 587, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "call",
                                                "callee": {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "sink",
                                                    "loc": [30, 587, 34, 587, 0]
                                                },
                                                "args": [
                                                    {
                                                        "type": "literal",
                                                        "kind": "integer",
                                                        "value": "0"
                                                    },
                                                    {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 6
                                                    }
                                                ],
                                                "loc": [30, 587, 46, 587, 0]
                                            }
                                        ],
                                        "loc": [8, 587, 47, 587, 0]
                                    },
                                    {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "attr",
                                            "base": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 5
                                            },
                                            "name": "add_transition",
                                            "loc": [8, 589, 31, 589, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "call",
                                                "callee": {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "get_dom",
                                                    "loc": [32, 589, 39, 589, 0]
                                                },
                                                "args": [
                                                    {
                                                        "type": "literal",
                                                        "kind": "integer",
                                                        "value": "0"
                                                    }
                                                ],
                                                "loc": [32, 589, 42, 589, 0]
                                            },
                                            {
                                                "type": "slot",
                                                "kind": "attr",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 7
                                                },
                                                "name": "output",
                                                "loc": [44, 589, 56, 589, 0]
                                            }
                                        ],
                                        "loc": [8, 589, 57, 589, 0]
                                    },
                                    {
                                        "type": "assign",
                                        "slot": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 8
                                        },
                                        "value": {
                                            "type": "literal",
                                            "kind": "integer",
                                            "value": "1"
                                        }
                                    },
                                    {
                                        "type": "repeat",
                                        "fresh": [],
                                        "heads": [
                                            {
                                                "type": "for",
                                                "slot": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 9
                                                },
                                                "value": {
                                                    "type": "slot",
                                                    "kind": "item",
                                                    "base": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 0
                                                    },
                                                    "index": {
                                                        "type": "literal",
                                                        "kind": "string",
                                                        "value": "args"
                                                    },
                                                    "loc": [19, 591, 28, 591, 0]
                                                }
                                            }
                                        ],
                                        "body": [
                                            {
                                                "type": "assign",
                                                "slot": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 9
                                                },
                                                "value": {
                                                    "type": "call",
                                                    "callee": {
                                                        "type": "slot",
                                                        "kind": "global",
                                                        "name": "inference_expr",
                                                        "loc": [
                                                            18,
                                                            592,
                                                            32,
                                                            592,
                                                            0
                                                        ]
                                                    },
                                                    "args": [
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 9
                                                        },
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 1
                                                        },
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 2
                                                        }
                                                    ],
                                                    "loc": [18, 592, 51, 592, 0]
                                                }
                                            },
                                            {
                                                "type": "call",
                                                "callee": {
                                                    "type": "slot",
                                                    "kind": "attr",
                                                    "base": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 5
                                                    },
                                                    "name": "add_transition",
                                                    "loc": [12, 593, 35, 593, 0]
                                                },
                                                "args": [
                                                    {
                                                        "type": "call",
                                                        "callee": {
                                                            "type": "slot",
                                                            "kind": "global",
                                                            "name": "get_dom",
                                                            "loc": [
                                                                36,
                                                                593,
                                                                43,
                                                                593,
                                                                0
                                                            ]
                                                        },
                                                        "args": [
                                                            {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 8
                                                            }
                                                        ],
                                                        "loc": [
                                                            36,
                                                            593,
                                                            46,
                                                            593,
                                                            0
                                                        ]
                                                    },
                                                    {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 9
                                                    }
                                                ],
                                                "loc": [12, 593, 52, 593, 0]
                                            },
                                            {
                                                "type": "inplace_assign",
                                                "slot": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 8
                                                },
                                                "op": {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "+",
                                                    "loc": [12, 594, 18, 594, 0]
                                                },
                                                "value": {
                                                    "type": "literal",
                                                    "kind": "integer",
                                                    "value": "1"
                                                }
                                            }
                                        ]
                                    },
                                    {
                                        "type": "assign",
                                        "slot": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 3
                                        },
                                        "value": {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "fresh_port",
                                                "loc": [17, 595, 27, 595, 0]
                                            },
                                            "args": [],
                                            "loc": [17, 595, 29, 595, 0]
                                        }
                                    },
                                    {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "attr",
                                            "base": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 5
                                            },
                                            "name": "add_transition",
                                            "loc": [8, 596, 31, 596, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "cod",
                                                "loc": [32, 596, 35, 596, 0]
                                            },
                                            {
                                                "type": "slot",
                                                "kind": "attr",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 3
                                                },
                                                "name": "input",
                                                "loc": [37, 596, 49, 596, 0]
                                            }
                                        ],
                                        "loc": [8, 596, 50, 596, 0]
                                    },
                                    {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "biunify",
                                            "loc": [8, 597, 15, 597, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "make_tuple",
                                                "items": [
                                                    {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 4
                                                    },
                                                    {
                                                        "type": "slot",
                                                        "kind": "attr",
                                                        "base": {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 7
                                                        },
                                                        "name": "input",
                                                        "loc": [
                                                            25,
                                                            597,
                                                            36,
                                                            597,
                                                            0
                                                        ]
                                                    }
                                                ]
                                            },
                                            {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 2
                                            }
                                        ],
                                        "loc": [8, 597, 47, 597, 0]
                                    },
                                    {
                                        "type": "return",
                                        "value": {
                                            "type": "slot",
                                            "kind": "attr",
                                            "base": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 3
                                            },
                                            "name": "output",
                                            "loc": [15, 599, 28, 599, 0]
                                        }
                                    }
                                ],
                                "loc": [4, 581, 28, 599, 0]
                            }
                        ],
                        "default": [
                            {
                                "type": "call",
                                "callee": {
                                    "type": "slot",
                                    "kind": "global",
                                    "name": "print",
                                    "loc": [8, 601, 13, 601, 0]
                                },
                                "args": [
                                    {
                                        "type": "slot",
                                        "kind": "item",
                                        "base": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 0
                                        },
                                        "index": {
                                            "type": "literal",
                                            "kind": "string",
                                            "value": "type"
                                        },
                                        "loc": [14, 601, 23, 601, 0]
                                    },
                                    {
                                        "type": "literal",
                                        "kind": "string",
                                        "value": "missing"
                                    }
                                ],
                                "loc": [8, 601, 35, 601, 0]
                            },
                            {
                                "type": "assert",
                                "cond": {
                                    "type": "slot",
                                    "kind": "global",
                                    "name": "false",
                                    "loc": [15, 602, 20, 602, 0]
                                },
                                "value": {
                                    "type": "literal",
                                    "kind": "string",
                                    "value": "missing inference for expression"
                                },
                                "loc": [8, 602, 58, 602, 0]
                            }
                        ],
                        "loc": [4, 568, 58, 602, 0]
                    }
                ],
                "loc": [17, 567, 58, 602, 0]
            }
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "inference_slot",
                "loc": [0, 604, 14, 604, 0]
            },
            "value": {
                "type": "closure",
                "cellvars": [
                    {
                        "type": "cell",
                        "deref": true,
                        "name": "visited",
                        "defs": 1
                    },
                    {"type": "cell", "deref": true, "name": "port", "defs": 2},
                    {"type": "cell", "deref": true, "name": "name", "defs": 1}
                ],
                "localvars": [
                    {"type": "cell", "deref": false, "name": "a", "defs": 1},
                    {"type": "cell", "deref": false, "name": "env", "defs": 1},
                    {"type": "cell", "deref": false, "name": "key", "defs": 1}
                ],
                "frame": [],
                "args": [
                    {"slot": {"type": "slot", "kind": "local", "index": 0}},
                    {"slot": {"type": "slot", "kind": "local", "index": 1}},
                    {"slot": {"type": "slot", "kind": "cell", "index": 0}}
                ],
                "body": [
                    {
                        "type": "case",
                        "value": {
                            "type": "slot",
                            "kind": "item",
                            "base": {
                                "type": "slot",
                                "kind": "local",
                                "index": 0
                            },
                            "index": {
                                "type": "literal",
                                "kind": "string",
                                "value": "kind"
                            },
                            "loc": [9, 605, 18, 605, 0]
                        },
                        "cases": [
                            {
                                "type": "constant",
                                "value": {
                                    "type": "literal",
                                    "kind": "string",
                                    "value": "local"
                                },
                                "body": [
                                    {
                                        "type": "assign",
                                        "slot": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 2
                                        },
                                        "value": {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "++",
                                                "loc": [14, 607, 46, 607, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "literal",
                                                    "kind": "string",
                                                    "value": "local"
                                                },
                                                {
                                                    "type": "call",
                                                    "callee": {
                                                        "type": "slot",
                                                        "kind": "global",
                                                        "name": "stringify",
                                                        "loc": [
                                                            25,
                                                            607,
                                                            34,
                                                            607,
                                                            0
                                                        ]
                                                    },
                                                    "args": [
                                                        {
                                                            "type": "slot",
                                                            "kind": "item",
                                                            "base": {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 0
                                                            },
                                                            "index": {
                                                                "type": "literal",
                                                                "kind": "string",
                                                                "value": "index"
                                                            },
                                                            "loc": [
                                                                35,
                                                                607,
                                                                45,
                                                                607,
                                                                0
                                                            ]
                                                        }
                                                    ],
                                                    "loc": [25, 607, 46, 607, 0]
                                                }
                                            ],
                                            "loc": [14, 607, 46, 607, 0]
                                        }
                                    },
                                    {
                                        "type": "except",
                                        "body": [
                                            {
                                                "type": "assign",
                                                "slot": {
                                                    "type": "slot",
                                                    "kind": "cell",
                                                    "index": 1
                                                },
                                                "value": {
                                                    "type": "slot",
                                                    "kind": "item",
                                                    "base": {
                                                        "type": "slot",
                                                        "kind": "attr",
                                                        "base": {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 1
                                                        },
                                                        "name": "schemes",
                                                        "loc": [
                                                            15,
                                                            608,
                                                            26,
                                                            608,
                                                            0
                                                        ]
                                                    },
                                                    "index": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 2
                                                    },
                                                    "loc": [15, 608, 31, 608, 0]
                                                }
                                            }
                                        ],
                                        "excepts": [
                                            {
                                                "exc": {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "NoIndex",
                                                    "loc": [15, 609, 22, 609, 0]
                                                },
                                                "body": [
                                                    {
                                                        "type": "assign",
                                                        "slot": {
                                                            "type": "slot",
                                                            "kind": "cell",
                                                            "index": 1
                                                        },
                                                        "value": {
                                                            "type": "call",
                                                            "callee": {
                                                                "type": "slot",
                                                                "kind": "global",
                                                                "name": "fresh_free_port",
                                                                "loc": [
                                                                    19,
                                                                    610,
                                                                    34,
                                                                    610,
                                                                    0
                                                                ]
                                                            },
                                                            "args": [
                                                                {
                                                                    "type": "slot",
                                                                    "kind": "attr",
                                                                    "base": {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 1
                                                                    },
                                                                    "name": "free",
                                                                    "loc": [
                                                                        35,
                                                                        610,
                                                                        43,
                                                                        610,
                                                                        0
                                                                    ]
                                                                }
                                                            ],
                                                            "loc": [
                                                                19,
                                                                610,
                                                                44,
                                                                610,
                                                                0
                                                            ]
                                                        }
                                                    },
                                                    {
                                                        "type": "assign",
                                                        "slot": {
                                                            "type": "slot",
                                                            "kind": "item",
                                                            "base": {
                                                                "type": "slot",
                                                                "kind": "attr",
                                                                "base": {
                                                                    "type": "slot",
                                                                    "kind": "local",
                                                                    "index": 1
                                                                },
                                                                "name": "schemes",
                                                                "loc": [
                                                                    12,
                                                                    611,
                                                                    23,
                                                                    611,
                                                                    0
                                                                ]
                                                            },
                                                            "index": {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 2
                                                            },
                                                            "loc": [
                                                                12,
                                                                611,
                                                                28,
                                                                611,
                                                                0
                                                            ]
                                                        },
                                                        "value": {
                                                            "type": "slot",
                                                            "kind": "cell",
                                                            "index": 1
                                                        }
                                                    }
                                                ]
                                            }
                                        ],
                                        "loc": [8, 608, 35, 611, 0]
                                    },
                                    {
                                        "type": "return",
                                        "value": {
                                            "type": "record",
                                            "fields": [
                                                {
                                                    "name": "set",
                                                    "mutable": false,
                                                    "value": {
                                                        "type": "closure",
                                                        "cellvars": [
                                                            {
                                                                "type": "cell",
                                                                "deref": true,
                                                                "name": "port",
                                                                "defs": 2
                                                            },
                                                            {
                                                                "type": "cell",
                                                                "deref": true,
                                                                "name": "visited",
                                                                "defs": 1
                                                            }
                                                        ],
                                                        "localvars": [
                                                            {
                                                                "type": "cell",
                                                                "deref": false,
                                                                "name": "a",
                                                                "defs": 1
                                                            }
                                                        ],
                                                        "frame": [1, 0],
                                                        "args": [
                                                            {
                                                                "slot": {
                                                                    "type": "slot",
                                                                    "kind": "local",
                                                                    "index": 0
                                                                }
                                                            }
                                                        ],
                                                        "body": [
                                                            {
                                                                "type": "return",
                                                                "value": {
                                                                    "type": "call",
                                                                    "callee": {
                                                                        "type": "slot",
                                                                        "kind": "global",
                                                                        "name": "biunify",
                                                                        "loc": [
                                                                            23,
                                                                            613,
                                                                            30,
                                                                            613,
                                                                            0
                                                                        ]
                                                                    },
                                                                    "args": [
                                                                        {
                                                                            "type": "make_tuple",
                                                                            "items": [
                                                                                {
                                                                                    "type": "slot",
                                                                                    "kind": "local",
                                                                                    "index": 0
                                                                                },
                                                                                {
                                                                                    "type": "slot",
                                                                                    "kind": "attr",
                                                                                    "base": {
                                                                                        "type": "slot",
                                                                                        "kind": "cell",
                                                                                        "index": 0
                                                                                    },
                                                                                    "name": "input",
                                                                                    "loc": [
                                                                                        35,
                                                                                        613,
                                                                                        45,
                                                                                        613,
                                                                                        0
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "slot",
                                                                            "kind": "cell",
                                                                            "index": 1
                                                                        }
                                                                    ],
                                                                    "loc": [
                                                                        23,
                                                                        613,
                                                                        56,
                                                                        613,
                                                                        0
                                                                    ]
                                                                }
                                                            }
                                                        ],
                                                        "loc": [
                                                            18,
                                                            613,
                                                            56,
                                                            613,
                                                            0
                                                        ]
                                                    }
                                                },
                                                {
                                                    "name": "get",
                                                    "mutable": false,
                                                    "value": {
                                                        "type": "closure",
                                                        "cellvars": [
                                                            {
                                                                "type": "cell",
                                                                "deref": true,
                                                                "name": "port",
                                                                "defs": 2
                                                            }
                                                        ],
                                                        "localvars": [],
                                                        "frame": [1],
                                                        "args": [],
                                                        "body": [
                                                            {
                                                                "type": "return",
                                                                "value": {
                                                                    "type": "slot",
                                                                    "kind": "attr",
                                                                    "base": {
                                                                        "type": "slot",
                                                                        "kind": "cell",
                                                                        "index": 0
                                                                    },
                                                                    "name": "output",
                                                                    "loc": [
                                                                        29,
                                                                        614,
                                                                        40,
                                                                        614,
                                                                        0
                                                                    ]
                                                                }
                                                            }
                                                        ],
                                                        "loc": [
                                                            18,
                                                            614,
                                                            40,
                                                            614,
                                                            0
                                                        ]
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                ],
                                "loc": [4, 606, 43, 614, 0]
                            },
                            {
                                "type": "constant",
                                "value": {
                                    "type": "literal",
                                    "kind": "string",
                                    "value": "global"
                                },
                                "body": [
                                    {
                                        "type": "assign",
                                        "slot": {
                                            "type": "slot",
                                            "kind": "cell",
                                            "index": 2
                                        },
                                        "value": {
                                            "type": "slot",
                                            "kind": "item",
                                            "base": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 0
                                            },
                                            "index": {
                                                "type": "literal",
                                                "kind": "string",
                                                "value": "name"
                                            },
                                            "loc": [15, 616, 24, 616, 0]
                                        }
                                    },
                                    {
                                        "type": "return",
                                        "value": {
                                            "type": "record",
                                            "fields": [
                                                {
                                                    "name": "set",
                                                    "mutable": false,
                                                    "value": {
                                                        "type": "closure",
                                                        "cellvars": [],
                                                        "localvars": [
                                                            {
                                                                "type": "cell",
                                                                "deref": false,
                                                                "name": "a",
                                                                "defs": 1
                                                            }
                                                        ],
                                                        "frame": [],
                                                        "args": [
                                                            {
                                                                "slot": {
                                                                    "type": "slot",
                                                                    "kind": "local",
                                                                    "index": 0
                                                                }
                                                            }
                                                        ],
                                                        "body": [
                                                            {
                                                                "type": "assert",
                                                                "cond": {
                                                                    "type": "slot",
                                                                    "kind": "global",
                                                                    "name": "false",
                                                                    "loc": [
                                                                        30,
                                                                        618,
                                                                        35,
                                                                        618,
                                                                        0
                                                                    ]
                                                                },
                                                                "value": {
                                                                    "type": "literal",
                                                                    "kind": "string",
                                                                    "value": "not supported"
                                                                },
                                                                "loc": [
                                                                    23,
                                                                    618,
                                                                    54,
                                                                    618,
                                                                    0
                                                                ]
                                                            }
                                                        ],
                                                        "loc": [
                                                            18,
                                                            618,
                                                            54,
                                                            618,
                                                            0
                                                        ]
                                                    }
                                                },
                                                {
                                                    "name": "get",
                                                    "mutable": false,
                                                    "value": {
                                                        "type": "closure",
                                                        "cellvars": [
                                                            {
                                                                "type": "cell",
                                                                "deref": true,
                                                                "name": "name",
                                                                "defs": 1
                                                            }
                                                        ],
                                                        "localvars": [
                                                            {
                                                                "type": "cell",
                                                                "deref": false,
                                                                "name": "f",
                                                                "defs": 1
                                                            }
                                                        ],
                                                        "frame": [2],
                                                        "args": [],
                                                        "body": [
                                                            {
                                                                "type": "cond",
                                                                "cond": {
                                                                    "type": "cmp",
                                                                    "exprs": [
                                                                        {
                                                                            "type": "slot",
                                                                            "kind": "cell",
                                                                            "index": 0
                                                                        },
                                                                        {
                                                                            "type": "literal",
                                                                            "kind": "string",
                                                                            "value": "+"
                                                                        }
                                                                    ],
                                                                    "ops": [
                                                                        {
                                                                            "type": "slot",
                                                                            "kind": "global",
                                                                            "name": "==",
                                                                            "loc": [
                                                                                19,
                                                                                620,
                                                                                30,
                                                                                620,
                                                                                0
                                                                            ]
                                                                        }
                                                                    ],
                                                                    "loc": [
                                                                        19,
                                                                        620,
                                                                        30,
                                                                        620,
                                                                        0
                                                                    ]
                                                                },
                                                                "tbody": [
                                                                    {
                                                                        "type": "assign",
                                                                        "slot": {
                                                                            "type": "slot",
                                                                            "kind": "local",
                                                                            "index": 0
                                                                        },
                                                                        "value": {
                                                                            "type": "call",
                                                                            "callee": {
                                                                                "type": "slot",
                                                                                "kind": "global",
                                                                                "name": "fresh_state",
                                                                                "loc": [
                                                                                    24,
                                                                                    621,
                                                                                    35,
                                                                                    621,
                                                                                    0
                                                                                ]
                                                                            },
                                                                            "args": [
                                                                                {
                                                                                    "type": "call",
                                                                                    "callee": {
                                                                                        "type": "slot",
                                                                                        "kind": "global",
                                                                                        "name": "+expr",
                                                                                        "loc": [
                                                                                            36,
                                                                                            621,
                                                                                            38,
                                                                                            621,
                                                                                            0
                                                                                        ]
                                                                                    },
                                                                                    "args": [
                                                                                        {
                                                                                            "type": "literal",
                                                                                            "kind": "integer",
                                                                                            "value": "1"
                                                                                        }
                                                                                    ],
                                                                                    "loc": [
                                                                                        36,
                                                                                        621,
                                                                                        38,
                                                                                        621,
                                                                                        0
                                                                                    ]
                                                                                }
                                                                            ],
                                                                            "loc": [
                                                                                24,
                                                                                621,
                                                                                39,
                                                                                621,
                                                                                0
                                                                            ]
                                                                        }
                                                                    },
                                                                    {
                                                                        "type": "call",
                                                                        "callee": {
                                                                            "type": "slot",
                                                                            "kind": "attr",
                                                                            "base": {
                                                                                "type": "slot",
                                                                                "kind": "attr",
                                                                                "base": {
                                                                                    "type": "slot",
                                                                                    "kind": "local",
                                                                                    "index": 0
                                                                                },
                                                                                "name": "heads",
                                                                                "loc": [
                                                                                    20,
                                                                                    622,
                                                                                    27,
                                                                                    622,
                                                                                    0
                                                                                ]
                                                                            },
                                                                            "name": "add",
                                                                            "loc": [
                                                                                20,
                                                                                622,
                                                                                31,
                                                                                622,
                                                                                0
                                                                            ]
                                                                        },
                                                                        "args": [
                                                                            {
                                                                                "type": "call",
                                                                                "callee": {
                                                                                    "type": "slot",
                                                                                    "kind": "global",
                                                                                    "name": "faucet",
                                                                                    "loc": [
                                                                                        32,
                                                                                        622,
                                                                                        38,
                                                                                        622,
                                                                                        0
                                                                                    ]
                                                                                },
                                                                                "args": [
                                                                                    {
                                                                                        "type": "call",
                                                                                        "callee": {
                                                                                            "type": "slot",
                                                                                            "kind": "global",
                                                                                            "name": "face",
                                                                                            "loc": [
                                                                                                39,
                                                                                                622,
                                                                                                43,
                                                                                                622,
                                                                                                0
                                                                                            ]
                                                                                        },
                                                                                        "args": [
                                                                                            {
                                                                                                "type": "slot",
                                                                                                "kind": "global",
                                                                                                "name": "+",
                                                                                                "loc": [
                                                                                                    45,
                                                                                                    622,
                                                                                                    46,
                                                                                                    622,
                                                                                                    0
                                                                                                ]
                                                                                            }
                                                                                        ],
                                                                                        "loc": [
                                                                                            39,
                                                                                            622,
                                                                                            48,
                                                                                            622,
                                                                                            0
                                                                                        ]
                                                                                    }
                                                                                ],
                                                                                "loc": [
                                                                                    32,
                                                                                    622,
                                                                                    49,
                                                                                    622,
                                                                                    0
                                                                                ]
                                                                            }
                                                                        ],
                                                                        "loc": [
                                                                            20,
                                                                            622,
                                                                            50,
                                                                            622,
                                                                            0
                                                                        ]
                                                                    },
                                                                    {
                                                                        "type": "return",
                                                                        "value": {
                                                                            "type": "slot",
                                                                            "kind": "local",
                                                                            "index": 0
                                                                        }
                                                                    }
                                                                ],
                                                                "fbody": [],
                                                                "loc": [
                                                                    16,
                                                                    620,
                                                                    28,
                                                                    623,
                                                                    0
                                                                ]
                                                            },
                                                            {
                                                                "type": "assert",
                                                                "cond": {
                                                                    "type": "slot",
                                                                    "kind": "global",
                                                                    "name": "false",
                                                                    "loc": [
                                                                        23,
                                                                        624,
                                                                        28,
                                                                        624,
                                                                        0
                                                                    ]
                                                                },
                                                                "value": {
                                                                    "type": "literal",
                                                                    "kind": "string",
                                                                    "value": "not supported"
                                                                },
                                                                "loc": [
                                                                    16,
                                                                    624,
                                                                    47,
                                                                    624,
                                                                    0
                                                                ]
                                                            }
                                                        ],
                                                        "loc": [
                                                            18,
                                                            619,
                                                            47,
                                                            624,
                                                            0
                                                        ]
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                ],
                                "loc": [4, 615, 13, 625, 0]
                            }
                        ],
                        "default": [
                            {
                                "type": "call",
                                "callee": {
                                    "type": "slot",
                                    "kind": "global",
                                    "name": "print",
                                    "loc": [8, 627, 13, 627, 0]
                                },
                                "args": [
                                    {
                                        "type": "slot",
                                        "kind": "item",
                                        "base": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 0
                                        },
                                        "index": {
                                            "type": "literal",
                                            "kind": "string",
                                            "value": "kind"
                                        },
                                        "loc": [14, 627, 23, 627, 0]
                                    },
                                    {
                                        "type": "literal",
                                        "kind": "string",
                                        "value": "missing"
                                    }
                                ],
                                "loc": [8, 627, 35, 627, 0]
                            },
                            {
                                "type": "assert",
                                "cond": {
                                    "type": "slot",
                                    "kind": "global",
                                    "name": "false",
                                    "loc": [15, 628, 20, 628, 0]
                                },
                                "value": {
                                    "type": "literal",
                                    "kind": "string",
                                    "value": "missing inference for expression"
                                },
                                "loc": [8, 628, 58, 628, 0]
                            }
                        ],
                        "loc": [4, 605, 58, 628, 0]
                    }
                ],
                "loc": [17, 604, 58, 628, 0]
            }
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "foo",
                "loc": [0, 632, 3, 632, 0]
            },
            "value": {
                "type": "closure",
                "cellvars": [],
                "localvars": [],
                "frame": [],
                "args": [],
                "body": [
                    {
                        "type": "return",
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "global",
                                "name": "+",
                                "loc": [11, 633, 16, 633, 0]
                            },
                            "args": [
                                {
                                    "type": "literal",
                                    "kind": "integer",
                                    "value": "1"
                                },
                                {
                                    "type": "literal",
                                    "kind": "integer",
                                    "value": "5"
                                }
                            ],
                            "loc": [11, 633, 16, 633, 0]
                        }
                    }
                ],
                "loc": [6, 632, 16, 633, 0]
            }
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "env",
                "loc": [0, 635, 3, 635, 0]
            },
            "value": {
                "type": "call",
                "callee": {
                    "type": "slot",
                    "kind": "global",
                    "name": "environ",
                    "loc": [6, 635, 13, 635, 0]
                },
                "args": [
                    {
                        "type": "call",
                        "callee": {
                            "type": "slot",
                            "kind": "global",
                            "name": "dict",
                            "loc": [14, 635, 18, 635, 0]
                        },
                        "args": [],
                        "loc": [14, 635, 20, 635, 0]
                    },
                    {
                        "type": "call",
                        "callee": {
                            "type": "slot",
                            "kind": "global",
                            "name": "dict",
                            "loc": [22, 635, 26, 635, 0]
                        },
                        "args": [],
                        "loc": [22, 635, 28, 635, 0]
                    },
                    {
                        "type": "slot",
                        "kind": "global",
                        "name": "environ_end",
                        "loc": [30, 635, 41, 635, 0]
                    },
                    {
                        "type": "call",
                        "callee": {
                            "type": "slot",
                            "kind": "global",
                            "name": "set",
                            "loc": [43, 635, 46, 635, 0]
                        },
                        "args": [],
                        "loc": [43, 635, 48, 635, 0]
                    }
                ],
                "loc": [6, 635, 49, 635, 0]
            }
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "visited",
                "loc": [0, 636, 7, 636, 0]
            },
            "value": {
                "type": "call",
                "callee": {
                    "type": "slot",
                    "kind": "global",
                    "name": "set",
                    "loc": [10, 636, 13, 636, 0]
                },
                "args": [],
                "loc": [10, 636, 15, 636, 0]
            }
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "out",
                "loc": [0, 638, 3, 638, 0]
            },
            "value": {
                "type": "call",
                "callee": {
                    "type": "slot",
                    "kind": "global",
                    "name": "inference_function",
                    "loc": [6, 638, 24, 638, 0]
                },
                "args": [
                    {
                        "type": "slot",
                        "kind": "global",
                        "name": "foo",
                        "loc": [25, 638, 28, 638, 0]
                    },
                    {
                        "type": "slot",
                        "kind": "global",
                        "name": "env",
                        "loc": [30, 638, 33, 638, 0]
                    },
                    {
                        "type": "slot",
                        "kind": "global",
                        "name": "visited",
                        "loc": [35, 638, 42, 638, 0]
                    }
                ],
                "loc": [6, 638, 43, 638, 0]
            }
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "out_scheme",
                "loc": [0, 639, 10, 639, 0]
            },
            "value": {
                "type": "call",
                "callee": {
                    "type": "slot",
                    "kind": "global",
                    "name": "generalize",
                    "loc": [13, 639, 23, 639, 0]
                },
                "args": [
                    {
                        "type": "slot",
                        "kind": "global",
                        "name": "out",
                        "loc": [24, 639, 27, 639, 0]
                    },
                    {
                        "type": "slot",
                        "kind": "global",
                        "name": "env",
                        "loc": [29, 639, 32, 639, 0]
                    }
                ],
                "loc": [13, 639, 33, 639, 0]
            }
        },
        {
            "type": "call",
            "callee": {
                "type": "slot",
                "kind": "global",
                "name": "print",
                "loc": [0, 640, 5, 640, 0]
            },
            "args": [
                {
                    "type": "call",
                    "callee": {
                        "type": "slot",
                        "kind": "global",
                        "name": "to_raw_type",
                        "loc": [6, 640, 17, 640, 0]
                    },
                    "args": [
                        {
                            "type": "slot",
                            "kind": "global",
                            "name": "out_scheme",
                            "loc": [18, 640, 28, 640, 0]
                        }
                    ],
                    "loc": [6, 640, 29, 640, 0]
                }
            ],
            "loc": [0, 640, 30, 640, 0]
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "test1",
                "loc": [0, 673, 5, 673, 0]
            },
            "value": {
                "type": "call",
                "callee": {
                    "type": "slot",
                    "kind": "global",
                    "name": "fresh_state",
                    "loc": [8, 673, 19, 673, 0]
                },
                "args": [
                    {
                        "type": "call",
                        "callee": {
                            "type": "slot",
                            "kind": "global",
                            "name": "+expr",
                            "loc": [20, 673, 22, 673, 0]
                        },
                        "args": [
                            {"type": "literal", "kind": "integer", "value": "1"}
                        ],
                        "loc": [20, 673, 22, 673, 0]
                    }
                ],
                "loc": [8, 673, 23, 673, 0]
            }
        },
        {
            "type": "call",
            "callee": {
                "type": "slot",
                "kind": "attr",
                "base": {
                    "type": "slot",
                    "kind": "attr",
                    "base": {
                        "type": "slot",
                        "kind": "global",
                        "name": "test1",
                        "loc": [0, 674, 5, 674, 0]
                    },
                    "name": "heads",
                    "loc": [0, 674, 11, 674, 0]
                },
                "name": "add",
                "loc": [0, 674, 15, 674, 0]
            },
            "args": [
                {
                    "type": "call",
                    "callee": {
                        "type": "slot",
                        "kind": "global",
                        "name": "faucet",
                        "loc": [16, 674, 22, 674, 0]
                    },
                    "args": [
                        {
                            "type": "slot",
                            "kind": "global",
                            "name": "Integer",
                            "loc": [23, 674, 30, 674, 0]
                        }
                    ],
                    "loc": [16, 674, 31, 674, 0]
                }
            ],
            "loc": [0, 674, 32, 674, 0]
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "test1_scheme",
                "loc": [0, 675, 12, 675, 0]
            },
            "value": {
                "type": "record",
                "fields": [
                    {
                        "name": "generic",
                        "mutable": false,
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "global",
                                "name": "set",
                                "loc": [13, 676, 16, 676, 0]
                            },
                            "args": [
                                {
                                    "type": "list",
                                    "values": [
                                        {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "test1",
                                            "loc": [18, 676, 23, 676, 0]
                                        }
                                    ]
                                }
                            ],
                            "loc": [13, 676, 25, 676, 0]
                        }
                    },
                    {
                        "name": "root",
                        "mutable": false,
                        "value": {
                            "type": "slot",
                            "kind": "global",
                            "name": "test1",
                            "loc": [13, 677, 18, 677, 0]
                        }
                    }
                ]
            }
        },
        {
            "type": "call",
            "callee": {
                "type": "slot",
                "kind": "global",
                "name": "print",
                "loc": [0, 678, 5, 678, 0]
            },
            "args": [
                {
                    "type": "call",
                    "callee": {
                        "type": "slot",
                        "kind": "global",
                        "name": "to_raw_type",
                        "loc": [6, 678, 17, 678, 0]
                    },
                    "args": [
                        {
                            "type": "slot",
                            "kind": "global",
                            "name": "test1_scheme",
                            "loc": [18, 678, 30, 678, 0]
                        }
                    ],
                    "loc": [6, 678, 31, 678, 0]
                }
            ],
            "loc": [0, 678, 32, 678, 0]
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "test2_generic",
                "loc": [0, 680, 13, 680, 0]
            },
            "value": {
                "type": "call",
                "callee": {
                    "type": "slot",
                    "kind": "global",
                    "name": "set",
                    "loc": [16, 680, 19, 680, 0]
                },
                "args": [],
                "loc": [16, 680, 21, 680, 0]
            }
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "test2",
                "loc": [0, 681, 5, 681, 0]
            },
            "value": {
                "type": "call",
                "callee": {
                    "type": "slot",
                    "kind": "global",
                    "name": "fresh_state",
                    "loc": [8, 681, 19, 681, 0]
                },
                "args": [
                    {
                        "type": "call",
                        "callee": {
                            "type": "slot",
                            "kind": "global",
                            "name": "+expr",
                            "loc": [20, 681, 22, 681, 0]
                        },
                        "args": [
                            {"type": "literal", "kind": "integer", "value": "1"}
                        ],
                        "loc": [20, 681, 22, 681, 0]
                    }
                ],
                "loc": [8, 681, 23, 681, 0]
            }
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "fn",
                "loc": [0, 682, 2, 682, 0]
            },
            "value": {
                "type": "call",
                "callee": {
                    "type": "slot",
                    "kind": "global",
                    "name": "face",
                    "loc": [5, 682, 9, 682, 0]
                },
                "args": [
                    {
                        "type": "slot",
                        "kind": "global",
                        "name": "greedy_biclique_decomposition",
                        "loc": [10, 682, 39, 682, 0]
                    }
                ],
                "loc": [5, 682, 40, 682, 0]
            }
        },
        {
            "type": "call",
            "callee": {
                "type": "slot",
                "kind": "attr",
                "base": {
                    "type": "slot",
                    "kind": "attr",
                    "base": {
                        "type": "slot",
                        "kind": "global",
                        "name": "test2",
                        "loc": [0, 683, 5, 683, 0]
                    },
                    "name": "heads",
                    "loc": [0, 683, 11, 683, 0]
                },
                "name": "add",
                "loc": [0, 683, 15, 683, 0]
            },
            "args": [
                {
                    "type": "call",
                    "callee": {
                        "type": "slot",
                        "kind": "global",
                        "name": "faucet",
                        "loc": [16, 683, 22, 683, 0]
                    },
                    "args": [
                        {
                            "type": "slot",
                            "kind": "global",
                            "name": "fn",
                            "loc": [23, 683, 25, 683, 0]
                        }
                    ],
                    "loc": [16, 683, 26, 683, 0]
                }
            ],
            "loc": [0, 683, 27, 683, 0]
        },
        {
            "type": "repeat",
            "fresh": [],
            "heads": [
                {
                    "type": "for",
                    "slot": {"type": "slot", "kind": "local", "index": 0},
                    "value": {
                        "type": "call",
                        "callee": {
                            "type": "slot",
                            "kind": "attr",
                            "base": {
                                "type": "slot",
                                "kind": "global",
                                "name": "fn",
                                "loc": [13, 684, 15, 684, 0]
                            },
                            "name": "params",
                            "loc": [13, 684, 22, 684, 0]
                        },
                        "args": [],
                        "loc": [13, 684, 24, 684, 0]
                    }
                }
            ],
            "body": [
                {
                    "type": "assign",
                    "slot": {"type": "slot", "kind": "local", "index": 1},
                    "value": {
                        "type": "call",
                        "callee": {
                            "type": "slot",
                            "kind": "global",
                            "name": "fresh_state",
                            "loc": [9, 685, 20, 685, 0]
                        },
                        "args": [
                            {
                                "type": "slot",
                                "kind": "attr",
                                "base": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 0
                                },
                                "name": "pol",
                                "loc": [21, 685, 30, 685, 0]
                            }
                        ],
                        "loc": [9, 685, 31, 685, 0]
                    }
                },
                {
                    "type": "call",
                    "callee": {
                        "type": "slot",
                        "kind": "attr",
                        "base": {
                            "type": "slot",
                            "kind": "global",
                            "name": "test2",
                            "loc": [4, 686, 9, 686, 0]
                        },
                        "name": "add_transition",
                        "loc": [4, 686, 24, 686, 0]
                    },
                    "args": [
                        {"type": "slot", "kind": "local", "index": 0},
                        {"type": "slot", "kind": "local", "index": 1}
                    ],
                    "loc": [4, 686, 35, 686, 0]
                },
                {
                    "type": "call",
                    "callee": {
                        "type": "slot",
                        "kind": "attr",
                        "base": {
                            "type": "slot",
                            "kind": "global",
                            "name": "test2_generic",
                            "loc": [4, 687, 17, 687, 0]
                        },
                        "name": "add",
                        "loc": [4, 687, 21, 687, 0]
                    },
                    "args": [{"type": "slot", "kind": "local", "index": 1}],
                    "loc": [4, 687, 25, 687, 0]
                }
            ]
        },
        {
            "type": "call",
            "callee": {
                "type": "slot",
                "kind": "attr",
                "base": {
                    "type": "slot",
                    "kind": "global",
                    "name": "test2_generic",
                    "loc": [0, 688, 13, 688, 0]
                },
                "name": "add",
                "loc": [0, 688, 17, 688, 0]
            },
            "args": [
                {
                    "type": "slot",
                    "kind": "global",
                    "name": "test2",
                    "loc": [18, 688, 23, 688, 0]
                }
            ],
            "loc": [0, 688, 24, 688, 0]
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "test2_scheme",
                "loc": [0, 689, 12, 689, 0]
            },
            "value": {
                "type": "record",
                "fields": [
                    {
                        "name": "generic",
                        "mutable": false,
                        "value": {
                            "type": "slot",
                            "kind": "global",
                            "name": "test2_generic",
                            "loc": [13, 690, 26, 690, 0]
                        }
                    },
                    {
                        "name": "root",
                        "mutable": false,
                        "value": {
                            "type": "slot",
                            "kind": "global",
                            "name": "test2",
                            "loc": [13, 691, 18, 691, 0]
                        }
                    }
                ]
            }
        },
        {
            "type": "call",
            "callee": {
                "type": "slot",
                "kind": "global",
                "name": "print",
                "loc": [0, 692, 5, 692, 0]
            },
            "args": [
                {
                    "type": "call",
                    "callee": {
                        "type": "slot",
                        "kind": "global",
                        "name": "to_raw_type",
                        "loc": [6, 692, 17, 692, 0]
                    },
                    "args": [
                        {
                            "type": "slot",
                            "kind": "global",
                            "name": "test2_scheme",
                            "loc": [18, 692, 30, 692, 0]
                        }
                    ],
                    "loc": [6, 692, 31, 692, 0]
                }
            ],
            "loc": [0, 692, 32, 692, 0]
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "test3_generic",
                "loc": [0, 694, 13, 694, 0]
            },
            "value": {
                "type": "call",
                "callee": {
                    "type": "slot",
                    "kind": "global",
                    "name": "set",
                    "loc": [16, 694, 19, 694, 0]
                },
                "args": [],
                "loc": [16, 694, 21, 694, 0]
            }
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "test3",
                "loc": [0, 695, 5, 695, 0]
            },
            "value": {
                "type": "call",
                "callee": {
                    "type": "slot",
                    "kind": "global",
                    "name": "fresh_state",
                    "loc": [8, 695, 19, 695, 0]
                },
                "args": [
                    {
                        "type": "call",
                        "callee": {
                            "type": "slot",
                            "kind": "global",
                            "name": "+expr",
                            "loc": [20, 695, 22, 695, 0]
                        },
                        "args": [
                            {"type": "literal", "kind": "integer", "value": "1"}
                        ],
                        "loc": [20, 695, 22, 695, 0]
                    }
                ],
                "loc": [8, 695, 23, 695, 0]
            }
        },
        {
            "type": "call",
            "callee": {
                "type": "slot",
                "kind": "attr",
                "base": {
                    "type": "slot",
                    "kind": "attr",
                    "base": {
                        "type": "slot",
                        "kind": "global",
                        "name": "test3",
                        "loc": [0, 696, 5, 696, 0]
                    },
                    "name": "heads",
                    "loc": [0, 696, 11, 696, 0]
                },
                "name": "add",
                "loc": [0, 696, 15, 696, 0]
            },
            "args": [
                {
                    "type": "call",
                    "callee": {
                        "type": "slot",
                        "kind": "global",
                        "name": "faucet",
                        "loc": [16, 696, 22, 696, 0]
                    },
                    "args": [
                        {
                            "type": "slot",
                            "kind": "global",
                            "name": "List",
                            "loc": [23, 696, 27, 696, 0]
                        }
                    ],
                    "loc": [16, 696, 28, 696, 0]
                }
            ],
            "loc": [0, 696, 29, 696, 0]
        },
        {
            "type": "repeat",
            "fresh": [],
            "heads": [
                {
                    "type": "for",
                    "slot": {"type": "slot", "kind": "local", "index": 2},
                    "value": {
                        "type": "call",
                        "callee": {
                            "type": "slot",
                            "kind": "attr",
                            "base": {
                                "type": "slot",
                                "kind": "global",
                                "name": "List",
                                "loc": [13, 697, 17, 697, 0]
                            },
                            "name": "params",
                            "loc": [13, 697, 24, 697, 0]
                        },
                        "args": [],
                        "loc": [13, 697, 26, 697, 0]
                    }
                }
            ],
            "body": [
                {
                    "type": "assign",
                    "slot": {"type": "slot", "kind": "local", "index": 3},
                    "value": {
                        "type": "call",
                        "callee": {
                            "type": "slot",
                            "kind": "global",
                            "name": "fresh_state",
                            "loc": [9, 698, 20, 698, 0]
                        },
                        "args": [
                            {
                                "type": "slot",
                                "kind": "attr",
                                "base": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 2
                                },
                                "name": "pol",
                                "loc": [21, 698, 30, 698, 0]
                            }
                        ],
                        "loc": [9, 698, 31, 698, 0]
                    }
                },
                {
                    "type": "call",
                    "callee": {
                        "type": "slot",
                        "kind": "attr",
                        "base": {
                            "type": "slot",
                            "kind": "global",
                            "name": "test3",
                            "loc": [4, 699, 9, 699, 0]
                        },
                        "name": "add_transition",
                        "loc": [4, 699, 24, 699, 0]
                    },
                    "args": [
                        {"type": "slot", "kind": "local", "index": 2},
                        {"type": "slot", "kind": "local", "index": 3}
                    ],
                    "loc": [4, 699, 35, 699, 0]
                },
                {
                    "type": "call",
                    "callee": {
                        "type": "slot",
                        "kind": "attr",
                        "base": {
                            "type": "slot",
                            "kind": "global",
                            "name": "test3_generic",
                            "loc": [4, 700, 17, 700, 0]
                        },
                        "name": "add",
                        "loc": [4, 700, 21, 700, 0]
                    },
                    "args": [{"type": "slot", "kind": "local", "index": 3}],
                    "loc": [4, 700, 25, 700, 0]
                }
            ]
        },
        {
            "type": "call",
            "callee": {
                "type": "slot",
                "kind": "attr",
                "base": {
                    "type": "slot",
                    "kind": "global",
                    "name": "test3_generic",
                    "loc": [0, 701, 13, 701, 0]
                },
                "name": "add",
                "loc": [0, 701, 17, 701, 0]
            },
            "args": [
                {
                    "type": "slot",
                    "kind": "global",
                    "name": "test3",
                    "loc": [18, 701, 23, 701, 0]
                }
            ],
            "loc": [0, 701, 24, 701, 0]
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "test3_scheme",
                "loc": [0, 702, 12, 702, 0]
            },
            "value": {
                "type": "record",
                "fields": [
                    {
                        "name": "generic",
                        "mutable": false,
                        "value": {
                            "type": "slot",
                            "kind": "global",
                            "name": "test3_generic",
                            "loc": [13, 703, 26, 703, 0]
                        }
                    },
                    {
                        "name": "root",
                        "mutable": false,
                        "value": {
                            "type": "slot",
                            "kind": "global",
                            "name": "test3",
                            "loc": [13, 704, 18, 704, 0]
                        }
                    }
                ]
            }
        },
        {
            "type": "call",
            "callee": {
                "type": "slot",
                "kind": "global",
                "name": "print",
                "loc": [0, 705, 5, 705, 0]
            },
            "args": [
                {
                    "type": "call",
                    "callee": {
                        "type": "slot",
                        "kind": "global",
                        "name": "to_raw_type",
                        "loc": [6, 705, 17, 705, 0]
                    },
                    "args": [
                        {
                            "type": "slot",
                            "kind": "global",
                            "name": "test3_scheme",
                            "loc": [18, 705, 30, 705, 0]
                        }
                    ],
                    "loc": [6, 705, 31, 705, 0]
                }
            ],
            "loc": [0, 705, 32, 705, 0]
        }
    ],
    "sources": ["intro.lc"]
}
