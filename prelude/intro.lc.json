{
    "type": "script",
    "cellvars": [],
    "localvars": [
        {"type": "cell", "deref": false, "name": "param", "defs": 1},
        {"type": "cell", "deref": false, "name": "st", "defs": 1},
        {"type": "cell", "deref": false, "name": "param", "defs": 1},
        {"type": "cell", "deref": false, "name": "st", "defs": 1}
    ],
    "body": [
        {
            "type": "bind",
            "module": {
                "type": "call",
                "callee": {
                    "type": "slot",
                    "kind": "global",
                    "name": "import",
                    "loc": [0, 1, 33, 2, 0]
                },
                "args": [
                    {
                        "type": "literal",
                        "kind": "string",
                        "value": "graph_utils"
                    }
                ],
                "loc": [0, 1, 33, 2, 0]
            },
            "bindings": {
                "greedy_biclique_decomposition": "greedy_biclique_decomposition"
            },
            "loc": [0, 1, 33, 2, 0]
        },
        {
            "type": "datatype",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "State",
                "loc": [9, 7, 14, 7, 0]
            },
            "varc": 2,
            "rows": [
                [
                    {
                        "type": "slot",
                        "kind": "global",
                        "name": "state",
                        "loc": [24, 7, 29, 7, 0]
                    },
                    4,
                    {"pol": 0, "heads": 1, "flow": 2, "transitions": 3},
                    {
                        "type": "closure",
                        "cellvars": [],
                        "localvars": [
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "op",
                                "defs": 1
                            },
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "a",
                                "defs": 1
                            }
                        ],
                        "frame": [],
                        "args": [
                            {
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 0
                                }
                            },
                            {
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 1
                                }
                            }
                        ],
                        "body": [
                            {
                                "type": "return",
                                "value": {
                                    "type": "make_tuple",
                                    "items": [
                                        {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "Integer",
                                            "loc": [17, 8, 24, 8, 0]
                                        },
                                        {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "Set",
                                                "loc": [17, 9, 20, 9, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "call",
                                                    "callee": {
                                                        "type": "slot",
                                                        "kind": "global",
                                                        "name": "Sink",
                                                        "loc": [21, 9, 25, 9, 0]
                                                    },
                                                    "args": [
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 0
                                                        },
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 1
                                                        }
                                                    ],
                                                    "loc": [21, 9, 32, 9, 0]
                                                }
                                            ],
                                            "loc": [17, 9, 33, 9, 0]
                                        },
                                        {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "Set",
                                                "loc": [17, 10, 20, 10, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "call",
                                                    "callee": {
                                                        "type": "slot",
                                                        "kind": "global",
                                                        "name": "State",
                                                        "loc": [
                                                            21,
                                                            10,
                                                            26,
                                                            10,
                                                            0
                                                        ]
                                                    },
                                                    "args": [
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 0
                                                        },
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 1
                                                        }
                                                    ],
                                                    "loc": [21, 10, 33, 10, 0]
                                                }
                                            ],
                                            "loc": [17, 10, 34, 10, 0]
                                        },
                                        {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "Dict",
                                                "loc": [17, 11, 21, 11, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "Parameter",
                                                    "loc": [22, 11, 31, 11, 0]
                                                },
                                                {
                                                    "type": "call",
                                                    "callee": {
                                                        "type": "slot",
                                                        "kind": "global",
                                                        "name": "State",
                                                        "loc": [
                                                            33,
                                                            11,
                                                            38,
                                                            11,
                                                            0
                                                        ]
                                                    },
                                                    "args": [
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 0
                                                        },
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 1
                                                        }
                                                    ],
                                                    "loc": [33, 11, 45, 11, 0]
                                                }
                                            ],
                                            "loc": [17, 11, 46, 11, 0]
                                        }
                                    ]
                                }
                            }
                        ],
                        "loc": [0, 7, 50, 24, 0]
                    }
                ]
            ],
            "decls": [
                {
                    "type": "derived",
                    "ops": [
                        {
                            "type": "slot",
                            "kind": "global",
                            "name": "hash",
                            "loc": [7, 12, 11, 12, 0]
                        },
                        {
                            "type": "slot",
                            "kind": "global",
                            "name": "==",
                            "loc": [14, 12, 16, 12, 0]
                        }
                    ],
                    "value": {
                        "type": "slot",
                        "kind": "global",
                        "name": "by_reference",
                        "loc": [19, 12, 31, 12, 0]
                    }
                },
                {
                    "type": "attr_method",
                    "name": "add_flow",
                    "value": {
                        "type": "closure",
                        "cellvars": [],
                        "localvars": [
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "self",
                                "defs": 1
                            },
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "other",
                                "defs": 1
                            }
                        ],
                        "frame": [],
                        "args": [
                            {
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 0
                                }
                            },
                            {
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 1
                                }
                            }
                        ],
                        "body": [
                            {
                                "type": "assert",
                                "cond": {
                                    "type": "cmp",
                                    "exprs": [
                                        {
                                            "type": "slot",
                                            "kind": "attr",
                                            "base": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 0
                                            },
                                            "name": "pol",
                                            "loc": [11, 14, 19, 14, 0]
                                        },
                                        {
                                            "type": "slot",
                                            "kind": "attr",
                                            "base": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 1
                                            },
                                            "name": "pol",
                                            "loc": [23, 14, 32, 14, 0]
                                        }
                                    ],
                                    "ops": [
                                        {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "!=",
                                            "loc": [11, 14, 32, 14, 0]
                                        }
                                    ],
                                    "loc": [11, 14, 32, 14, 0]
                                },
                                "value": {
                                    "type": "literal",
                                    "kind": "string",
                                    "value": "polarity conflict"
                                },
                                "loc": [4, 14, 55, 14, 0]
                            },
                            {
                                "type": "call",
                                "callee": {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "attr",
                                        "base": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 0
                                        },
                                        "name": "flow",
                                        "loc": [4, 15, 13, 15, 0]
                                    },
                                    "name": "add",
                                    "loc": [4, 15, 17, 15, 0]
                                },
                                "args": [
                                    {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 1
                                    }
                                ],
                                "loc": [4, 15, 24, 15, 0]
                            },
                            {
                                "type": "call",
                                "callee": {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "attr",
                                        "base": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 1
                                        },
                                        "name": "flow",
                                        "loc": [4, 16, 14, 16, 0]
                                    },
                                    "name": "add",
                                    "loc": [4, 16, 18, 16, 0]
                                },
                                "args": [
                                    {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 0
                                    }
                                ],
                                "loc": [4, 16, 24, 16, 0]
                            }
                        ],
                        "loc": [28, 13, 24, 16, 0]
                    }
                },
                {
                    "type": "attr_method",
                    "name": "add_transition",
                    "value": {
                        "type": "closure",
                        "cellvars": [],
                        "localvars": [
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "self",
                                "defs": 1
                            },
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "parameter",
                                "defs": 1
                            },
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "other",
                                "defs": 1
                            }
                        ],
                        "frame": [],
                        "args": [
                            {
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 0
                                }
                            },
                            {
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 1
                                }
                            },
                            {
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 2
                                }
                            }
                        ],
                        "body": [
                            {
                                "type": "assert",
                                "cond": {
                                    "type": "cmp",
                                    "exprs": [
                                        {
                                            "type": "cmp",
                                            "exprs": [
                                                {
                                                    "type": "slot",
                                                    "kind": "attr",
                                                    "base": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 1
                                                    },
                                                    "name": "pol",
                                                    "loc": [12, 20, 25, 20, 0]
                                                },
                                                {
                                                    "type": "literal",
                                                    "kind": "integer",
                                                    "value": "0"
                                                }
                                            ],
                                            "ops": [
                                                {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": ">=",
                                                    "loc": [12, 20, 30, 20, 0]
                                                }
                                            ],
                                            "loc": [12, 20, 30, 20, 0]
                                        },
                                        {
                                            "type": "cmp",
                                            "exprs": [
                                                {
                                                    "type": "slot",
                                                    "kind": "attr",
                                                    "base": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 0
                                                    },
                                                    "name": "pol",
                                                    "loc": [36, 20, 44, 20, 0]
                                                },
                                                {
                                                    "type": "slot",
                                                    "kind": "attr",
                                                    "base": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 2
                                                    },
                                                    "name": "pol",
                                                    "loc": [48, 20, 57, 20, 0]
                                                }
                                            ],
                                            "ops": [
                                                {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "==",
                                                    "loc": [36, 20, 57, 20, 0]
                                                }
                                            ],
                                            "loc": [36, 20, 57, 20, 0]
                                        }
                                    ],
                                    "ops": [
                                        {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "==",
                                            "loc": [11, 20, 58, 20, 0]
                                        }
                                    ],
                                    "loc": [11, 20, 58, 20, 0]
                                },
                                "value": {
                                    "type": "literal",
                                    "kind": "string",
                                    "value": "polarity conflict"
                                },
                                "loc": [4, 20, 27, 21, 0]
                            },
                            {
                                "type": "except",
                                "body": [
                                    {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "attr",
                                            "base": {
                                                "type": "slot",
                                                "kind": "item",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "attr",
                                                    "base": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 0
                                                    },
                                                    "name": "transitions",
                                                    "loc": [4, 22, 20, 22, 0]
                                                },
                                                "index": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 1
                                                },
                                                "loc": [4, 22, 31, 22, 0]
                                            },
                                            "name": "add",
                                            "loc": [4, 22, 35, 22, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 2
                                            }
                                        ],
                                        "loc": [4, 22, 42, 22, 0]
                                    }
                                ],
                                "excepts": [
                                    {
                                        "exc": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "NoIndex",
                                            "loc": [11, 23, 18, 23, 0]
                                        },
                                        "body": [
                                            {
                                                "type": "assign",
                                                "slot": {
                                                    "type": "slot",
                                                    "kind": "item",
                                                    "base": {
                                                        "type": "slot",
                                                        "kind": "attr",
                                                        "base": {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 0
                                                        },
                                                        "name": "transitions",
                                                        "loc": [
                                                            8,
                                                            24,
                                                            24,
                                                            24,
                                                            0
                                                        ]
                                                    },
                                                    "index": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 1
                                                    },
                                                    "loc": [8, 24, 35, 24, 0]
                                                },
                                                "value": {
                                                    "type": "call",
                                                    "callee": {
                                                        "type": "slot",
                                                        "kind": "global",
                                                        "name": "set",
                                                        "loc": [
                                                            38,
                                                            24,
                                                            41,
                                                            24,
                                                            0
                                                        ]
                                                    },
                                                    "args": [
                                                        {
                                                            "type": "list",
                                                            "values": [
                                                                {
                                                                    "type": "slot",
                                                                    "kind": "local",
                                                                    "index": 2
                                                                }
                                                            ]
                                                        }
                                                    ],
                                                    "loc": [38, 24, 50, 24, 0]
                                                }
                                            }
                                        ]
                                    }
                                ],
                                "loc": [4, 22, 50, 24, 0]
                            }
                        ],
                        "loc": [34, 19, 50, 24, 0]
                    }
                }
            ],
            "loc": [0, 7, 50, 24, 0]
        },
        {
            "type": "datatype",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "Site",
                "loc": [9, 34, 13, 34, 0]
            },
            "varc": 2,
            "rows": [
                [
                    {
                        "type": "slot",
                        "kind": "global",
                        "name": "site",
                        "loc": [23, 34, 27, 34, 0]
                    },
                    6,
                    {
                        "op": 0,
                        "coerces": 1,
                        "param": 2,
                        "expect": 3,
                        "operators": 4,
                        "slots": 5
                    },
                    {
                        "type": "closure",
                        "cellvars": [],
                        "localvars": [
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "op",
                                "defs": 1
                            },
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "a",
                                "defs": 1
                            }
                        ],
                        "frame": [],
                        "args": [
                            {
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 0
                                }
                            },
                            {
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 1
                                }
                            }
                        ],
                        "body": [
                            {
                                "type": "return",
                                "value": {
                                    "type": "make_tuple",
                                    "items": [
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 0
                                        },
                                        {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "Set",
                                                "loc": [13, 36, 16, 36, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "make_tuple",
                                                    "items": [
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 1
                                                        },
                                                        {
                                                            "type": "slot",
                                                            "kind": "global",
                                                            "name": "Integer",
                                                            "loc": [
                                                                21,
                                                                36,
                                                                28,
                                                                36,
                                                                0
                                                            ]
                                                        },
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 1
                                                        }
                                                    ]
                                                }
                                            ],
                                            "loc": [13, 36, 33, 36, 0]
                                        },
                                        {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "Parameter",
                                            "loc": [11, 37, 20, 37, 0]
                                        },
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 1
                                        },
                                        {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "Dict",
                                                "loc": [15, 39, 19, 39, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 1
                                                },
                                                {
                                                    "type": "record",
                                                    "fields": [
                                                        {
                                                            "name": "input",
                                                            "mutable": false,
                                                            "value": {
                                                                "type": "call",
                                                                "callee": {
                                                                    "type": "slot",
                                                                    "kind": "global",
                                                                    "name": "State",
                                                                    "loc": [
                                                                        31,
                                                                        39,
                                                                        36,
                                                                        39,
                                                                        0
                                                                    ]
                                                                },
                                                                "args": [
                                                                    {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 0
                                                                    },
                                                                    {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 1
                                                                    }
                                                                ],
                                                                "loc": [
                                                                    31,
                                                                    39,
                                                                    43,
                                                                    39,
                                                                    0
                                                                ]
                                                            }
                                                        },
                                                        {
                                                            "name": "output",
                                                            "mutable": false,
                                                            "value": {
                                                                "type": "call",
                                                                "callee": {
                                                                    "type": "slot",
                                                                    "kind": "global",
                                                                    "name": "State",
                                                                    "loc": [
                                                                        53,
                                                                        39,
                                                                        58,
                                                                        39,
                                                                        0
                                                                    ]
                                                                },
                                                                "args": [
                                                                    {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 0
                                                                    },
                                                                    {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 1
                                                                    }
                                                                ],
                                                                "loc": [
                                                                    53,
                                                                    39,
                                                                    65,
                                                                    39,
                                                                    0
                                                                ]
                                                            }
                                                        }
                                                    ]
                                                }
                                            ],
                                            "loc": [15, 39, 67, 39, 0]
                                        },
                                        {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "Dict",
                                                "loc": [11, 40, 15, 40, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "Integer",
                                                    "loc": [16, 40, 23, 40, 0]
                                                },
                                                {
                                                    "type": "call",
                                                    "callee": {
                                                        "type": "slot",
                                                        "kind": "global",
                                                        "name": "Set",
                                                        "loc": [
                                                            25,
                                                            40,
                                                            28,
                                                            40,
                                                            0
                                                        ]
                                                    },
                                                    "args": [
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 1
                                                        }
                                                    ],
                                                    "loc": [25, 40, 31, 40, 0]
                                                }
                                            ],
                                            "loc": [11, 40, 32, 40, 0]
                                        }
                                    ]
                                }
                            }
                        ],
                        "loc": [0, 34, 66, 50, 0]
                    }
                ]
            ],
            "decls": [
                {
                    "type": "derived",
                    "ops": [
                        {
                            "type": "slot",
                            "kind": "global",
                            "name": "hash",
                            "loc": [7, 41, 11, 41, 0]
                        },
                        {
                            "type": "slot",
                            "kind": "global",
                            "name": "==",
                            "loc": [14, 41, 16, 41, 0]
                        }
                    ],
                    "value": {
                        "type": "slot",
                        "kind": "global",
                        "name": "by_reference",
                        "loc": [19, 41, 31, 41, 0]
                    }
                },
                {
                    "type": "attr_method",
                    "name": "transfer",
                    "value": {
                        "type": "closure",
                        "cellvars": [],
                        "localvars": [
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "self",
                                "defs": 1
                            },
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "fn",
                                "defs": 1
                            },
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "coerces",
                                "defs": 1
                            },
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "expect",
                                "defs": 1
                            },
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "param",
                                "defs": 1
                            },
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "operators",
                                "defs": 1
                            },
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "slots",
                                "defs": 1
                            },
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "index",
                                "defs": 1
                            },
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "slot",
                                "defs": 1
                            }
                        ],
                        "frame": [],
                        "args": [
                            {
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 0
                                }
                            },
                            {
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 1
                                }
                            }
                        ],
                        "body": [
                            {
                                "type": "assign",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 2
                                },
                                "value": {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "set",
                                        "loc": [14, 43, 17, 43, 0]
                                    },
                                    "args": [
                                        {
                                            "type": "slot",
                                            "kind": "attr",
                                            "base": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 0
                                            },
                                            "name": "coerces",
                                            "loc": [18, 43, 30, 43, 0]
                                        }
                                    ],
                                    "loc": [14, 43, 31, 43, 0]
                                }
                            },
                            {
                                "type": "assign",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 3
                                },
                                "value": {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 0
                                    },
                                    "name": "expect",
                                    "loc": [13, 44, 24, 44, 0]
                                }
                            },
                            {
                                "type": "assign",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 4
                                },
                                "value": {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "parameter",
                                        "loc": [12, 45, 21, 45, 0]
                                    },
                                    "args": [
                                        {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "+expr",
                                                "loc": [22, 45, 24, 45, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "literal",
                                                    "kind": "integer",
                                                    "value": "1"
                                                }
                                            ],
                                            "loc": [22, 45, 24, 45, 0]
                                        }
                                    ],
                                    "loc": [12, 45, 25, 45, 0]
                                }
                            },
                            {
                                "type": "assign",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 5
                                },
                                "value": {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "dict",
                                        "loc": [16, 46, 20, 46, 0]
                                    },
                                    "args": [{"type": "list", "values": []}],
                                    "loc": [16, 46, 24, 46, 0]
                                }
                            },
                            {
                                "type": "assign",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 6
                                },
                                "value": {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "copy",
                                        "loc": [12, 47, 16, 47, 0]
                                    },
                                    "args": [
                                        {
                                            "type": "slot",
                                            "kind": "attr",
                                            "base": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 0
                                            },
                                            "name": "slots",
                                            "loc": [17, 47, 27, 47, 0]
                                        }
                                    ],
                                    "loc": [12, 47, 28, 47, 0]
                                }
                            },
                            {
                                "type": "repeat",
                                "fresh": [],
                                "heads": [
                                    {
                                        "type": "for",
                                        "slot": {
                                            "type": "slot",
                                            "kind": "tuple",
                                            "slots": [
                                                {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 7
                                                },
                                                {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 8
                                                }
                                            ],
                                            "loc": [8, 48, 19, 48, 0]
                                        },
                                        "value": {
                                            "type": "slot",
                                            "kind": "attr",
                                            "base": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 0
                                            },
                                            "name": "operators",
                                            "loc": [23, 48, 37, 48, 0]
                                        }
                                    }
                                ],
                                "body": [
                                    {
                                        "type": "assign",
                                        "slot": {
                                            "type": "slot",
                                            "kind": "item",
                                            "base": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 5
                                            },
                                            "index": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 7
                                            },
                                            "loc": [8, 49, 24, 49, 0]
                                        },
                                        "value": {
                                            "type": "record",
                                            "fields": [
                                                {
                                                    "name": "input",
                                                    "mutable": false,
                                                    "value": {
                                                        "type": "call",
                                                        "callee": {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 1
                                                        },
                                                        "args": [
                                                            {
                                                                "type": "slot",
                                                                "kind": "attr",
                                                                "base": {
                                                                    "type": "slot",
                                                                    "kind": "local",
                                                                    "index": 8
                                                                },
                                                                "name": "input",
                                                                "loc": [
                                                                    37,
                                                                    49,
                                                                    47,
                                                                    49,
                                                                    0
                                                                ]
                                                            }
                                                        ],
                                                        "loc": [
                                                            34,
                                                            49,
                                                            48,
                                                            49,
                                                            0
                                                        ]
                                                    }
                                                },
                                                {
                                                    "name": "output",
                                                    "mutable": false,
                                                    "value": {
                                                        "type": "call",
                                                        "callee": {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 1
                                                        },
                                                        "args": [
                                                            {
                                                                "type": "slot",
                                                                "kind": "attr",
                                                                "base": {
                                                                    "type": "slot",
                                                                    "kind": "local",
                                                                    "index": 8
                                                                },
                                                                "name": "output",
                                                                "loc": [
                                                                    60,
                                                                    49,
                                                                    71,
                                                                    49,
                                                                    0
                                                                ]
                                                            }
                                                        ],
                                                        "loc": [
                                                            57,
                                                            49,
                                                            72,
                                                            49,
                                                            0
                                                        ]
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                ]
                            },
                            {
                                "type": "return",
                                "value": {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "site",
                                        "loc": [11, 50, 15, 50, 0]
                                    },
                                    "args": [
                                        {
                                            "type": "slot",
                                            "kind": "attr",
                                            "base": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 0
                                            },
                                            "name": "op",
                                            "loc": [16, 50, 23, 50, 0]
                                        },
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 2
                                        },
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 4
                                        },
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 3
                                        },
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 5
                                        },
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 6
                                        }
                                    ],
                                    "loc": [11, 50, 66, 50, 0]
                                }
                            }
                        ],
                        "loc": [28, 42, 66, 50, 0]
                    }
                }
            ],
            "loc": [0, 34, 66, 50, 0]
        },
        {
            "type": "datatype",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "Sink",
                "loc": [9, 52, 13, 52, 0]
            },
            "varc": 2,
            "rows": [
                [
                    {
                        "type": "slot",
                        "kind": "global",
                        "name": "sink",
                        "loc": [4, 53, 8, 53, 0]
                    },
                    2,
                    {"index": 0, "site": 1},
                    {
                        "type": "closure",
                        "cellvars": [],
                        "localvars": [
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "op",
                                "defs": 1
                            },
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "a",
                                "defs": 1
                            }
                        ],
                        "frame": [],
                        "args": [
                            {
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 0
                                }
                            },
                            {
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 1
                                }
                            }
                        ],
                        "body": [
                            {
                                "type": "return",
                                "value": {
                                    "type": "make_tuple",
                                    "items": [
                                        {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "Integer",
                                            "loc": [16, 53, 23, 53, 0]
                                        },
                                        {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "Site",
                                                "loc": [31, 53, 35, 53, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 0
                                                },
                                                {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 1
                                                }
                                            ],
                                            "loc": [31, 53, 42, 53, 0]
                                        }
                                    ]
                                }
                            }
                        ],
                        "loc": [0, 52, 27, 54, 0]
                    }
                ],
                [
                    {
                        "type": "slot",
                        "kind": "global",
                        "name": "faucet",
                        "loc": [46, 53, 52, 53, 0]
                    },
                    1,
                    {},
                    {
                        "type": "closure",
                        "cellvars": [],
                        "localvars": [
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "op",
                                "defs": 1
                            },
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "a",
                                "defs": 1
                            }
                        ],
                        "frame": [],
                        "args": [
                            {
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 0
                                }
                            },
                            {
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 1
                                }
                            }
                        ],
                        "body": [
                            {
                                "type": "return",
                                "value": {
                                    "type": "make_tuple",
                                    "items": [
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 1
                                        }
                                    ]
                                }
                            }
                        ],
                        "loc": [0, 52, 27, 54, 0]
                    }
                ]
            ],
            "decls": [
                {
                    "type": "derived",
                    "ops": [
                        {
                            "type": "slot",
                            "kind": "global",
                            "name": "hash",
                            "loc": [7, 54, 11, 54, 0]
                        },
                        {
                            "type": "slot",
                            "kind": "global",
                            "name": "==",
                            "loc": [14, 54, 16, 54, 0]
                        }
                    ],
                    "value": {
                        "type": "slot",
                        "kind": "global",
                        "name": "by_value",
                        "loc": [19, 54, 27, 54, 0]
                    }
                }
            ],
            "loc": [0, 52, 27, 54, 0]
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "unwrap",
                "loc": [0, 56, 6, 56, 0]
            },
            "value": {
                "type": "closure",
                "cellvars": [],
                "localvars": [
                    {"type": "cell", "deref": false, "name": "item", "defs": 1},
                    {"type": "cell", "deref": false, "name": "a", "defs": 1}
                ],
                "frame": [],
                "args": [
                    {"slot": {"type": "slot", "kind": "local", "index": 0}}
                ],
                "body": [
                    {
                        "type": "case",
                        "value": {"type": "slot", "kind": "local", "index": 0},
                        "cases": [
                            {
                                "type": "pattern",
                                "pattern": {
                                    "type": "slot",
                                    "kind": "global",
                                    "name": "faucet",
                                    "loc": [4, 58, 10, 58, 0]
                                },
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 1
                                },
                                "body": [
                                    {
                                        "type": "return",
                                        "value": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 1
                                        }
                                    }
                                ],
                                "loc": [4, 58, 27, 58, 0]
                            }
                        ],
                        "default": [],
                        "loc": [4, 57, 27, 58, 0]
                    }
                ],
                "loc": [9, 56, 27, 58, 0]
            }
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "fresh_state",
                "loc": [0, 61, 11, 61, 0]
            },
            "value": {
                "type": "closure",
                "cellvars": [],
                "localvars": [
                    {"type": "cell", "deref": false, "name": "pol", "defs": 1}
                ],
                "frame": [],
                "args": [
                    {"slot": {"type": "slot", "kind": "local", "index": 0}}
                ],
                "body": [
                    {
                        "type": "return",
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "global",
                                "name": "state",
                                "loc": [11, 62, 16, 62, 0]
                            },
                            "args": [
                                {"type": "slot", "kind": "local", "index": 0},
                                {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "set",
                                        "loc": [22, 62, 25, 62, 0]
                                    },
                                    "args": [{"type": "list", "values": []}],
                                    "loc": [22, 62, 29, 62, 0]
                                },
                                {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "set",
                                        "loc": [31, 62, 34, 62, 0]
                                    },
                                    "args": [{"type": "list", "values": []}],
                                    "loc": [31, 62, 38, 62, 0]
                                },
                                {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "dict",
                                        "loc": [40, 62, 44, 62, 0]
                                    },
                                    "args": [{"type": "list", "values": []}],
                                    "loc": [40, 62, 48, 62, 0]
                                }
                            ],
                            "loc": [11, 62, 49, 62, 0]
                        }
                    }
                ],
                "loc": [14, 61, 49, 62, 0]
            }
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "fresh_operator",
                "loc": [0, 64, 14, 64, 0]
            },
            "value": {
                "type": "closure",
                "cellvars": [],
                "localvars": [
                    {"type": "cell", "deref": false, "name": "op", "defs": 1},
                    {
                        "type": "cell",
                        "deref": false,
                        "name": "indices",
                        "defs": 1
                    },
                    {"type": "cell", "deref": false, "name": "argc", "defs": 1},
                    {
                        "type": "cell",
                        "deref": false,
                        "name": "coerces",
                        "defs": 1
                    },
                    {
                        "type": "cell",
                        "deref": false,
                        "name": "expect",
                        "defs": 1
                    },
                    {"type": "cell", "deref": false, "name": "param", "defs": 1
                    },
                    {
                        "type": "cell",
                        "deref": false,
                        "name": "operators",
                        "defs": 1
                    },
                    {"type": "cell", "deref": false, "name": "slots", "defs": 1
                    },
                    {"type": "cell", "deref": false, "name": "index", "defs": 1}
                ],
                "frame": [],
                "args": [
                    {"slot": {"type": "slot", "kind": "local", "index": 0}},
                    {"slot": {"type": "slot", "kind": "local", "index": 1}},
                    {"slot": {"type": "slot", "kind": "local", "index": 2}}
                ],
                "body": [
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "local", "index": 3},
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "global",
                                "name": "set",
                                "loc": [14, 65, 17, 65, 0]
                            },
                            "args": [],
                            "loc": [14, 65, 19, 65, 0]
                        }
                    },
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "local", "index": 4},
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "global",
                                "name": "get_function_header",
                                "loc": [13, 66, 32, 66, 0]
                            },
                            "args": [
                                {"type": "slot", "kind": "local", "index": 2},
                                {
                                    "type": "slot",
                                    "kind": "global",
                                    "name": "false",
                                    "loc": [39, 66, 44, 66, 0]
                                },
                                {
                                    "type": "literal",
                                    "kind": "integer",
                                    "value": "0"
                                }
                            ],
                            "loc": [13, 66, 48, 66, 0]
                        }
                    },
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "local", "index": 5},
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "global",
                                "name": "parameter",
                                "loc": [12, 67, 21, 67, 0]
                            },
                            "args": [
                                {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "+expr",
                                        "loc": [22, 67, 24, 67, 0]
                                    },
                                    "args": [
                                        {
                                            "type": "literal",
                                            "kind": "integer",
                                            "value": "1"
                                        }
                                    ],
                                    "loc": [22, 67, 24, 67, 0]
                                }
                            ],
                            "loc": [12, 67, 25, 67, 0]
                        }
                    },
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "local", "index": 6},
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "global",
                                "name": "dict",
                                "loc": [16, 68, 20, 68, 0]
                            },
                            "args": [],
                            "loc": [16, 68, 22, 68, 0]
                        }
                    },
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "local", "index": 7},
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "global",
                                "name": "dict",
                                "loc": [12, 69, 16, 69, 0]
                            },
                            "args": [],
                            "loc": [12, 69, 18, 69, 0]
                        }
                    },
                    {
                        "type": "repeat",
                        "fresh": [],
                        "heads": [
                            {
                                "type": "for",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 8
                                },
                                "value": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 1
                                }
                            }
                        ],
                        "body": [
                            {
                                "type": "assign",
                                "slot": {
                                    "type": "slot",
                                    "kind": "item",
                                    "base": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 7
                                    },
                                    "index": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 8
                                    },
                                    "loc": [8, 71, 20, 71, 0]
                                },
                                "value": {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "set",
                                        "loc": [23, 71, 26, 71, 0]
                                    },
                                    "args": [],
                                    "loc": [23, 71, 28, 71, 0]
                                }
                            }
                        ]
                    },
                    {
                        "type": "return",
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "global",
                                "name": "site",
                                "loc": [11, 72, 15, 72, 0]
                            },
                            "args": [
                                {"type": "slot", "kind": "local", "index": 0},
                                {"type": "slot", "kind": "local", "index": 3},
                                {"type": "slot", "kind": "local", "index": 5},
                                {"type": "slot", "kind": "local", "index": 4},
                                {"type": "slot", "kind": "local", "index": 6},
                                {"type": "slot", "kind": "local", "index": 7}
                            ],
                            "loc": [11, 72, 61, 72, 0]
                        }
                    }
                ],
                "loc": [17, 64, 61, 72, 0]
            }
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "fresh_port",
                "loc": [0, 74, 10, 74, 0]
            },
            "value": {
                "type": "closure",
                "cellvars": [],
                "localvars": [
                    {"type": "cell", "deref": false, "name": "input", "defs": 1
                    },
                    {
                        "type": "cell",
                        "deref": false,
                        "name": "output",
                        "defs": 1
                    }
                ],
                "frame": [],
                "args": [],
                "body": [
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "local", "index": 0},
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "global",
                                "name": "fresh_state",
                                "loc": [12, 75, 23, 75, 0]
                            },
                            "args": [
                                {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "-expr",
                                        "loc": [24, 75, 26, 75, 0]
                                    },
                                    "args": [
                                        {
                                            "type": "literal",
                                            "kind": "integer",
                                            "value": "1"
                                        }
                                    ],
                                    "loc": [24, 75, 26, 75, 0]
                                }
                            ],
                            "loc": [12, 75, 27, 75, 0]
                        }
                    },
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "local", "index": 1},
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "global",
                                "name": "fresh_state",
                                "loc": [13, 76, 24, 76, 0]
                            },
                            "args": [
                                {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "+expr",
                                        "loc": [25, 76, 27, 76, 0]
                                    },
                                    "args": [
                                        {
                                            "type": "literal",
                                            "kind": "integer",
                                            "value": "1"
                                        }
                                    ],
                                    "loc": [25, 76, 27, 76, 0]
                                }
                            ],
                            "loc": [13, 76, 28, 76, 0]
                        }
                    },
                    {
                        "type": "call",
                        "callee": {
                            "type": "slot",
                            "kind": "attr",
                            "base": {
                                "type": "slot",
                                "kind": "local",
                                "index": 0
                            },
                            "name": "add_flow",
                            "loc": [4, 77, 18, 77, 0]
                        },
                        "args": [{"type": "slot", "kind": "local", "index": 1}],
                        "loc": [4, 77, 26, 77, 0]
                    },
                    {
                        "type": "return",
                        "value": {
                            "type": "record",
                            "fields": [
                                {
                                    "name": "input",
                                    "mutable": false,
                                    "value": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 0
                                    }
                                },
                                {
                                    "name": "output",
                                    "mutable": false,
                                    "value": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 1
                                    }
                                }
                            ]
                        }
                    }
                ],
                "loc": [13, 74, 41, 78, 0]
            }
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "fresh_free_port",
                "loc": [0, 80, 15, 80, 0]
            },
            "value": {
                "type": "closure",
                "cellvars": [],
                "localvars": [
                    {"type": "cell", "deref": false, "name": "graph", "defs": 1
                    },
                    {"type": "cell", "deref": false, "name": "port", "defs": 1}
                ],
                "frame": [],
                "args": [
                    {"slot": {"type": "slot", "kind": "local", "index": 0}}
                ],
                "body": [
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "local", "index": 1},
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "global",
                                "name": "fresh_port",
                                "loc": [11, 81, 21, 81, 0]
                            },
                            "args": [],
                            "loc": [11, 81, 23, 81, 0]
                        }
                    },
                    {
                        "type": "call",
                        "callee": {
                            "type": "slot",
                            "kind": "attr",
                            "base": {
                                "type": "slot",
                                "kind": "local",
                                "index": 0
                            },
                            "name": "add",
                            "loc": [4, 82, 13, 82, 0]
                        },
                        "args": [
                            {
                                "type": "slot",
                                "kind": "attr",
                                "base": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 1
                                },
                                "name": "input",
                                "loc": [14, 82, 24, 82, 0]
                            }
                        ],
                        "loc": [4, 82, 25, 82, 0]
                    },
                    {
                        "type": "call",
                        "callee": {
                            "type": "slot",
                            "kind": "attr",
                            "base": {
                                "type": "slot",
                                "kind": "local",
                                "index": 0
                            },
                            "name": "add",
                            "loc": [4, 83, 13, 83, 0]
                        },
                        "args": [
                            {
                                "type": "slot",
                                "kind": "attr",
                                "base": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 1
                                },
                                "name": "output",
                                "loc": [14, 83, 25, 83, 0]
                            }
                        ],
                        "loc": [4, 83, 26, 83, 0]
                    },
                    {
                        "type": "return",
                        "value": {"type": "slot", "kind": "local", "index": 1}
                    }
                ],
                "loc": [18, 80, 15, 84, 0]
            }
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "biunify",
                "loc": [0, 86, 7, 86, 0]
            },
            "value": {
                "type": "closure",
                "cellvars": [],
                "localvars": [
                    {"type": "cell", "deref": false, "name": "pair", "defs": 1},
                    {
                        "type": "cell",
                        "deref": false,
                        "name": "visited",
                        "defs": 1
                    },
                    {"type": "cell", "deref": false, "name": "p", "defs": 1},
                    {"type": "cell", "deref": false, "name": "q", "defs": 1},
                    {"type": "cell", "deref": false, "name": "x", "defs": 1},
                    {"type": "cell", "deref": false, "name": "y", "defs": 1},
                    {"type": "cell", "deref": false, "name": "ok", "defs": 1},
                    {"type": "cell", "deref": false, "name": "s", "defs": 1},
                    {"type": "cell", "deref": false, "name": "s", "defs": 1},
                    {"type": "cell", "deref": false, "name": "param", "defs": 1
                    },
                    {"type": "cell", "deref": false, "name": "ws", "defs": 1},
                    {"type": "cell", "deref": false, "name": "wu", "defs": 1},
                    {"type": "cell", "deref": false, "name": "s", "defs": 1},
                    {"type": "cell", "deref": false, "name": "u", "defs": 1},
                    {"type": "cell", "deref": false, "name": "u", "defs": 1},
                    {"type": "cell", "deref": false, "name": "s", "defs": 1}
                ],
                "frame": [],
                "args": [
                    {"slot": {"type": "slot", "kind": "local", "index": 0}},
                    {"slot": {"type": "slot", "kind": "local", "index": 1}}
                ],
                "body": [
                    {
                        "type": "cond",
                        "cond": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "global",
                                "name": "in",
                                "loc": [7, 87, 22, 87, 0]
                            },
                            "args": [
                                {"type": "slot", "kind": "local", "index": 0},
                                {"type": "slot", "kind": "local", "index": 1}
                            ],
                            "loc": [7, 87, 22, 87, 0]
                        },
                        "tbody": [
                            {
                                "type": "return",
                                "value": {
                                    "type": "slot",
                                    "kind": "global",
                                    "name": "null",
                                    "loc": [8, 88, 14, 88, 0]
                                }
                            }
                        ],
                        "fbody": [],
                        "loc": [4, 87, 14, 88, 0]
                    },
                    {
                        "type": "call",
                        "callee": {
                            "type": "slot",
                            "kind": "attr",
                            "base": {
                                "type": "slot",
                                "kind": "local",
                                "index": 1
                            },
                            "name": "add",
                            "loc": [4, 89, 15, 89, 0]
                        },
                        "args": [{"type": "slot", "kind": "local", "index": 0}],
                        "loc": [4, 89, 21, 89, 0]
                    },
                    {
                        "type": "assign",
                        "slot": {
                            "type": "slot",
                            "kind": "tuple",
                            "slots": [
                                {"type": "slot", "kind": "local", "index": 2},
                                {"type": "slot", "kind": "local", "index": 3}
                            ],
                            "loc": [4, 90, 8, 90, 0]
                        },
                        "value": {"type": "slot", "kind": "local", "index": 0}
                    },
                    {
                        "type": "assert",
                        "cond": {
                            "type": "cmp",
                            "exprs": [
                                {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 2
                                    },
                                    "name": "pol",
                                    "loc": [11, 91, 16, 91, 0]
                                },
                                {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 3
                                    },
                                    "name": "pol",
                                    "loc": [19, 91, 24, 91, 0]
                                }
                            ],
                            "ops": [
                                {
                                    "type": "slot",
                                    "kind": "global",
                                    "name": ">",
                                    "loc": [11, 91, 24, 91, 0]
                                }
                            ],
                            "loc": [11, 91, 24, 91, 0]
                        },
                        "value": {
                            "type": "literal",
                            "kind": "string",
                            "value": "polarity conflict"
                        },
                        "loc": [4, 91, 47, 91, 0]
                    },
                    {
                        "type": "repeat",
                        "fresh": [],
                        "heads": [
                            {
                                "type": "for",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 4
                                },
                                "value": {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 2
                                    },
                                    "name": "heads",
                                    "loc": [13, 92, 20, 92, 0]
                                }
                            },
                            {
                                "type": "for",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 5
                                },
                                "value": {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 3
                                    },
                                    "name": "heads",
                                    "loc": [30, 92, 37, 92, 0]
                                }
                            }
                        ],
                        "body": [
                            {
                                "type": "assign",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 6
                                },
                                "value": {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "fit_subtype",
                                        "loc": [13, 93, 24, 93, 0]
                                    },
                                    "args": [
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 2
                                        },
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 3
                                        },
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 4
                                        },
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 5
                                        },
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 1
                                        }
                                    ],
                                    "loc": [13, 93, 45, 93, 0]
                                }
                            },
                            {
                                "type": "assert",
                                "cond": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 6
                                },
                                "value": {
                                    "type": "literal",
                                    "kind": "string",
                                    "value": "type error"
                                },
                                "loc": [8, 94, 24, 95, 0]
                            }
                        ]
                    },
                    {
                        "type": "repeat",
                        "fresh": [],
                        "heads": [
                            {
                                "type": "for",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 7
                                },
                                "value": {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 3
                                    },
                                    "name": "flow",
                                    "loc": [13, 96, 19, 96, 0]
                                }
                            }
                        ],
                        "body": [
                            {
                                "type": "call",
                                "callee": {
                                    "type": "slot",
                                    "kind": "global",
                                    "name": "merge",
                                    "loc": [8, 97, 13, 97, 0]
                                },
                                "args": [
                                    {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 7
                                    },
                                    {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 2
                                    }
                                ],
                                "loc": [8, 97, 19, 97, 0]
                            }
                        ]
                    },
                    {
                        "type": "repeat",
                        "fresh": [],
                        "heads": [
                            {
                                "type": "for",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 8
                                },
                                "value": {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 2
                                    },
                                    "name": "flow",
                                    "loc": [13, 98, 19, 98, 0]
                                }
                            }
                        ],
                        "body": [
                            {
                                "type": "call",
                                "callee": {
                                    "type": "slot",
                                    "kind": "global",
                                    "name": "merge",
                                    "loc": [8, 99, 13, 99, 0]
                                },
                                "args": [
                                    {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 8
                                    },
                                    {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 3
                                    }
                                ],
                                "loc": [8, 99, 19, 99, 0]
                            }
                        ]
                    },
                    {
                        "type": "repeat",
                        "fresh": [],
                        "heads": [
                            {
                                "type": "for",
                                "slot": {
                                    "type": "slot",
                                    "kind": "tuple",
                                    "slots": [
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 9
                                        },
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 10
                                        }
                                    ],
                                    "loc": [8, 100, 17, 100, 0]
                                },
                                "value": {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 2
                                    },
                                    "name": "transitions",
                                    "loc": [21, 100, 34, 100, 0]
                                }
                            }
                        ],
                        "body": [
                            {
                                "type": "assign",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 11
                                },
                                "value": {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "attr",
                                        "base": {
                                            "type": "slot",
                                            "kind": "attr",
                                            "base": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 3
                                            },
                                            "name": "transitions",
                                            "loc": [13, 101, 26, 101, 0]
                                        },
                                        "name": "get",
                                        "loc": [13, 101, 30, 101, 0]
                                    },
                                    "args": [
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 9
                                        },
                                        {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "dict",
                                                "loc": [38, 101, 42, 101, 0]
                                            },
                                            "args": [],
                                            "loc": [38, 101, 44, 101, 0]
                                        }
                                    ],
                                    "loc": [13, 101, 45, 101, 0]
                                }
                            },
                            {
                                "type": "cond",
                                "cond": {
                                    "type": "cmp",
                                    "exprs": [
                                        {
                                            "type": "slot",
                                            "kind": "attr",
                                            "base": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 9
                                            },
                                            "name": "pol",
                                            "loc": [11, 102, 20, 102, 0]
                                        },
                                        {
                                            "type": "literal",
                                            "kind": "integer",
                                            "value": "0"
                                        }
                                    ],
                                    "ops": [
                                        {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": ">",
                                            "loc": [11, 102, 24, 102, 0]
                                        }
                                    ],
                                    "loc": [11, 102, 24, 102, 0]
                                },
                                "tbody": [
                                    {
                                        "type": "repeat",
                                        "fresh": [],
                                        "heads": [
                                            {
                                                "type": "for",
                                                "slot": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 12
                                                },
                                                "value": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 10
                                                }
                                            },
                                            {
                                                "type": "for",
                                                "slot": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 13
                                                },
                                                "value": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 11
                                                }
                                            }
                                        ],
                                        "body": [
                                            {
                                                "type": "call",
                                                "callee": {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "biunify",
                                                    "loc": [16, 104, 23, 104, 0]
                                                },
                                                "args": [
                                                    {
                                                        "type": "make_tuple",
                                                        "items": [
                                                            {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 12
                                                            },
                                                            {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 13
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 1
                                                    }
                                                ],
                                                "loc": [16, 104, 40, 104, 0]
                                            }
                                        ]
                                    }
                                ],
                                "fbody": [
                                    {
                                        "type": "repeat",
                                        "fresh": [],
                                        "heads": [
                                            {
                                                "type": "for",
                                                "slot": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 14
                                                },
                                                "value": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 11
                                                }
                                            },
                                            {
                                                "type": "for",
                                                "slot": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 15
                                                },
                                                "value": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 10
                                                }
                                            }
                                        ],
                                        "body": [
                                            {
                                                "type": "call",
                                                "callee": {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "biunify",
                                                    "loc": [16, 107, 23, 107, 0]
                                                },
                                                "args": [
                                                    {
                                                        "type": "make_tuple",
                                                        "items": [
                                                            {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 14
                                                            },
                                                            {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 15
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 1
                                                    }
                                                ],
                                                "loc": [16, 107, 40, 107, 0]
                                            }
                                        ]
                                    }
                                ],
                                "loc": [8, 102, 40, 107, 0]
                            }
                        ]
                    }
                ],
                "loc": [10, 86, 40, 107, 0]
            }
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "fit_subtype",
                "loc": [0, 109, 11, 109, 0]
            },
            "value": {
                "type": "closure",
                "cellvars": [],
                "localvars": [
                    {"type": "cell", "deref": false, "name": "p", "defs": 1},
                    {"type": "cell", "deref": false, "name": "q", "defs": 1},
                    {"type": "cell", "deref": false, "name": "x", "defs": 1},
                    {"type": "cell", "deref": false, "name": "y", "defs": 1},
                    {
                        "type": "cell",
                        "deref": false,
                        "name": "visited",
                        "defs": 1
                    },
                    {"type": "cell", "deref": false, "name": "index", "defs": 1
                    },
                    {"type": "cell", "deref": false, "name": "site", "defs": 1},
                    {"type": "cell", "deref": false, "name": "_", "defs": 1}
                ],
                "frame": [],
                "args": [
                    {"slot": {"type": "slot", "kind": "local", "index": 0}},
                    {"slot": {"type": "slot", "kind": "local", "index": 1}},
                    {"slot": {"type": "slot", "kind": "local", "index": 2}},
                    {"slot": {"type": "slot", "kind": "local", "index": 3}},
                    {"slot": {"type": "slot", "kind": "local", "index": 4}}
                ],
                "body": [
                    {
                        "type": "case",
                        "value": {"type": "slot", "kind": "local", "index": 3},
                        "cases": [
                            {
                                "type": "pattern",
                                "pattern": {
                                    "type": "slot",
                                    "kind": "global",
                                    "name": "sink",
                                    "loc": [4, 111, 8, 111, 0]
                                },
                                "slot": {
                                    "type": "slot",
                                    "kind": "tuple",
                                    "slots": [
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 5
                                        },
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 6
                                        }
                                    ],
                                    "loc": [4, 111, 19, 113, 0]
                                },
                                "body": [
                                    {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "inference_coerce",
                                            "loc": [8, 112, 24, 112, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 2
                                            },
                                            {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 1
                                            },
                                            {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 5
                                            },
                                            {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 6
                                            },
                                            {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 4
                                            }
                                        ],
                                        "loc": [8, 112, 52, 112, 0]
                                    },
                                    {
                                        "type": "return",
                                        "value": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "true",
                                            "loc": [15, 113, 19, 113, 0]
                                        }
                                    }
                                ],
                                "loc": [4, 111, 19, 113, 0]
                            },
                            {
                                "type": "pattern",
                                "pattern": {
                                    "type": "slot",
                                    "kind": "global",
                                    "name": "faucet",
                                    "loc": [4, 114, 10, 114, 0]
                                },
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 7
                                },
                                "body": [
                                    {
                                        "type": "cond",
                                        "cond": {
                                            "type": "cmp",
                                            "exprs": [
                                                {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 2
                                                },
                                                {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 3
                                                }
                                            ],
                                            "ops": [
                                                {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "==",
                                                    "loc": [11, 115, 17, 115, 0]
                                                }
                                            ],
                                            "loc": [11, 115, 17, 115, 0]
                                        },
                                        "tbody": [
                                            {
                                                "type": "return",
                                                "value": {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "true",
                                                    "loc": [19, 116, 23, 116, 0]
                                                }
                                            }
                                        ],
                                        "fbody": [
                                            {
                                                "type": "return",
                                                "value": {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "false",
                                                    "loc": [19, 118, 24, 118, 0]
                                                }
                                            }
                                        ],
                                        "loc": [8, 115, 24, 118, 0]
                                    }
                                ],
                                "loc": [4, 114, 24, 118, 0]
                            }
                        ],
                        "default": [],
                        "loc": [4, 110, 24, 118, 0]
                    }
                ],
                "loc": [14, 109, 24, 118, 0]
            }
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "merge",
                "loc": [0, 120, 5, 120, 0]
            },
            "value": {
                "type": "closure",
                "cellvars": [],
                "localvars": [
                    {"type": "cell", "deref": false, "name": "dst", "defs": 1},
                    {"type": "cell", "deref": false, "name": "src", "defs": 1},
                    {"type": "cell", "deref": false, "name": "head", "defs": 1},
                    {"type": "cell", "deref": false, "name": "state", "defs": 1
                    },
                    {"type": "cell", "deref": false, "name": "param", "defs": 1
                    },
                    {"type": "cell", "deref": false, "name": "ws", "defs": 1}
                ],
                "frame": [],
                "args": [
                    {"slot": {"type": "slot", "kind": "local", "index": 0}},
                    {"slot": {"type": "slot", "kind": "local", "index": 1}}
                ],
                "body": [
                    {
                        "type": "assert",
                        "cond": {
                            "type": "cmp",
                            "exprs": [
                                {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 0
                                    },
                                    "name": "pol",
                                    "loc": [11, 121, 18, 121, 0]
                                },
                                {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 1
                                    },
                                    "name": "pol",
                                    "loc": [22, 121, 29, 121, 0]
                                }
                            ],
                            "ops": [
                                {
                                    "type": "slot",
                                    "kind": "global",
                                    "name": "==",
                                    "loc": [11, 121, 29, 121, 0]
                                }
                            ],
                            "loc": [11, 121, 29, 121, 0]
                        },
                        "value": {
                            "type": "literal",
                            "kind": "string",
                            "value": "polarity conflict"
                        },
                        "loc": [4, 121, 52, 121, 0]
                    },
                    {
                        "type": "repeat",
                        "fresh": [],
                        "heads": [
                            {
                                "type": "for",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 2
                                },
                                "value": {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 1
                                    },
                                    "name": "heads",
                                    "loc": [16, 122, 25, 122, 0]
                                }
                            }
                        ],
                        "body": [
                            {
                                "type": "call",
                                "callee": {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "attr",
                                        "base": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 0
                                        },
                                        "name": "heads",
                                        "loc": [8, 123, 17, 123, 0]
                                    },
                                    "name": "add",
                                    "loc": [8, 123, 21, 123, 0]
                                },
                                "args": [
                                    {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 2
                                    }
                                ],
                                "loc": [8, 123, 27, 123, 0]
                            }
                        ]
                    },
                    {
                        "type": "repeat",
                        "fresh": [],
                        "heads": [
                            {
                                "type": "for",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 3
                                },
                                "value": {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 1
                                    },
                                    "name": "flow",
                                    "loc": [17, 124, 25, 124, 0]
                                }
                            }
                        ],
                        "body": [
                            {
                                "type": "call",
                                "callee": {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 0
                                    },
                                    "name": "add_flow",
                                    "loc": [8, 125, 20, 125, 0]
                                },
                                "args": [
                                    {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 3
                                    }
                                ],
                                "loc": [8, 125, 27, 125, 0]
                            }
                        ]
                    },
                    {
                        "type": "repeat",
                        "fresh": [],
                        "heads": [
                            {
                                "type": "for",
                                "slot": {
                                    "type": "slot",
                                    "kind": "tuple",
                                    "slots": [
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 4
                                        },
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 5
                                        }
                                    ],
                                    "loc": [8, 126, 17, 126, 0]
                                },
                                "value": {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 1
                                    },
                                    "name": "transitions",
                                    "loc": [21, 126, 36, 126, 0]
                                }
                            }
                        ],
                        "body": [
                            {
                                "type": "except",
                                "body": [
                                    {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "attr",
                                            "base": {
                                                "type": "slot",
                                                "kind": "item",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "attr",
                                                    "base": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 0
                                                    },
                                                    "name": "transitions",
                                                    "loc": [8, 127, 23, 127, 0]
                                                },
                                                "index": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 4
                                                },
                                                "loc": [8, 127, 30, 127, 0]
                                            },
                                            "name": "update",
                                            "loc": [8, 127, 37, 127, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 5
                                            }
                                        ],
                                        "loc": [8, 127, 41, 127, 0]
                                    }
                                ],
                                "excepts": [
                                    {
                                        "exc": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "NoIndex",
                                            "loc": [15, 128, 22, 128, 0]
                                        },
                                        "body": [
                                            {
                                                "type": "assign",
                                                "slot": {
                                                    "type": "slot",
                                                    "kind": "item",
                                                    "base": {
                                                        "type": "slot",
                                                        "kind": "attr",
                                                        "base": {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 0
                                                        },
                                                        "name": "transitions",
                                                        "loc": [
                                                            12,
                                                            129,
                                                            27,
                                                            129,
                                                            0
                                                        ]
                                                    },
                                                    "index": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 4
                                                    },
                                                    "loc": [12, 129, 34, 129, 0]
                                                },
                                                "value": {
                                                    "type": "call",
                                                    "callee": {
                                                        "type": "slot",
                                                        "kind": "global",
                                                        "name": "set",
                                                        "loc": [
                                                            37,
                                                            129,
                                                            40,
                                                            129,
                                                            0
                                                        ]
                                                    },
                                                    "args": [
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 5
                                                        }
                                                    ],
                                                    "loc": [37, 129, 44, 129, 0]
                                                }
                                            }
                                        ]
                                    }
                                ],
                                "loc": [8, 127, 44, 129, 0]
                            }
                        ]
                    }
                ],
                "loc": [8, 120, 44, 129, 0]
            }
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "inference_coerce",
                "loc": [0, 133, 16, 133, 0]
            },
            "value": {
                "type": "closure",
                "cellvars": [],
                "localvars": [
                    {"type": "cell", "deref": false, "name": "head", "defs": 1},
                    {"type": "cell", "deref": false, "name": "q", "defs": 1},
                    {
                        "type": "cell",
                        "deref": false,
                        "name": "slot_idx",
                        "defs": 1
                    },
                    {"type": "cell", "deref": false, "name": "site", "defs": 1},
                    {
                        "type": "cell",
                        "deref": false,
                        "name": "visited",
                        "defs": 1
                    },
                    {"type": "cell", "deref": false, "name": "k", "defs": 3},
                    {"type": "cell", "deref": false, "name": "i", "defs": 1},
                    {"type": "cell", "deref": false, "name": "n", "defs": 1},
                    {"type": "cell", "deref": false, "name": "t", "defs": 1},
                    {"type": "cell", "deref": false, "name": "h", "defs": 1},
                    {"type": "cell", "deref": false, "name": "doms", "defs": 1},
                    {"type": "cell", "deref": false, "name": "i", "defs": 1},
                    {
                        "type": "cell",
                        "deref": false,
                        "name": "coercions",
                        "defs": 1
                    },
                    {"type": "cell", "deref": false, "name": "heads", "defs": 1
                    },
                    {"type": "cell", "deref": false, "name": "c", "defs": 1},
                    {"type": "cell", "deref": false, "name": "i", "defs": 1},
                    {"type": "cell", "deref": false, "name": "u", "defs": 1},
                    {"type": "cell", "deref": false, "name": "ports", "defs": 2
                    },
                    {"type": "cell", "deref": false, "name": "fn", "defs": 1},
                    {"type": "cell", "deref": false, "name": "out", "defs": 1},
                    {"type": "cell", "deref": false, "name": "e", "defs": 1},
                    {"type": "cell", "deref": false, "name": "ws", "defs": 1},
                    {"type": "cell", "deref": false, "name": "xx", "defs": 1},
                    {"type": "cell", "deref": false, "name": "yy", "defs": 1},
                    {"type": "cell", "deref": false, "name": "rr", "defs": 1},
                    {"type": "cell", "deref": false, "name": "w", "defs": 1},
                    {"type": "cell", "deref": false, "name": "w", "defs": 1},
                    {"type": "cell", "deref": false, "name": "h", "defs": 1},
                    {"type": "cell", "deref": false, "name": "i", "defs": 1},
                    {"type": "cell", "deref": false, "name": "cf", "defs": 1},
                    {"type": "cell", "deref": false, "name": "z", "defs": 1},
                    {"type": "cell", "deref": false, "name": "w", "defs": 1},
                    {"type": "cell", "deref": false, "name": "port", "defs": 1},
                    {"type": "cell", "deref": false, "name": "w", "defs": 1}
                ],
                "frame": [],
                "args": [
                    {"slot": {"type": "slot", "kind": "local", "index": 0}},
                    {"slot": {"type": "slot", "kind": "local", "index": 1}},
                    {"slot": {"type": "slot", "kind": "local", "index": 2}},
                    {"slot": {"type": "slot", "kind": "local", "index": 3}},
                    {"slot": {"type": "slot", "kind": "local", "index": 4}}
                ],
                "body": [
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "local", "index": 5},
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "global",
                                "name": "set",
                                "loc": [8, 134, 11, 134, 0]
                            },
                            "args": [
                                {
                                    "type": "list",
                                    "values": [
                                        {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "set",
                                                "loc": [13, 134, 16, 134, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "list",
                                                    "values": [
                                                        {
                                                            "type": "call",
                                                            "callee": {
                                                                "type": "slot",
                                                                "kind": "global",
                                                                "name": "unwrap",
                                                                "loc": [
                                                                    18,
                                                                    134,
                                                                    24,
                                                                    134,
                                                                    0
                                                                ]
                                                            },
                                                            "args": [
                                                                {
                                                                    "type": "slot",
                                                                    "kind": "local",
                                                                    "index": 0
                                                                }
                                                            ],
                                                            "loc": [
                                                                18,
                                                                134,
                                                                30,
                                                                134,
                                                                0
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ],
                                            "loc": [13, 134, 32, 134, 0]
                                        }
                                    ]
                                }
                            ],
                            "loc": [8, 134, 34, 134, 0]
                        }
                    },
                    {
                        "type": "repeat",
                        "fresh": [],
                        "heads": [
                            {
                                "type": "for",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 6
                                },
                                "value": {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "attr",
                                        "base": {
                                            "type": "slot",
                                            "kind": "attr",
                                            "base": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 3
                                            },
                                            "name": "slots",
                                            "loc": [13, 136, 23, 136, 0]
                                        },
                                        "name": "keys",
                                        "loc": [13, 136, 28, 136, 0]
                                    },
                                    "args": [],
                                    "loc": [13, 136, 30, 136, 0]
                                }
                            }
                        ],
                        "body": [
                            {
                                "type": "cond",
                                "cond": {
                                    "type": "cmp",
                                    "exprs": [
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 6
                                        },
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 2
                                        }
                                    ],
                                    "ops": [
                                        {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "==",
                                            "loc": [11, 137, 24, 137, 0]
                                        }
                                    ],
                                    "loc": [11, 137, 24, 137, 0]
                                },
                                "tbody": [{"type": "continue"}],
                                "fbody": [],
                                "loc": [8, 137, 38, 137, 0]
                            },
                            {
                                "type": "assign",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 7
                                },
                                "value": {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "set",
                                        "loc": [12, 138, 15, 138, 0]
                                    },
                                    "args": [],
                                    "loc": [12, 138, 17, 138, 0]
                                }
                            },
                            {
                                "type": "repeat",
                                "fresh": [],
                                "heads": [
                                    {
                                        "type": "for",
                                        "slot": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 8
                                        },
                                        "value": {
                                            "type": "slot",
                                            "kind": "item",
                                            "base": {
                                                "type": "slot",
                                                "kind": "attr",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 3
                                                },
                                                "name": "slots",
                                                "loc": [17, 139, 27, 139, 0]
                                            },
                                            "index": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 6
                                            },
                                            "loc": [17, 139, 30, 139, 0]
                                        }
                                    },
                                    {
                                        "type": "for",
                                        "slot": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 9
                                        },
                                        "value": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 5
                                        }
                                    }
                                ],
                                "body": [
                                    {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "attr",
                                            "base": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 7
                                            },
                                            "name": "add",
                                            "loc": [12, 140, 17, 140, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "call",
                                                "callee": {
                                                    "type": "slot",
                                                    "kind": "attr",
                                                    "base": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 9
                                                    },
                                                    "name": "union",
                                                    "loc": [18, 140, 25, 140, 0]
                                                },
                                                "args": [
                                                    {
                                                        "type": "list",
                                                        "values": [
                                                            {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 8
                                                            }
                                                        ]
                                                    }
                                                ],
                                                "loc": [18, 140, 30, 140, 0]
                                            }
                                        ],
                                        "loc": [12, 140, 31, 140, 0]
                                    }
                                ]
                            },
                            {
                                "type": "assign",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 5
                                },
                                "value": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 7
                                }
                            }
                        ]
                    },
                    {
                        "type": "call",
                        "callee": {
                            "type": "slot",
                            "kind": "attr",
                            "base": {
                                "type": "slot",
                                "kind": "item",
                                "base": {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 3
                                    },
                                    "name": "slots",
                                    "loc": [4, 142, 14, 142, 0]
                                },
                                "index": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 2
                                },
                                "loc": [4, 142, 24, 142, 0]
                            },
                            "name": "add",
                            "loc": [4, 142, 28, 142, 0]
                        },
                        "args": [
                            {
                                "type": "call",
                                "callee": {
                                    "type": "slot",
                                    "kind": "global",
                                    "name": "unwrap",
                                    "loc": [29, 142, 35, 142, 0]
                                },
                                "args": [
                                    {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 0
                                    }
                                ],
                                "loc": [29, 142, 41, 142, 0]
                            }
                        ],
                        "loc": [4, 142, 42, 142, 0]
                    },
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "local", "index": 10},
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "global",
                                "name": "set",
                                "loc": [11, 144, 14, 144, 0]
                            },
                            "args": [],
                            "loc": [11, 144, 16, 144, 0]
                        }
                    },
                    {
                        "type": "repeat",
                        "fresh": [],
                        "heads": [
                            {
                                "type": "for",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 11
                                },
                                "value": {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "attr",
                                        "base": {
                                            "type": "slot",
                                            "kind": "attr",
                                            "base": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 3
                                            },
                                            "name": "slots",
                                            "loc": [13, 145, 23, 145, 0]
                                        },
                                        "name": "keys",
                                        "loc": [13, 145, 28, 145, 0]
                                    },
                                    "args": [],
                                    "loc": [13, 145, 30, 145, 0]
                                }
                            }
                        ],
                        "body": [
                            {
                                "type": "call",
                                "callee": {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 10
                                    },
                                    "name": "add",
                                    "loc": [8, 146, 16, 146, 0]
                                },
                                "args": [
                                    {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "get_dom",
                                            "loc": [17, 146, 24, 146, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 11
                                            }
                                        ],
                                        "loc": [17, 146, 27, 146, 0]
                                    }
                                ],
                                "loc": [8, 146, 28, 146, 0]
                            }
                        ]
                    },
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "local", "index": 12},
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "global",
                                "name": "set",
                                "loc": [16, 148, 19, 148, 0]
                            },
                            "args": [],
                            "loc": [16, 148, 21, 148, 0]
                        }
                    },
                    {
                        "type": "repeat",
                        "fresh": [],
                        "heads": [
                            {
                                "type": "for",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 13
                                },
                                "value": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 5
                                }
                            }
                        ],
                        "body": [
                            {
                                "type": "assign",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 14
                                },
                                "value": {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "unique_coercion",
                                        "loc": [12, 156, 27, 156, 0]
                                    },
                                    "args": [
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 13
                                        }
                                    ],
                                    "loc": [12, 156, 34, 156, 0]
                                }
                            },
                            {
                                "type": "repeat",
                                "fresh": [],
                                "heads": [
                                    {
                                        "type": "for",
                                        "slot": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 15
                                        },
                                        "value": {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "attr",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "attr",
                                                    "base": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 3
                                                    },
                                                    "name": "slots",
                                                    "loc": [17, 157, 27, 157, 0]
                                                },
                                                "name": "keys",
                                                "loc": [17, 157, 32, 157, 0]
                                            },
                                            "args": [],
                                            "loc": [17, 157, 34, 157, 0]
                                        }
                                    }
                                ],
                                "body": [
                                    {
                                        "type": "cond",
                                        "cond": {
                                            "type": "cmp",
                                            "exprs": [
                                                {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 15
                                                },
                                                {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 2
                                                }
                                            ],
                                            "ops": [
                                                {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "==",
                                                    "loc": [15, 158, 28, 158, 0]
                                                }
                                            ],
                                            "loc": [15, 158, 28, 158, 0]
                                        },
                                        "tbody": [
                                            {
                                                "type": "call",
                                                "callee": {
                                                    "type": "slot",
                                                    "kind": "attr",
                                                    "base": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 12
                                                    },
                                                    "name": "add",
                                                    "loc": [16, 159, 29, 159, 0]
                                                },
                                                "args": [
                                                    {
                                                        "type": "list",
                                                        "values": [
                                                            {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 0
                                                            },
                                                            {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 15
                                                            }
                                                        ]
                                                    }
                                                ],
                                                "loc": [16, 159, 40, 159, 0]
                                            }
                                        ],
                                        "fbody": [
                                            {
                                                "type": "repeat",
                                                "fresh": [],
                                                "heads": [
                                                    {
                                                        "type": "for",
                                                        "slot": {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 16
                                                        },
                                                        "value": {
                                                            "type": "slot",
                                                            "kind": "item",
                                                            "base": {
                                                                "type": "slot",
                                                                "kind": "attr",
                                                                "base": {
                                                                    "type": "slot",
                                                                    "kind": "local",
                                                                    "index": 3
                                                                },
                                                                "name": "slots",
                                                                "loc": [
                                                                    25,
                                                                    161,
                                                                    35,
                                                                    161,
                                                                    0
                                                                ]
                                                            },
                                                            "index": {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 15
                                                            },
                                                            "loc": [
                                                                25,
                                                                161,
                                                                38,
                                                                161,
                                                                0
                                                            ]
                                                        }
                                                    },
                                                    {
                                                        "type": "if",
                                                        "cond": {
                                                            "type": "call",
                                                            "callee": {
                                                                "type": "slot",
                                                                "kind": "global",
                                                                "name": "in",
                                                                "loc": [
                                                                    42,
                                                                    161,
                                                                    52,
                                                                    161,
                                                                    0
                                                                ]
                                                            },
                                                            "args": [
                                                                {
                                                                    "type": "slot",
                                                                    "kind": "local",
                                                                    "index": 16
                                                                },
                                                                {
                                                                    "type": "slot",
                                                                    "kind": "local",
                                                                    "index": 13
                                                                }
                                                            ],
                                                            "loc": [
                                                                42,
                                                                161,
                                                                52,
                                                                161,
                                                                0
                                                            ]
                                                        }
                                                    }
                                                ],
                                                "body": [
                                                    {
                                                        "type": "call",
                                                        "callee": {
                                                            "type": "slot",
                                                            "kind": "attr",
                                                            "base": {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 12
                                                            },
                                                            "name": "add",
                                                            "loc": [
                                                                20,
                                                                162,
                                                                33,
                                                                162,
                                                                0
                                                            ]
                                                        },
                                                        "args": [
                                                            {
                                                                "type": "list",
                                                                "values": [
                                                                    {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 16
                                                                    },
                                                                    {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 15
                                                                    }
                                                                ]
                                                            }
                                                        ],
                                                        "loc": [
                                                            20,
                                                            162,
                                                            40,
                                                            162,
                                                            0
                                                        ]
                                                    }
                                                ]
                                            }
                                        ],
                                        "loc": [12, 158, 40, 162, 0]
                                    }
                                ]
                            },
                            {
                                "type": "cond",
                                "cond": {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "in",
                                        "loc": [11, 163, 30, 163, 0]
                                    },
                                    "args": [
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 14
                                        },
                                        {
                                            "type": "slot",
                                            "kind": "attr",
                                            "base": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 3
                                            },
                                            "name": "operators",
                                            "loc": [16, 163, 30, 163, 0]
                                        }
                                    ],
                                    "loc": [11, 163, 30, 163, 0]
                                },
                                "tbody": [
                                    {
                                        "type": "assign",
                                        "slot": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 17
                                        },
                                        "value": {
                                            "type": "slot",
                                            "kind": "item",
                                            "base": {
                                                "type": "slot",
                                                "kind": "attr",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 3
                                                },
                                                "name": "operators",
                                                "loc": [20, 164, 34, 164, 0]
                                            },
                                            "index": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 14
                                            },
                                            "loc": [20, 164, 37, 164, 0]
                                        }
                                    }
                                ],
                                "fbody": [
                                    {
                                        "type": "assign",
                                        "slot": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 18
                                        },
                                        "value": {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "binary_operator",
                                                "loc": [17, 167, 32, 167, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "slot",
                                                    "kind": "attr",
                                                    "base": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 3
                                                    },
                                                    "name": "op",
                                                    "loc": [33, 167, 40, 167, 0]
                                                },
                                                {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 14
                                                },
                                                {
                                                    "type": "slot",
                                                    "kind": "attr",
                                                    "base": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 3
                                                    },
                                                    "name": "expect",
                                                    "loc": [45, 167, 56, 167, 0]
                                                }
                                            ],
                                            "loc": [17, 167, 57, 167, 0]
                                        }
                                    },
                                    {
                                        "type": "assign",
                                        "slot": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 17
                                        },
                                        "value": {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "dict",
                                                "loc": [20, 168, 24, 168, 0]
                                            },
                                            "args": [],
                                            "loc": [20, 168, 26, 168, 0]
                                        }
                                    },
                                    {
                                        "type": "assign",
                                        "slot": {
                                            "type": "slot",
                                            "kind": "item",
                                            "base": {
                                                "type": "slot",
                                                "kind": "attr",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 3
                                                },
                                                "name": "operators",
                                                "loc": [12, 169, 26, 169, 0]
                                            },
                                            "index": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 14
                                            },
                                            "loc": [12, 169, 29, 169, 0]
                                        },
                                        "value": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 17
                                        }
                                    },
                                    {
                                        "type": "assign",
                                        "slot": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 19
                                        },
                                        "value": {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "frest_state",
                                                "loc": [18, 170, 29, 170, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "call",
                                                    "callee": {
                                                        "type": "slot",
                                                        "kind": "global",
                                                        "name": "+expr",
                                                        "loc": [
                                                            30,
                                                            170,
                                                            32,
                                                            170,
                                                            0
                                                        ]
                                                    },
                                                    "args": [
                                                        {
                                                            "type": "literal",
                                                            "kind": "integer",
                                                            "value": "1"
                                                        }
                                                    ],
                                                    "loc": [30, 170, 32, 170, 0]
                                                }
                                            ],
                                            "loc": [18, 170, 33, 170, 0]
                                        }
                                    },
                                    {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "attr",
                                            "base": {
                                                "type": "slot",
                                                "kind": "attr",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 19
                                                },
                                                "name": "heads",
                                                "loc": [12, 171, 21, 171, 0]
                                            },
                                            "name": "update",
                                            "loc": [12, 171, 28, 171, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "slot",
                                                "kind": "attr",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 18
                                                },
                                                "name": "heads",
                                                "loc": [29, 171, 37, 171, 0]
                                            }
                                        ],
                                        "loc": [12, 171, 38, 171, 0]
                                    },
                                    {
                                        "type": "repeat",
                                        "fresh": [],
                                        "heads": [
                                            {
                                                "type": "for",
                                                "slot": {
                                                    "type": "slot",
                                                    "kind": "tuple",
                                                    "slots": [
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 20
                                                        },
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 21
                                                        }
                                                    ],
                                                    "loc": [16, 172, 20, 172, 0]
                                                },
                                                "value": {
                                                    "type": "call",
                                                    "callee": {
                                                        "type": "slot",
                                                        "kind": "attr",
                                                        "base": {
                                                            "type": "slot",
                                                            "kind": "attr",
                                                            "base": {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 18
                                                            },
                                                            "name": "transitions",
                                                            "loc": [
                                                                24,
                                                                172,
                                                                38,
                                                                172,
                                                                0
                                                            ]
                                                        },
                                                        "name": "items",
                                                        "loc": [
                                                            24,
                                                            172,
                                                            44,
                                                            172,
                                                            0
                                                        ]
                                                    },
                                                    "args": [],
                                                    "loc": [24, 172, 46, 172, 0]
                                                }
                                            }
                                        ],
                                        "body": [
                                            {
                                                "type": "cond",
                                                "cond": {
                                                    "type": "call",
                                                    "callee": {
                                                        "type": "slot",
                                                        "kind": "global",
                                                        "name": "in",
                                                        "loc": [
                                                            19,
                                                            173,
                                                            28,
                                                            173,
                                                            0
                                                        ]
                                                    },
                                                    "args": [
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 20
                                                        },
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 10
                                                        }
                                                    ],
                                                    "loc": [19, 173, 28, 173, 0]
                                                },
                                                "tbody": [
                                                    {
                                                        "type": "assign",
                                                        "slot": {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 22
                                                        },
                                                        "value": {
                                                            "type": "call",
                                                            "callee": {
                                                                "type": "slot",
                                                                "kind": "global",
                                                                "name": "fresh_state",
                                                                "loc": [
                                                                    25,
                                                                    174,
                                                                    36,
                                                                    174,
                                                                    0
                                                                ]
                                                            },
                                                            "args": [
                                                                {
                                                                    "type": "call",
                                                                    "callee": {
                                                                        "type": "slot",
                                                                        "kind": "global",
                                                                        "name": "-expr",
                                                                        "loc": [
                                                                            37,
                                                                            174,
                                                                            39,
                                                                            174,
                                                                            0
                                                                        ]
                                                                    },
                                                                    "args": [
                                                                        {
                                                                            "type": "literal",
                                                                            "kind": "integer",
                                                                            "value": "1"
                                                                        }
                                                                    ],
                                                                    "loc": [
                                                                        37,
                                                                        174,
                                                                        39,
                                                                        174,
                                                                        0
                                                                    ]
                                                                }
                                                            ],
                                                            "loc": [
                                                                25,
                                                                174,
                                                                40,
                                                                174,
                                                                0
                                                            ]
                                                        }
                                                    },
                                                    {
                                                        "type": "call",
                                                        "callee": {
                                                            "type": "slot",
                                                            "kind": "attr",
                                                            "base": {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 19
                                                            },
                                                            "name": "add_transition",
                                                            "loc": [
                                                                20,
                                                                175,
                                                                38,
                                                                175,
                                                                0
                                                            ]
                                                        },
                                                        "args": [
                                                            {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 20
                                                            },
                                                            {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 22
                                                            }
                                                        ],
                                                        "loc": [
                                                            20,
                                                            175,
                                                            45,
                                                            175,
                                                            0
                                                        ]
                                                    },
                                                    {
                                                        "type": "assign",
                                                        "slot": {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 23
                                                        },
                                                        "value": {
                                                            "type": "call",
                                                            "callee": {
                                                                "type": "slot",
                                                                "kind": "global",
                                                                "name": "fresh_state",
                                                                "loc": [
                                                                    25,
                                                                    176,
                                                                    36,
                                                                    176,
                                                                    0
                                                                ]
                                                            },
                                                            "args": [
                                                                {
                                                                    "type": "call",
                                                                    "callee": {
                                                                        "type": "slot",
                                                                        "kind": "global",
                                                                        "name": "+expr",
                                                                        "loc": [
                                                                            37,
                                                                            176,
                                                                            39,
                                                                            176,
                                                                            0
                                                                        ]
                                                                    },
                                                                    "args": [
                                                                        {
                                                                            "type": "literal",
                                                                            "kind": "integer",
                                                                            "value": "1"
                                                                        }
                                                                    ],
                                                                    "loc": [
                                                                        37,
                                                                        176,
                                                                        39,
                                                                        176,
                                                                        0
                                                                    ]
                                                                }
                                                            ],
                                                            "loc": [
                                                                25,
                                                                176,
                                                                40,
                                                                176,
                                                                0
                                                            ]
                                                        }
                                                    },
                                                    {
                                                        "type": "call",
                                                        "callee": {
                                                            "type": "slot",
                                                            "kind": "attr",
                                                            "base": {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 22
                                                            },
                                                            "name": "add_flow",
                                                            "loc": [
                                                                20,
                                                                177,
                                                                31,
                                                                177,
                                                                0
                                                            ]
                                                        },
                                                        "args": [
                                                            {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 23
                                                            }
                                                        ],
                                                        "loc": [
                                                            20,
                                                            177,
                                                            35,
                                                            177,
                                                            0
                                                        ]
                                                    },
                                                    {
                                                        "type": "assign",
                                                        "slot": {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 24
                                                        },
                                                        "value": {
                                                            "type": "call",
                                                            "callee": {
                                                                "type": "slot",
                                                                "kind": "global",
                                                                "name": "fresh_state",
                                                                "loc": [
                                                                    25,
                                                                    178,
                                                                    36,
                                                                    178,
                                                                    0
                                                                ]
                                                            },
                                                            "args": [
                                                                {
                                                                    "type": "call",
                                                                    "callee": {
                                                                        "type": "slot",
                                                                        "kind": "global",
                                                                        "name": "-expr",
                                                                        "loc": [
                                                                            37,
                                                                            178,
                                                                            39,
                                                                            178,
                                                                            0
                                                                        ]
                                                                    },
                                                                    "args": [
                                                                        {
                                                                            "type": "literal",
                                                                            "kind": "integer",
                                                                            "value": "1"
                                                                        }
                                                                    ],
                                                                    "loc": [
                                                                        37,
                                                                        178,
                                                                        39,
                                                                        178,
                                                                        0
                                                                    ]
                                                                }
                                                            ],
                                                            "loc": [
                                                                25,
                                                                178,
                                                                40,
                                                                178,
                                                                0
                                                            ]
                                                        }
                                                    },
                                                    {
                                                        "type": "repeat",
                                                        "fresh": [],
                                                        "heads": [
                                                            {
                                                                "type": "for",
                                                                "slot": {
                                                                    "type": "slot",
                                                                    "kind": "local",
                                                                    "index": 25
                                                                },
                                                                "value": {
                                                                    "type": "slot",
                                                                    "kind": "local",
                                                                    "index": 21
                                                                }
                                                            }
                                                        ],
                                                        "body": [
                                                            {
                                                                "type": "call",
                                                                "callee": {
                                                                    "type": "slot",
                                                                    "kind": "global",
                                                                    "name": "merge",
                                                                    "loc": [
                                                                        39,
                                                                        179,
                                                                        44,
                                                                        179,
                                                                        0
                                                                    ]
                                                                },
                                                                "args": [
                                                                    {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 24
                                                                    },
                                                                    {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 25
                                                                    }
                                                                ],
                                                                "loc": [
                                                                    39,
                                                                    179,
                                                                    51,
                                                                    179,
                                                                    0
                                                                ]
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        "type": "assign",
                                                        "slot": {
                                                            "type": "slot",
                                                            "kind": "item",
                                                            "base": {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 17
                                                            },
                                                            "index": {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 20
                                                            },
                                                            "loc": [
                                                                20,
                                                                180,
                                                                28,
                                                                180,
                                                                0
                                                            ]
                                                        },
                                                        "value": {
                                                            "type": "record",
                                                            "fields": [
                                                                {
                                                                    "name": "input",
                                                                    "mutable": false,
                                                                    "value": {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 24
                                                                    }
                                                                },
                                                                {
                                                                    "name": "output",
                                                                    "mutable": false,
                                                                    "value": {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 23
                                                                    }
                                                                }
                                                            ]
                                                        }
                                                    }
                                                ],
                                                "fbody": [
                                                    {
                                                        "type": "assign",
                                                        "slot": {
                                                            "type": "slot",
                                                            "kind": "item",
                                                            "base": {
                                                                "type": "slot",
                                                                "kind": "attr",
                                                                "base": {
                                                                    "type": "slot",
                                                                    "kind": "local",
                                                                    "index": 19
                                                                },
                                                                "name": "transitions",
                                                                "loc": [
                                                                    20,
                                                                    182,
                                                                    35,
                                                                    182,
                                                                    0
                                                                ]
                                                            },
                                                            "index": {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 20
                                                            },
                                                            "loc": [
                                                                20,
                                                                182,
                                                                38,
                                                                182,
                                                                0
                                                            ]
                                                        },
                                                        "value": {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 21
                                                        }
                                                    }
                                                ],
                                                "loc": [16, 173, 43, 182, 0]
                                            }
                                        ]
                                    },
                                    {
                                        "type": "repeat",
                                        "fresh": [],
                                        "heads": [
                                            {
                                                "type": "for",
                                                "slot": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 26
                                                },
                                                "value": {
                                                    "type": "slot",
                                                    "kind": "item",
                                                    "base": {
                                                        "type": "slot",
                                                        "kind": "attr",
                                                        "base": {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 1
                                                        },
                                                        "name": "transitions",
                                                        "loc": [
                                                            21,
                                                            183,
                                                            34,
                                                            183,
                                                            0
                                                        ]
                                                    },
                                                    "index": {
                                                        "type": "slot",
                                                        "kind": "attr",
                                                        "base": {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 3
                                                        },
                                                        "name": "edge",
                                                        "loc": [
                                                            35,
                                                            183,
                                                            44,
                                                            183,
                                                            0
                                                        ]
                                                    },
                                                    "loc": [21, 183, 45, 183, 0]
                                                }
                                            }
                                        ],
                                        "body": [
                                            {
                                                "type": "call",
                                                "callee": {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "biunify",
                                                    "loc": [16, 184, 23, 184, 0]
                                                },
                                                "args": [
                                                    {
                                                        "type": "make_tuple",
                                                        "items": [
                                                            {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 19
                                                            },
                                                            {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 26
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 4
                                                    }
                                                ],
                                                "loc": [16, 184, 42, 184, 0]
                                            }
                                        ]
                                    }
                                ],
                                "loc": [8, 163, 42, 184, 0]
                            },
                            {
                                "type": "repeat",
                                "fresh": [],
                                "heads": [
                                    {
                                        "type": "for",
                                        "slot": {
                                            "type": "slot",
                                            "kind": "tuple",
                                            "slots": [
                                                {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 27
                                                },
                                                {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 28
                                                }
                                            ],
                                            "loc": [12, 186, 15, 186, 0]
                                        },
                                        "value": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 12
                                        }
                                    },
                                    {
                                        "type": "if",
                                        "cond": {
                                            "type": "not",
                                            "value": {
                                                "type": "call",
                                                "callee": {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "in",
                                                    "loc": [32, 186, 59, 186, 0]
                                                },
                                                "args": [
                                                    {
                                                        "type": "make_tuple",
                                                        "items": [
                                                            {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 27
                                                            },
                                                            {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 28
                                                            },
                                                            {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 14
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        "type": "slot",
                                                        "kind": "attr",
                                                        "base": {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 3
                                                        },
                                                        "name": "coerces",
                                                        "loc": [
                                                            47,
                                                            186,
                                                            59,
                                                            186,
                                                            0
                                                        ]
                                                    }
                                                ],
                                                "loc": [32, 186, 59, 186, 0]
                                            },
                                            "loc": [32, 186, 59, 186, 0]
                                        }
                                    }
                                ],
                                "body": [
                                    {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "attr",
                                            "base": {
                                                "type": "slot",
                                                "kind": "attr",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 3
                                                },
                                                "name": "coerces",
                                                "loc": [12, 187, 24, 187, 0]
                                            },
                                            "name": "add",
                                            "loc": [12, 187, 28, 187, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "make_tuple",
                                                "items": [
                                                    {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 27
                                                    },
                                                    {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 28
                                                    },
                                                    {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 14
                                                    }
                                                ]
                                            }
                                        ],
                                        "loc": [12, 187, 37, 187, 0]
                                    },
                                    {
                                        "type": "assign",
                                        "slot": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 5
                                        },
                                        "value": {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "get_coercion_function_type",
                                                "loc": [16, 189, 42, 189, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 27
                                                },
                                                {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 14
                                                }
                                            ],
                                            "loc": [16, 189, 48, 189, 0]
                                        }
                                    },
                                    {
                                        "type": "assign",
                                        "slot": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 29
                                        },
                                        "value": {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "get_function_header",
                                                "loc": [17, 190, 36, 190, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "literal",
                                                    "kind": "integer",
                                                    "value": "1"
                                                },
                                                {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "false",
                                                    "loc": [40, 190, 45, 190, 0]
                                                },
                                                {
                                                    "type": "literal",
                                                    "kind": "integer",
                                                    "value": "0"
                                                }
                                            ],
                                            "loc": [17, 190, 49, 190, 0]
                                        }
                                    },
                                    {
                                        "type": "assert",
                                        "cond": {
                                            "type": "cmp",
                                            "exprs": [
                                                {
                                                    "type": "slot",
                                                    "kind": "attr",
                                                    "base": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 5
                                                    },
                                                    "name": "heads",
                                                    "loc": [19, 191, 26, 191, 0]
                                                },
                                                {
                                                    "type": "call",
                                                    "callee": {
                                                        "type": "slot",
                                                        "kind": "global",
                                                        "name": "set",
                                                        "loc": [
                                                            30,
                                                            191,
                                                            33,
                                                            191,
                                                            0
                                                        ]
                                                    },
                                                    "args": [
                                                        {
                                                            "type": "list",
                                                            "values": [
                                                                {
                                                                    "type": "slot",
                                                                    "kind": "local",
                                                                    "index": 29
                                                                }
                                                            ]
                                                        }
                                                    ],
                                                    "loc": [30, 191, 39, 191, 0]
                                                }
                                            ],
                                            "ops": [
                                                {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "==",
                                                    "loc": [19, 191, 39, 191, 0]
                                                }
                                            ],
                                            "loc": [19, 191, 39, 191, 0]
                                        },
                                        "value": {
                                            "type": "literal",
                                            "kind": "string",
                                            "value": "type error"
                                        },
                                        "loc": [12, 191, 55, 191, 0]
                                    },
                                    {
                                        "type": "assign",
                                        "slot": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 30
                                        },
                                        "value": {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "fresh_state",
                                                "loc": [16, 192, 27, 192, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "call",
                                                    "callee": {
                                                        "type": "slot",
                                                        "kind": "global",
                                                        "name": "-expr",
                                                        "loc": [
                                                            28,
                                                            192,
                                                            30,
                                                            192,
                                                            0
                                                        ]
                                                    },
                                                    "args": [
                                                        {
                                                            "type": "literal",
                                                            "kind": "integer",
                                                            "value": "1"
                                                        }
                                                    ],
                                                    "loc": [28, 192, 30, 192, 0]
                                                }
                                            ],
                                            "loc": [16, 192, 31, 192, 0]
                                        }
                                    },
                                    {
                                        "type": "repeat",
                                        "fresh": [],
                                        "heads": [
                                            {
                                                "type": "for",
                                                "slot": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 31
                                                },
                                                "value": {
                                                    "type": "slot",
                                                    "kind": "item",
                                                    "base": {
                                                        "type": "slot",
                                                        "kind": "attr",
                                                        "base": {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 5
                                                        },
                                                        "name": "transitions",
                                                        "loc": [
                                                            21,
                                                            193,
                                                            34,
                                                            193,
                                                            0
                                                        ]
                                                    },
                                                    "index": {
                                                        "type": "call",
                                                        "callee": {
                                                            "type": "slot",
                                                            "kind": "global",
                                                            "name": "get_dom",
                                                            "loc": [
                                                                35,
                                                                193,
                                                                42,
                                                                193,
                                                                0
                                                            ]
                                                        },
                                                        "args": [
                                                            {
                                                                "type": "literal",
                                                                "kind": "integer",
                                                                "value": "0"
                                                            }
                                                        ],
                                                        "loc": [
                                                            35,
                                                            193,
                                                            45,
                                                            193,
                                                            0
                                                        ]
                                                    },
                                                    "loc": [21, 193, 46, 193, 0]
                                                }
                                            }
                                        ],
                                        "body": [
                                            {
                                                "type": "call",
                                                "callee": {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "merge",
                                                    "loc": [16, 194, 21, 194, 0]
                                                },
                                                "args": [
                                                    {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 30
                                                    },
                                                    {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 31
                                                    }
                                                ],
                                                "loc": [16, 194, 27, 194, 0]
                                            }
                                        ]
                                    },
                                    {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "attr",
                                            "base": {
                                                "type": "slot",
                                                "kind": "attr",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 30
                                                },
                                                "name": "heads",
                                                "loc": [12, 195, 19, 195, 0]
                                            },
                                            "name": "clear",
                                            "loc": [12, 195, 25, 195, 0]
                                        },
                                        "args": [],
                                        "loc": [12, 195, 27, 195, 0]
                                    },
                                    {
                                        "type": "assign",
                                        "slot": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 32
                                        },
                                        "value": {
                                            "type": "slot",
                                            "kind": "item",
                                            "base": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 17
                                            },
                                            "index": {
                                                "type": "call",
                                                "callee": {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "get_dom",
                                                    "loc": [25, 197, 32, 197, 0]
                                                },
                                                "args": [
                                                    {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 28
                                                    }
                                                ],
                                                "loc": [25, 197, 35, 197, 0]
                                            },
                                            "loc": [19, 197, 36, 197, 0]
                                        }
                                    },
                                    {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "biunify",
                                            "loc": [12, 198, 19, 198, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "make_tuple",
                                                "items": [
                                                    {
                                                        "type": "slot",
                                                        "kind": "attr",
                                                        "base": {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 32
                                                        },
                                                        "name": "output",
                                                        "loc": [
                                                            21,
                                                            198,
                                                            32,
                                                            198,
                                                            0
                                                        ]
                                                    },
                                                    {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 30
                                                    }
                                                ]
                                            },
                                            {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 4
                                            }
                                        ],
                                        "loc": [12, 198, 46, 198, 0]
                                    },
                                    {
                                        "type": "repeat",
                                        "fresh": [],
                                        "heads": [
                                            {
                                                "type": "for",
                                                "slot": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 33
                                                },
                                                "value": {
                                                    "type": "slot",
                                                    "kind": "item",
                                                    "base": {
                                                        "type": "slot",
                                                        "kind": "attr",
                                                        "base": {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 5
                                                        },
                                                        "name": "transitions",
                                                        "loc": [
                                                            21,
                                                            199,
                                                            34,
                                                            199,
                                                            0
                                                        ]
                                                    },
                                                    "index": {
                                                        "type": "slot",
                                                        "kind": "global",
                                                        "name": "cod",
                                                        "loc": [
                                                            35,
                                                            199,
                                                            38,
                                                            199,
                                                            0
                                                        ]
                                                    },
                                                    "loc": [21, 199, 39, 199, 0]
                                                }
                                            }
                                        ],
                                        "body": [
                                            {
                                                "type": "call",
                                                "callee": {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "biunify",
                                                    "loc": [16, 200, 23, 200, 0]
                                                },
                                                "args": [
                                                    {
                                                        "type": "make_tuple",
                                                        "items": [
                                                            {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 33
                                                            },
                                                            {
                                                                "type": "slot",
                                                                "kind": "attr",
                                                                "base": {
                                                                    "type": "slot",
                                                                    "kind": "local",
                                                                    "index": 32
                                                                },
                                                                "name": "input",
                                                                "loc": [
                                                                    28,
                                                                    200,
                                                                    38,
                                                                    200,
                                                                    0
                                                                ]
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 4
                                                    }
                                                ],
                                                "loc": [16, 200, 49, 200, 0]
                                            }
                                        ]
                                    }
                                ]
                            }
                        ]
                    }
                ],
                "loc": [19, 133, 49, 200, 0]
            }
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "binary_operator",
                "loc": [0, 202, 15, 202, 0]
            },
            "value": {
                "type": "closure",
                "cellvars": [],
                "localvars": [
                    {"type": "cell", "deref": false, "name": "op", "defs": 1},
                    {"type": "cell", "deref": false, "name": "head", "defs": 1},
                    {
                        "type": "cell",
                        "deref": false,
                        "name": "expect",
                        "defs": 1
                    }
                ],
                "frame": [],
                "args": [
                    {"slot": {"type": "slot", "kind": "local", "index": 0}},
                    {"slot": {"type": "slot", "kind": "local", "index": 1}},
                    {"slot": {"type": "slot", "kind": "local", "index": 2}}
                ],
                "body": [
                    {
                        "type": "cond",
                        "cond": {
                            "type": "and",
                            "lhs": {
                                "type": "cmp",
                                "exprs": [
                                    {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 0
                                    },
                                    {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "call",
                                        "loc": [13, 206, 17, 206, 0]
                                    }
                                ],
                                "ops": [
                                    {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "==",
                                        "loc": [7, 206, 17, 206, 0]
                                    }
                                ],
                                "loc": [7, 206, 17, 206, 0]
                            },
                            "rhs": {
                                "type": "cmp",
                                "exprs": [
                                    {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 1
                                    },
                                    {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "face",
                                            "loc": [30, 206, 34, 206, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "+",
                                                "loc": [36, 206, 37, 206, 0]
                                            }
                                        ],
                                        "loc": [30, 206, 39, 206, 0]
                                    }
                                ],
                                "ops": [
                                    {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "==",
                                        "loc": [22, 206, 39, 206, 0]
                                    }
                                ],
                                "loc": [22, 206, 39, 206, 0]
                            },
                            "loc": [7, 206, 39, 206, 0]
                        },
                        "tbody": [
                            {
                                "type": "call",
                                "callee": {
                                    "type": "slot",
                                    "kind": "global",
                                    "name": "print",
                                    "loc": [8, 207, 13, 207, 0]
                                },
                                "args": [
                                    {
                                        "type": "literal",
                                        "kind": "string",
                                        "value": "hello from (+)!"
                                    }
                                ],
                                "loc": [8, 207, 32, 207, 0]
                            },
                            {
                                "type": "assert",
                                "cond": {
                                    "type": "slot",
                                    "kind": "global",
                                    "name": "false",
                                    "loc": [15, 208, 20, 208, 0]
                                },
                                "value": {
                                    "type": "literal",
                                    "kind": "string",
                                    "value": "especially not implemented"
                                },
                                "loc": [8, 208, 52, 208, 0]
                            }
                        ],
                        "fbody": [],
                        "loc": [4, 206, 52, 208, 0]
                    },
                    {
                        "type": "assert",
                        "cond": {
                            "type": "slot",
                            "kind": "global",
                            "name": "false",
                            "loc": [11, 210, 16, 210, 0]
                        },
                        "value": {
                            "type": "literal",
                            "kind": "string",
                            "value": "not implemented"
                        },
                        "loc": [4, 210, 37, 210, 0]
                    }
                ],
                "loc": [18, 202, 37, 210, 0]
            }
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "get_coercion_function_type",
                "loc": [0, 373, 26, 373, 0]
            },
            "value": {
                "type": "closure",
                "cellvars": [],
                "localvars": [
                    {"type": "cell", "deref": false, "name": "a", "defs": 1},
                    {"type": "cell", "deref": false, "name": "b", "defs": 1}
                ],
                "frame": [],
                "args": [
                    {"slot": {"type": "slot", "kind": "local", "index": 0}},
                    {"slot": {"type": "slot", "kind": "local", "index": 1}}
                ],
                "body": [
                    {
                        "type": "assert",
                        "cond": {
                            "type": "slot",
                            "kind": "global",
                            "name": "false",
                            "loc": [11, 374, 16, 374, 0]
                        },
                        "value": {
                            "type": "literal",
                            "kind": "string",
                            "value": "not implemented"
                        },
                        "loc": [4, 374, 37, 374, 0]
                    }
                ],
                "loc": [29, 373, 37, 374, 0]
            }
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "to_raw_type",
                "loc": [0, 408, 11, 408, 0]
            },
            "value": {
                "type": "closure",
                "cellvars": [
                    {"type": "cell", "deref": true, "name": "scheme", "defs": 1
                    },
                    {
                        "type": "cell",
                        "deref": true,
                        "name": "flow_variables",
                        "defs": 1
                    },
                    {"type": "cell", "deref": true, "name": "visi", "defs": 1},
                    {"type": "cell", "deref": true, "name": "mapi", "defs": 1},
                    {
                        "type": "cell",
                        "deref": true,
                        "name": "rvar_id",
                        "defs": 1
                    },
                    {
                        "type": "cell",
                        "deref": true,
                        "name": "s_visit",
                        "defs": 1
                    },
                    {
                        "type": "cell",
                        "deref": true,
                        "name": "r_visit",
                        "defs": 1
                    },
                    {
                        "type": "cell",
                        "deref": true,
                        "name": "e_visit",
                        "defs": 1
                    }
                ],
                "localvars": [
                    {"type": "cell", "deref": false, "name": "trail", "defs": 1
                    },
                    {
                        "type": "cell",
                        "deref": false,
                        "name": "k_visit",
                        "defs": 1
                    }
                ],
                "frame": [],
                "args": [{"slot": {"type": "slot", "kind": "cell", "index": 0}}
                ],
                "body": [
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "cell", "index": 1},
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "global",
                                "name": "greedy_biclique_decomposition",
                                "loc": [21, 409, 50, 409, 0]
                            },
                            "args": [
                                {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "cell",
                                        "index": 0
                                    },
                                    "name": "generic",
                                    "loc": [8, 410, 22, 410, 0]
                                },
                                {
                                    "type": "closure",
                                    "cellvars": [],
                                    "localvars": [
                                        {
                                            "type": "cell",
                                            "deref": false,
                                            "name": "vertex",
                                            "defs": 1
                                        }
                                    ],
                                    "frame": [],
                                    "args": [
                                        {
                                            "slot": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 0
                                            }
                                        }
                                    ],
                                    "body": [
                                        {
                                            "type": "return",
                                            "value": {
                                                "type": "slot",
                                                "kind": "attr",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 0
                                                },
                                                "name": "flow",
                                                "loc": [19, 411, 30, 411, 0]
                                            }
                                        }
                                    ],
                                    "loc": [9, 411, 30, 411, 0]
                                }
                            ],
                            "loc": [21, 409, 32, 411, 0]
                        }
                    },
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "cell", "index": 2},
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "global",
                                "name": "set",
                                "loc": [11, 415, 14, 415, 0]
                            },
                            "args": [],
                            "loc": [11, 415, 16, 415, 0]
                        }
                    },
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "cell", "index": 3},
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "global",
                                "name": "dict",
                                "loc": [11, 416, 15, 416, 0]
                            },
                            "args": [],
                            "loc": [11, 416, 17, 416, 0]
                        }
                    },
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "cell", "index": 4},
                        "value": {
                            "type": "literal",
                            "kind": "integer",
                            "value": "0"
                        }
                    },
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "local", "index": 0},
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "global",
                                "name": "dict",
                                "loc": [12, 419, 16, 419, 0]
                            },
                            "args": [],
                            "loc": [12, 419, 18, 419, 0]
                        }
                    },
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "cell", "index": 5},
                        "value": {
                            "type": "closure",
                            "cellvars": [
                                {
                                    "type": "cell",
                                    "deref": true,
                                    "name": "scheme",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": true,
                                    "name": "visi",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": true,
                                    "name": "rvar_id",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": true,
                                    "name": "mapi",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": true,
                                    "name": "r_visit",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": true,
                                    "name": "flow_variables",
                                    "defs": 1
                                }
                            ],
                            "localvars": [
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "state",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "in_trail",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "sym",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "op",
                                    "defs": 2
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "typedecl",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "head",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "index",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "site",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "name",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "x",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "v",
                                    "defs": 1
                                }
                            ],
                            "frame": [0, 2, 4, 3, 6, 1],
                            "args": [
                                {
                                    "slot": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 0
                                    }
                                },
                                {
                                    "slot": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 1
                                    }
                                }
                            ],
                            "body": [
                                {
                                    "type": "assert",
                                    "cond": {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "in",
                                            "loc": [15, 422, 38, 422, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 0
                                            },
                                            {
                                                "type": "slot",
                                                "kind": "attr",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "cell",
                                                    "index": 0
                                                },
                                                "name": "generic",
                                                "loc": [24, 422, 38, 422, 0]
                                            }
                                        ],
                                        "loc": [15, 422, 38, 422, 0]
                                    },
                                    "value": {
                                        "type": "literal",
                                        "kind": "string",
                                        "value": "raw type cannot print schemes with free variables in them"
                                    },
                                    "loc": [8, 422, 71, 423, 0]
                                },
                                {
                                    "type": "cond",
                                    "cond": {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "in",
                                            "loc": [11, 424, 24, 424, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 0
                                            },
                                            {
                                                "type": "slot",
                                                "kind": "cell",
                                                "index": 1
                                            }
                                        ],
                                        "loc": [11, 424, 24, 424, 0]
                                    },
                                    "tbody": [
                                        {
                                            "type": "assign",
                                            "slot": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 2
                                            },
                                            "value": {
                                                "type": "call",
                                                "callee": {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "++",
                                                    "loc": [18, 425, 47, 425, 0]
                                                },
                                                "args": [
                                                    {
                                                        "type": "literal",
                                                        "kind": "string",
                                                        "value": "rec.r"
                                                    },
                                                    {
                                                        "type": "call",
                                                        "callee": {
                                                            "type": "slot",
                                                            "kind": "global",
                                                            "name": "stringify",
                                                            "loc": [
                                                                29,
                                                                425,
                                                                38,
                                                                425,
                                                                0
                                                            ]
                                                        },
                                                        "args": [
                                                            {
                                                                "type": "slot",
                                                                "kind": "cell",
                                                                "index": 2
                                                            }
                                                        ],
                                                        "loc": [
                                                            29,
                                                            425,
                                                            47,
                                                            425,
                                                            0
                                                        ]
                                                    }
                                                ],
                                                "loc": [18, 425, 47, 425, 0]
                                            }
                                        },
                                        {
                                            "type": "assign",
                                            "slot": {
                                                "type": "slot",
                                                "kind": "item",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "cell",
                                                    "index": 3
                                                },
                                                "index": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 0
                                                },
                                                "loc": [12, 426, 23, 426, 0]
                                            },
                                            "value": {
                                                "type": "call",
                                                "callee": {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "++",
                                                    "loc": [26, 426, 55, 426, 0]
                                                },
                                                "args": [
                                                    {
                                                        "type": "literal",
                                                        "kind": "string",
                                                        "value": "let.r"
                                                    },
                                                    {
                                                        "type": "call",
                                                        "callee": {
                                                            "type": "slot",
                                                            "kind": "global",
                                                            "name": "stringify",
                                                            "loc": [
                                                                37,
                                                                426,
                                                                46,
                                                                426,
                                                                0
                                                            ]
                                                        },
                                                        "args": [
                                                            {
                                                                "type": "slot",
                                                                "kind": "cell",
                                                                "index": 2
                                                            }
                                                        ],
                                                        "loc": [
                                                            37,
                                                            426,
                                                            55,
                                                            426,
                                                            0
                                                        ]
                                                    }
                                                ],
                                                "loc": [26, 426, 55, 426, 0]
                                            }
                                        },
                                        {
                                            "type": "inplace_assign",
                                            "slot": {
                                                "type": "slot",
                                                "kind": "cell",
                                                "index": 2
                                            },
                                            "op": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "+",
                                                "loc": [12, 427, 24, 427, 0]
                                            },
                                            "value": {
                                                "type": "literal",
                                                "kind": "integer",
                                                "value": "1"
                                            }
                                        },
                                        {
                                            "type": "return",
                                            "value": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 2
                                            }
                                        }
                                    ],
                                    "fbody": [],
                                    "loc": [8, 424, 22, 428, 0]
                                },
                                {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "attr",
                                        "base": {
                                            "type": "slot",
                                            "kind": "cell",
                                            "index": 1
                                        },
                                        "name": "add",
                                        "loc": [8, 429, 16, 429, 0]
                                    },
                                    "args": [
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 0
                                        }
                                    ],
                                    "loc": [8, 429, 23, 429, 0]
                                },
                                {
                                    "type": "cond",
                                    "cond": {
                                        "type": "cmp",
                                        "exprs": [
                                            {
                                                "type": "slot",
                                                "kind": "attr",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 0
                                                },
                                                "name": "pol",
                                                "loc": [11, 431, 20, 431, 0]
                                            },
                                            {
                                                "type": "literal",
                                                "kind": "integer",
                                                "value": "0"
                                            }
                                        ],
                                        "ops": [
                                            {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": ">",
                                                "loc": [11, 431, 24, 431, 0]
                                            }
                                        ],
                                        "loc": [11, 431, 24, 431, 0]
                                    },
                                    "tbody": [
                                        {
                                            "type": "assign",
                                            "slot": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 3
                                            },
                                            "value": {
                                                "type": "literal",
                                                "kind": "string",
                                                "value": " | "
                                            }
                                        }
                                    ],
                                    "fbody": [
                                        {
                                            "type": "assign",
                                            "slot": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 3
                                            },
                                            "value": {
                                                "type": "literal",
                                                "kind": "string",
                                                "value": " & "
                                            }
                                        }
                                    ],
                                    "loc": [8, 431, 22, 434, 0]
                                },
                                {
                                    "type": "assign",
                                    "slot": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 4
                                    },
                                    "value": {"type": "list", "values": []}
                                },
                                {
                                    "type": "repeat",
                                    "fresh": [],
                                    "heads": [
                                        {
                                            "type": "for",
                                            "slot": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 5
                                            },
                                            "value": {
                                                "type": "slot",
                                                "kind": "attr",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 0
                                                },
                                                "name": "heads",
                                                "loc": [20, 437, 31, 437, 0]
                                            }
                                        }
                                    ],
                                    "body": [
                                        {
                                            "type": "case",
                                            "value": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 5
                                            },
                                            "cases": [
                                                {
                                                    "type": "pattern",
                                                    "pattern": {
                                                        "type": "slot",
                                                        "kind": "global",
                                                        "name": "sink",
                                                        "loc": [
                                                            12,
                                                            439,
                                                            16,
                                                            439,
                                                            0
                                                        ]
                                                    },
                                                    "slot": {
                                                        "type": "slot",
                                                        "kind": "tuple",
                                                        "slots": [
                                                            {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 6
                                                            },
                                                            {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 7
                                                            }
                                                        ],
                                                        "loc": [
                                                            12,
                                                            439,
                                                            49,
                                                            441,
                                                            0
                                                        ]
                                                    },
                                                    "body": [
                                                        {
                                                            "type": "assign",
                                                            "slot": {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 8
                                                            },
                                                            "value": {
                                                                "type": "call",
                                                                "callee": {
                                                                    "type": "slot",
                                                                    "kind": "global",
                                                                    "name": "stringify",
                                                                    "loc": [
                                                                        23,
                                                                        440,
                                                                        32,
                                                                        440,
                                                                        0
                                                                    ]
                                                                },
                                                                "args": [
                                                                    {
                                                                        "type": "slot",
                                                                        "kind": "attr",
                                                                        "base": {
                                                                            "type": "slot",
                                                                            "kind": "local",
                                                                            "index": 7
                                                                        },
                                                                        "name": "op",
                                                                        "loc": [
                                                                            33,
                                                                            440,
                                                                            40,
                                                                            440,
                                                                            0
                                                                        ]
                                                                    }
                                                                ],
                                                                "loc": [
                                                                    23,
                                                                    440,
                                                                    41,
                                                                    440,
                                                                    0
                                                                ]
                                                            }
                                                        },
                                                        {
                                                            "type": "assert",
                                                            "cond": {
                                                                "type": "slot",
                                                                "kind": "global",
                                                                "name": "false",
                                                                "loc": [
                                                                    23,
                                                                    441,
                                                                    28,
                                                                    441,
                                                                    0
                                                                ]
                                                            },
                                                            "value": {
                                                                "type": "literal",
                                                                "kind": "string",
                                                                "value": "TODO: implement"
                                                            },
                                                            "loc": [
                                                                16,
                                                                441,
                                                                49,
                                                                441,
                                                                0
                                                            ]
                                                        }
                                                    ],
                                                    "loc": [12, 439, 49, 441, 0]
                                                },
                                                {
                                                    "type": "pattern",
                                                    "pattern": {
                                                        "type": "slot",
                                                        "kind": "global",
                                                        "name": "faucet",
                                                        "loc": [
                                                            12,
                                                            449,
                                                            18,
                                                            449,
                                                            0
                                                        ]
                                                    },
                                                    "slot": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 9
                                                    },
                                                    "body": [
                                                        {
                                                            "type": "call",
                                                            "callee": {
                                                                "type": "slot",
                                                                "kind": "attr",
                                                                "base": {
                                                                    "type": "slot",
                                                                    "kind": "local",
                                                                    "index": 4
                                                                },
                                                                "name": "append",
                                                                "loc": [
                                                                    16,
                                                                    450,
                                                                    31,
                                                                    450,
                                                                    0
                                                                ]
                                                            },
                                                            "args": [
                                                                {
                                                                    "type": "call",
                                                                    "callee": {
                                                                        "type": "slot",
                                                                        "kind": "cell",
                                                                        "index": 4
                                                                    },
                                                                    "args": [
                                                                        {
                                                                            "type": "slot",
                                                                            "kind": "local",
                                                                            "index": 9
                                                                        },
                                                                        {
                                                                            "type": "slot",
                                                                            "kind": "local",
                                                                            "index": 0
                                                                        },
                                                                        {
                                                                            "type": "slot",
                                                                            "kind": "local",
                                                                            "index": 1
                                                                        }
                                                                    ],
                                                                    "loc": [
                                                                        32,
                                                                        450,
                                                                        59,
                                                                        450,
                                                                        0
                                                                    ]
                                                                }
                                                            ],
                                                            "loc": [
                                                                16,
                                                                450,
                                                                60,
                                                                450,
                                                                0
                                                            ]
                                                        }
                                                    ],
                                                    "loc": [12, 449, 60, 450, 0]
                                                }
                                            ],
                                            "default": [],
                                            "loc": [12, 438, 60, 450, 0]
                                        }
                                    ]
                                },
                                {
                                    "type": "repeat",
                                    "fresh": [],
                                    "heads": [
                                        {
                                            "type": "for",
                                            "slot": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 10
                                            },
                                            "value": {
                                                "type": "slot",
                                                "kind": "item",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "cell",
                                                    "index": 5
                                                },
                                                "index": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 0
                                                },
                                                "loc": [17, 451, 38, 451, 0]
                                            }
                                        }
                                    ],
                                    "body": [
                                        {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "attr",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 4
                                                },
                                                "name": "append",
                                                "loc": [12, 452, 27, 452, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "call",
                                                    "callee": {
                                                        "type": "slot",
                                                        "kind": "global",
                                                        "name": "stringify",
                                                        "loc": [
                                                            28,
                                                            452,
                                                            37,
                                                            452,
                                                            0
                                                        ]
                                                    },
                                                    "args": [
                                                        {
                                                            "type": "call",
                                                            "callee": {
                                                                "type": "slot",
                                                                "kind": "global",
                                                                "name": "+",
                                                                "loc": [
                                                                    38,
                                                                    452,
                                                                    42,
                                                                    452,
                                                                    0
                                                                ]
                                                            },
                                                            "args": [
                                                                {
                                                                    "type": "slot",
                                                                    "kind": "local",
                                                                    "index": 10
                                                                },
                                                                {
                                                                    "type": "literal",
                                                                    "kind": "integer",
                                                                    "value": "10"
                                                                }
                                                            ],
                                                            "loc": [
                                                                38,
                                                                452,
                                                                42,
                                                                452,
                                                                0
                                                            ]
                                                        },
                                                        {
                                                            "type": "literal",
                                                            "kind": "integer",
                                                            "value": "36"
                                                        }
                                                    ],
                                                    "loc": [28, 452, 47, 452, 0]
                                                }
                                            ],
                                            "loc": [12, 452, 48, 452, 0]
                                        }
                                    ]
                                },
                                {
                                    "type": "cond",
                                    "cond": {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "in",
                                            "loc": [11, 453, 24, 453, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 0
                                            },
                                            {
                                                "type": "slot",
                                                "kind": "cell",
                                                "index": 3
                                            }
                                        ],
                                        "loc": [11, 453, 24, 453, 0]
                                    },
                                    "tbody": [
                                        {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "attr",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 4
                                                },
                                                "name": "insert",
                                                "loc": [12, 454, 27, 454, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "literal",
                                                    "kind": "integer",
                                                    "value": "0"
                                                },
                                                {
                                                    "type": "call",
                                                    "callee": {
                                                        "type": "slot",
                                                        "kind": "attr",
                                                        "base": {
                                                            "type": "slot",
                                                            "kind": "cell",
                                                            "index": 3
                                                        },
                                                        "name": "pop",
                                                        "loc": [
                                                            31,
                                                            454,
                                                            39,
                                                            454,
                                                            0
                                                        ]
                                                    },
                                                    "args": [
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 0
                                                        }
                                                    ],
                                                    "loc": [31, 454, 46, 454, 0]
                                                }
                                            ],
                                            "loc": [12, 454, 47, 454, 0]
                                        }
                                    ],
                                    "fbody": [],
                                    "loc": [8, 453, 47, 454, 0]
                                },
                                {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "attr",
                                        "base": {
                                            "type": "slot",
                                            "kind": "cell",
                                            "index": 1
                                        },
                                        "name": "discard",
                                        "loc": [8, 455, 20, 455, 0]
                                    },
                                    "args": [
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 0
                                        }
                                    ],
                                    "loc": [8, 455, 27, 455, 0]
                                },
                                {
                                    "type": "return",
                                    "value": {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "++",
                                            "loc": [15, 456, 46, 456, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "call",
                                                "callee": {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "++",
                                                    "loc": [15, 456, 39, 456, 0]
                                                },
                                                "args": [
                                                    {
                                                        "type": "literal",
                                                        "kind": "string",
                                                        "value": "("
                                                    },
                                                    {
                                                        "type": "call",
                                                        "callee": {
                                                            "type": "slot",
                                                            "kind": "attr",
                                                            "base": {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 3
                                                            },
                                                            "name": "join",
                                                            "loc": [
                                                                22,
                                                                456,
                                                                29,
                                                                456,
                                                                0
                                                            ]
                                                        },
                                                        "args": [
                                                            {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 4
                                                            }
                                                        ],
                                                        "loc": [
                                                            22,
                                                            456,
                                                            39,
                                                            456,
                                                            0
                                                        ]
                                                    }
                                                ],
                                                "loc": [15, 456, 39, 456, 0]
                                            },
                                            {
                                                "type": "literal",
                                                "kind": "string",
                                                "value": ")"
                                            }
                                        ],
                                        "loc": [15, 456, 46, 456, 0]
                                    }
                                }
                            ],
                            "loc": [14, 421, 46, 456, 0]
                        }
                    },
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "cell", "index": 6},
                        "value": {
                            "type": "closure",
                            "cellvars": [
                                {
                                    "type": "cell",
                                    "deref": true,
                                    "name": "e_visit",
                                    "defs": 1
                                }
                            ],
                            "localvars": [
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "face",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "state",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "in_trail",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "px",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "edge",
                                    "defs": 1
                                }
                            ],
                            "frame": [7],
                            "args": [
                                {
                                    "slot": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 0
                                    }
                                },
                                {
                                    "slot": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 1
                                    }
                                },
                                {
                                    "slot": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 2
                                    }
                                }
                            ],
                            "body": [
                                {
                                    "type": "assign",
                                    "slot": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 3
                                    },
                                    "value": {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "dict",
                                            "loc": [13, 459, 17, 459, 0]
                                        },
                                        "args": [],
                                        "loc": [13, 459, 19, 459, 0]
                                    }
                                },
                                {
                                    "type": "repeat",
                                    "fresh": [],
                                    "heads": [
                                        {
                                            "type": "for",
                                            "slot": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 4
                                            },
                                            "value": {
                                                "type": "call",
                                                "callee": {
                                                    "type": "slot",
                                                    "kind": "attr",
                                                    "base": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 0
                                                    },
                                                    "name": "params",
                                                    "loc": [20, 460, 31, 460, 0]
                                                },
                                                "args": [],
                                                "loc": [20, 460, 33, 460, 0]
                                            }
                                        }
                                    ],
                                    "body": [
                                        {
                                            "type": "assign",
                                            "slot": {
                                                "type": "slot",
                                                "kind": "item",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 3
                                                },
                                                "index": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 4
                                                },
                                                "loc": [12, 461, 20, 461, 0]
                                            },
                                            "value": {
                                                "type": "call",
                                                "callee": {
                                                    "type": "slot",
                                                    "kind": "cell",
                                                    "index": 0
                                                },
                                                "args": [
                                                    {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 1
                                                    },
                                                    {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 4
                                                    },
                                                    {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 2
                                                    }
                                                ],
                                                "loc": [23, 461, 53, 461, 0]
                                            }
                                        }
                                    ]
                                },
                                {
                                    "type": "return",
                                    "value": {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "attr",
                                            "base": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 0
                                            },
                                            "name": "format",
                                            "loc": [15, 462, 26, 462, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 3
                                            }
                                        ],
                                        "loc": [15, 462, 30, 462, 0]
                                    }
                                }
                            ],
                            "loc": [14, 458, 30, 462, 0]
                        }
                    },
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "cell", "index": 7},
                        "value": {
                            "type": "closure",
                            "cellvars": [
                                {
                                    "type": "cell",
                                    "deref": true,
                                    "name": "s_visit",
                                    "defs": 1
                                }
                            ],
                            "localvars": [
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "state",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "edge",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "in_trail",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "ws",
                                    "defs": 1
                                }
                            ],
                            "frame": [5],
                            "args": [
                                {
                                    "slot": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 0
                                    }
                                },
                                {
                                    "slot": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 1
                                    }
                                },
                                {
                                    "slot": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 2
                                    }
                                }
                            ],
                            "body": [
                                {
                                    "type": "cond",
                                    "cond": {
                                        "type": "not",
                                        "value": {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "in",
                                                "loc": [11, 465, 40, 465, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 1
                                                },
                                                {
                                                    "type": "slot",
                                                    "kind": "attr",
                                                    "base": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 0
                                                    },
                                                    "name": "transitions",
                                                    "loc": [23, 465, 40, 465, 0]
                                                }
                                            ],
                                            "loc": [11, 465, 40, 465, 0]
                                        },
                                        "loc": [11, 465, 40, 465, 0]
                                    },
                                    "tbody": [
                                        {
                                            "type": "return",
                                            "value": {
                                                "type": "literal",
                                                "kind": "string",
                                                "value": "(error?)"
                                            }
                                        }
                                    ],
                                    "fbody": [],
                                    "loc": [8, 465, 29, 466, 0]
                                },
                                {
                                    "type": "assign",
                                    "slot": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 3
                                    },
                                    "value": {
                                        "type": "slot",
                                        "kind": "item",
                                        "base": {
                                            "type": "slot",
                                            "kind": "attr",
                                            "base": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 0
                                            },
                                            "name": "transitions",
                                            "loc": [13, 467, 30, 467, 0]
                                        },
                                        "index": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 1
                                        },
                                        "loc": [13, 467, 36, 467, 0]
                                    }
                                },
                                {
                                    "type": "cond",
                                    "cond": {
                                        "type": "cmp",
                                        "exprs": [
                                            {
                                                "type": "slot",
                                                "kind": "attr",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 3
                                                },
                                                "name": "length",
                                                "loc": [11, 468, 20, 468, 0]
                                            },
                                            {
                                                "type": "literal",
                                                "kind": "integer",
                                                "value": "0"
                                            }
                                        ],
                                        "ops": [
                                            {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "==",
                                                "loc": [11, 468, 25, 468, 0]
                                            }
                                        ],
                                        "loc": [11, 468, 25, 468, 0]
                                    },
                                    "tbody": [
                                        {
                                            "type": "return",
                                            "value": {
                                                "type": "literal",
                                                "kind": "string",
                                                "value": "()"
                                            }
                                        }
                                    ],
                                    "fbody": [],
                                    "loc": [8, 468, 23, 469, 0]
                                },
                                {
                                    "type": "return",
                                    "value": {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "cell",
                                            "index": 0
                                        },
                                        "args": [
                                            {
                                                "type": "call",
                                                "callee": {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "single",
                                                    "loc": [23, 470, 29, 470, 0]
                                                },
                                                "args": [
                                                    {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 3
                                                    }
                                                ],
                                                "loc": [23, 470, 33, 470, 0]
                                            },
                                            {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 2
                                            }
                                        ],
                                        "loc": [15, 470, 44, 470, 0]
                                    }
                                }
                            ],
                            "loc": [14, 464, 44, 470, 0]
                        }
                    },
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "local", "index": 1},
                        "value": {
                            "type": "closure",
                            "cellvars": [],
                            "localvars": [
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "state",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "edge",
                                    "defs": 1
                                }
                            ],
                            "frame": [],
                            "args": [
                                {
                                    "slot": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 0
                                    }
                                },
                                {
                                    "slot": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 1
                                    }
                                }
                            ],
                            "body": [
                                {
                                    "type": "assert",
                                    "cond": {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "false",
                                        "loc": [15, 473, 20, 473, 0]
                                    },
                                    "value": {
                                        "type": "literal",
                                        "kind": "string",
                                        "value": "not implemented"
                                    },
                                    "loc": [8, 473, 41, 473, 0]
                                }
                            ],
                            "loc": [14, 472, 41, 473, 0]
                        }
                    },
                    {
                        "type": "return",
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "global",
                                "name": "++",
                                "loc": [11, 475, 65, 475, 0]
                            },
                            "args": [
                                {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "cell",
                                        "index": 5
                                    },
                                    "args": [
                                        {
                                            "type": "slot",
                                            "kind": "attr",
                                            "base": {
                                                "type": "slot",
                                                "kind": "cell",
                                                "index": 0
                                            },
                                            "name": "root",
                                            "loc": [19, 475, 30, 475, 0]
                                        },
                                        {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "false",
                                            "loc": [32, 475, 37, 475, 0]
                                        }
                                    ],
                                    "loc": [11, 475, 38, 475, 0]
                                },
                                {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "attr",
                                        "base": {
                                            "type": "literal",
                                            "kind": "string",
                                            "value": ""
                                        },
                                        "name": "join",
                                        "loc": [42, 475, 49, 475, 0]
                                    },
                                    "args": [
                                        {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "attr",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 0
                                                },
                                                "name": "values",
                                                "loc": [50, 475, 62, 475, 0]
                                            },
                                            "args": [],
                                            "loc": [50, 475, 64, 475, 0]
                                        }
                                    ],
                                    "loc": [42, 475, 65, 475, 0]
                                }
                            ],
                            "loc": [11, 475, 65, 475, 0]
                        }
                    }
                ],
                "loc": [14, 408, 65, 475, 0]
            }
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "generalize",
                "loc": [0, 481, 10, 481, 0]
            },
            "value": {
                "type": "closure",
                "cellvars": [
                    {
                        "type": "cell",
                        "deref": true,
                        "name": "recalculate_free",
                        "defs": 1
                    },
                    {"type": "cell", "deref": true, "name": "free", "defs": 1},
                    {
                        "type": "cell",
                        "deref": true,
                        "name": "subsets",
                        "defs": 1
                    },
                    {
                        "type": "cell",
                        "deref": true,
                        "name": "membership",
                        "defs": 1
                    },
                    {
                        "type": "cell",
                        "deref": true,
                        "name": "reduce_site_port",
                        "defs": 1
                    },
                    {
                        "type": "cell",
                        "deref": true,
                        "name": "reduce_subset",
                        "defs": 1
                    }
                ],
                "localvars": [
                    {"type": "cell", "deref": false, "name": "root", "defs": 2},
                    {"type": "cell", "deref": false, "name": "env", "defs": 1},
                    {"type": "cell", "deref": false, "name": "state", "defs": 1
                    },
                    {"type": "cell", "deref": false, "name": "ss", "defs": 1},
                    {"type": "cell", "deref": false, "name": "w", "defs": 1},
                    {"type": "cell", "deref": false, "name": "qq", "defs": 1},
                    {"type": "cell", "deref": false, "name": "s", "defs": 1},
                    {"type": "cell", "deref": false, "name": "q", "defs": 1}
                ],
                "frame": [],
                "args": [
                    {"slot": {"type": "slot", "kind": "local", "index": 0}},
                    {"slot": {"type": "slot", "kind": "local", "index": 1}}
                ],
                "body": [
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "cell", "index": 0},
                        "value": {
                            "type": "closure",
                            "cellvars": [
                                {
                                    "type": "cell",
                                    "deref": true,
                                    "name": "recalculate_free",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": true,
                                    "name": "env_free",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": true,
                                    "name": "free",
                                    "defs": 1
                                }
                            ],
                            "localvars": [
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "env",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "schemes",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "locals",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "parent",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "visit",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "state",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "w",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "edge",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "ws",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "w",
                                    "defs": 1
                                }
                            ],
                            "frame": [0],
                            "args": [
                                {
                                    "slot": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 0
                                    }
                                }
                            ],
                            "body": [
                                {
                                    "type": "case",
                                    "value": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 0
                                    },
                                    "cases": [
                                        {
                                            "type": "constant",
                                            "value": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "environ_end",
                                                "loc": [8, 484, 19, 484, 0]
                                            },
                                            "body": [
                                                {
                                                    "type": "return",
                                                    "value": {
                                                        "type": "call",
                                                        "callee": {
                                                            "type": "slot",
                                                            "kind": "global",
                                                            "name": "set",
                                                            "loc": [
                                                                19,
                                                                485,
                                                                22,
                                                                485,
                                                                0
                                                            ]
                                                        },
                                                        "args": [],
                                                        "loc": [
                                                            19,
                                                            485,
                                                            24,
                                                            485,
                                                            0
                                                        ]
                                                    }
                                                }
                                            ],
                                            "loc": [8, 484, 24, 485, 0]
                                        },
                                        {
                                            "type": "pattern",
                                            "pattern": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "environ",
                                                "loc": [8, 486, 15, 486, 0]
                                            },
                                            "slot": {
                                                "type": "slot",
                                                "kind": "tuple",
                                                "slots": [
                                                    {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 1
                                                    },
                                                    {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 2
                                                    },
                                                    {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 3
                                                    },
                                                    {
                                                        "type": "slot",
                                                        "kind": "cell",
                                                        "index": 1
                                                    }
                                                ],
                                                "loc": [8, 486, 23, 500, 0]
                                            },
                                            "body": [
                                                {
                                                    "type": "assign",
                                                    "slot": {
                                                        "type": "slot",
                                                        "kind": "cell",
                                                        "index": 2
                                                    },
                                                    "value": {
                                                        "type": "call",
                                                        "callee": {
                                                            "type": "slot",
                                                            "kind": "cell",
                                                            "index": 0
                                                        },
                                                        "args": [
                                                            {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 3
                                                            }
                                                        ],
                                                        "loc": [
                                                            19,
                                                            487,
                                                            43,
                                                            487,
                                                            0
                                                        ]
                                                    }
                                                },
                                                {
                                                    "type": "call",
                                                    "callee": {
                                                        "type": "slot",
                                                        "kind": "attr",
                                                        "base": {
                                                            "type": "slot",
                                                            "kind": "cell",
                                                            "index": 1
                                                        },
                                                        "name": "difference_update",
                                                        "loc": [
                                                            12,
                                                            489,
                                                            38,
                                                            489,
                                                            0
                                                        ]
                                                    },
                                                    "args": [
                                                        {
                                                            "type": "slot",
                                                            "kind": "cell",
                                                            "index": 2
                                                        }
                                                    ],
                                                    "loc": [12, 489, 44, 489, 0]
                                                },
                                                {
                                                    "type": "assign",
                                                    "slot": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 4
                                                    },
                                                    "value": {
                                                        "type": "closure",
                                                        "cellvars": [
                                                            {
                                                                "type": "cell",
                                                                "deref": true,
                                                                "name": "free",
                                                                "defs": 1
                                                            },
                                                            {
                                                                "type": "cell",
                                                                "deref": true,
                                                                "name": "env_free",
                                                                "defs": 1
                                                            }
                                                        ],
                                                        "localvars": [
                                                            {
                                                                "type": "cell",
                                                                "deref": false,
                                                                "name": "state",
                                                                "defs": 1
                                                            }
                                                        ],
                                                        "frame": [2, 1],
                                                        "args": [
                                                            {
                                                                "slot": {
                                                                    "type": "slot",
                                                                    "kind": "local",
                                                                    "index": 0
                                                                }
                                                            }
                                                        ],
                                                        "body": [
                                                            {
                                                                "type": "cond",
                                                                "cond": {
                                                                    "type": "not",
                                                                    "value": {
                                                                        "type": "call",
                                                                        "callee": {
                                                                            "type": "slot",
                                                                            "kind": "global",
                                                                            "name": "in",
                                                                            "loc": [
                                                                                19,
                                                                                491,
                                                                                36,
                                                                                491,
                                                                                0
                                                                            ]
                                                                        },
                                                                        "args": [
                                                                            {
                                                                                "type": "slot",
                                                                                "kind": "local",
                                                                                "index": 0
                                                                            },
                                                                            {
                                                                                "type": "slot",
                                                                                "kind": "cell",
                                                                                "index": 0
                                                                            }
                                                                        ],
                                                                        "loc": [
                                                                            19,
                                                                            491,
                                                                            36,
                                                                            491,
                                                                            0
                                                                        ]
                                                                    },
                                                                    "loc": [
                                                                        19,
                                                                        491,
                                                                        36,
                                                                        491,
                                                                        0
                                                                    ]
                                                                },
                                                                "tbody": [
                                                                    {
                                                                        "type": "call",
                                                                        "callee": {
                                                                            "type": "slot",
                                                                            "kind": "attr",
                                                                            "base": {
                                                                                "type": "slot",
                                                                                "kind": "cell",
                                                                                "index": 1
                                                                            },
                                                                            "name": "add",
                                                                            "loc": [
                                                                                20,
                                                                                492,
                                                                                32,
                                                                                492,
                                                                                0
                                                                            ]
                                                                        },
                                                                        "args": [
                                                                            {
                                                                                "type": "slot",
                                                                                "kind": "local",
                                                                                "index": 0
                                                                            }
                                                                        ],
                                                                        "loc": [
                                                                            20,
                                                                            492,
                                                                            39,
                                                                            492,
                                                                            0
                                                                        ]
                                                                    }
                                                                ],
                                                                "fbody": [],
                                                                "loc": [
                                                                    16,
                                                                    491,
                                                                    39,
                                                                    492,
                                                                    0
                                                                ]
                                                            }
                                                        ],
                                                        "loc": [
                                                            20,
                                                            490,
                                                            39,
                                                            492,
                                                            0
                                                        ]
                                                    }
                                                },
                                                {
                                                    "type": "repeat",
                                                    "fresh": [],
                                                    "heads": [
                                                        {
                                                            "type": "for",
                                                            "slot": {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 5
                                                            },
                                                            "value": {
                                                                "type": "slot",
                                                                "kind": "cell",
                                                                "index": 1
                                                            }
                                                        }
                                                    ],
                                                    "body": [
                                                        {
                                                            "type": "repeat",
                                                            "fresh": [],
                                                            "heads": [
                                                                {
                                                                    "type": "for",
                                                                    "slot": {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 6
                                                                    },
                                                                    "value": {
                                                                        "type": "slot",
                                                                        "kind": "attr",
                                                                        "base": {
                                                                            "type": "slot",
                                                                            "kind": "local",
                                                                            "index": 5
                                                                        },
                                                                        "name": "flow",
                                                                        "loc": [
                                                                            25,
                                                                            495,
                                                                            35,
                                                                            495,
                                                                            0
                                                                        ]
                                                                    }
                                                                }
                                                            ],
                                                            "body": [
                                                                {
                                                                    "type": "call",
                                                                    "callee": {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 4
                                                                    },
                                                                    "args": [
                                                                        {
                                                                            "type": "slot",
                                                                            "kind": "local",
                                                                            "index": 6
                                                                        }
                                                                    ],
                                                                    "loc": [
                                                                        43,
                                                                        495,
                                                                        51,
                                                                        495,
                                                                        0
                                                                    ]
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "repeat",
                                                            "fresh": [],
                                                            "heads": [
                                                                {
                                                                    "type": "for",
                                                                    "slot": {
                                                                        "type": "slot",
                                                                        "kind": "tuple",
                                                                        "slots": [
                                                                            {
                                                                                "type": "slot",
                                                                                "kind": "local",
                                                                                "index": 7
                                                                            },
                                                                            {
                                                                                "type": "slot",
                                                                                "kind": "local",
                                                                                "index": 8
                                                                            }
                                                                        ],
                                                                        "loc": [
                                                                            20,
                                                                            496,
                                                                            28,
                                                                            496,
                                                                            0
                                                                        ]
                                                                    },
                                                                    "value": {
                                                                        "type": "slot",
                                                                        "kind": "attr",
                                                                        "base": {
                                                                            "type": "slot",
                                                                            "kind": "local",
                                                                            "index": 5
                                                                        },
                                                                        "name": "transitions",
                                                                        "loc": [
                                                                            32,
                                                                            496,
                                                                            49,
                                                                            496,
                                                                            0
                                                                        ]
                                                                    }
                                                                },
                                                                {
                                                                    "type": "for",
                                                                    "slot": {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 9
                                                                    },
                                                                    "value": {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 8
                                                                    }
                                                                }
                                                            ],
                                                            "body": [
                                                                {
                                                                    "type": "call",
                                                                    "callee": {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 4
                                                                    },
                                                                    "args": [
                                                                        {
                                                                            "type": "slot",
                                                                            "kind": "local",
                                                                            "index": 9
                                                                        }
                                                                    ],
                                                                    "loc": [
                                                                        35,
                                                                        497,
                                                                        43,
                                                                        497,
                                                                        0
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "call",
                                                    "callee": {
                                                        "type": "slot",
                                                        "kind": "attr",
                                                        "base": {
                                                            "type": "slot",
                                                            "kind": "cell",
                                                            "index": 2
                                                        },
                                                        "name": "update",
                                                        "loc": [
                                                            12,
                                                            499,
                                                            23,
                                                            499,
                                                            0
                                                        ]
                                                    },
                                                    "args": [
                                                        {
                                                            "type": "slot",
                                                            "kind": "cell",
                                                            "index": 1
                                                        }
                                                    ],
                                                    "loc": [12, 499, 33, 499, 0]
                                                },
                                                {
                                                    "type": "return",
                                                    "value": {
                                                        "type": "slot",
                                                        "kind": "cell",
                                                        "index": 2
                                                    }
                                                }
                                            ],
                                            "loc": [8, 486, 23, 500, 0]
                                        }
                                    ],
                                    "default": [],
                                    "loc": [8, 483, 23, 500, 0]
                                }
                            ],
                            "loc": [23, 482, 23, 500, 0]
                        }
                    },
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "cell", "index": 1},
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "cell",
                                "index": 0
                            },
                            "args": [
                                {"type": "slot", "kind": "local", "index": 1}
                            ],
                            "loc": [11, 502, 32, 502, 0]
                        }
                    },
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "cell", "index": 2},
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "global",
                                "name": "dict",
                                "loc": [14, 504, 18, 504, 0]
                            },
                            "args": [],
                            "loc": [14, 504, 20, 504, 0]
                        }
                    },
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "cell", "index": 3},
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "global",
                                "name": "dict",
                                "loc": [17, 505, 21, 505, 0]
                            },
                            "args": [],
                            "loc": [17, 505, 23, 505, 0]
                        }
                    },
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "cell", "index": 4},
                        "value": {
                            "type": "closure",
                            "cellvars": [
                                {
                                    "type": "cell",
                                    "deref": true,
                                    "name": "reduce_subset",
                                    "defs": 1
                                }
                            ],
                            "localvars": [
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "port",
                                    "defs": 1
                                }
                            ],
                            "frame": [5],
                            "args": [
                                {
                                    "slot": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 0
                                    }
                                }
                            ],
                            "body": [
                                {
                                    "type": "return",
                                    "value": {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "cell",
                                            "index": 0
                                        },
                                        "args": [
                                            {
                                                "type": "slot",
                                                "kind": "attr",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 0
                                                },
                                                "name": "pol",
                                                "loc": [29, 508, 37, 508, 0]
                                            },
                                            {
                                                "type": "call",
                                                "callee": {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "set",
                                                    "loc": [39, 508, 42, 508, 0]
                                                },
                                                "args": [
                                                    {
                                                        "type": "list",
                                                        "values": [
                                                            {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 0
                                                            }
                                                        ]
                                                    }
                                                ],
                                                "loc": [39, 508, 50, 508, 0]
                                            }
                                        ],
                                        "loc": [15, 508, 51, 508, 0]
                                    }
                                }
                            ],
                            "loc": [23, 507, 51, 508, 0]
                        }
                    },
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "cell", "index": 5},
                        "value": {
                            "type": "closure",
                            "cellvars": [
                                {
                                    "type": "cell",
                                    "deref": true,
                                    "name": "subsets",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": true,
                                    "name": "free",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": true,
                                    "name": "reduce_site_port",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": true,
                                    "name": "membership",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": true,
                                    "name": "reduce_subset",
                                    "defs": 1
                                }
                            ],
                            "localvars": [
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "pol",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "subset",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "s",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "rw_edge",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "transitions",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "n",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "head",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "index",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "site",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "n_site",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "_",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "edge",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "ws",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "w",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "edge",
                                    "defs": 2
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "ws",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "extern",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "w",
                                    "defs": 1
                                }
                            ],
                            "frame": [2, 1, 4, 3, 5],
                            "args": [
                                {
                                    "slot": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 0
                                    }
                                },
                                {
                                    "slot": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 1
                                    }
                                }
                            ],
                            "body": [
                                {
                                    "type": "cond",
                                    "cond": {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "in",
                                            "loc": [11, 510, 28, 510, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 1
                                            },
                                            {
                                                "type": "slot",
                                                "kind": "cell",
                                                "index": 0
                                            }
                                        ],
                                        "loc": [11, 510, 28, 510, 0]
                                    },
                                    "tbody": [
                                        {
                                            "type": "return",
                                            "value": {
                                                "type": "slot",
                                                "kind": "item",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "cell",
                                                    "index": 0
                                                },
                                                "index": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 1
                                                },
                                                "loc": [19, 511, 34, 511, 0]
                                            }
                                        }
                                    ],
                                    "fbody": [],
                                    "loc": [8, 510, 34, 511, 0]
                                },
                                {
                                    "type": "assign",
                                    "slot": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 2
                                    },
                                    "value": {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "fresh_state",
                                            "loc": [12, 512, 23, 512, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 0
                                            }
                                        ],
                                        "loc": [12, 512, 28, 512, 0]
                                    }
                                },
                                {
                                    "type": "assign",
                                    "slot": {
                                        "type": "slot",
                                        "kind": "item",
                                        "base": {
                                            "type": "slot",
                                            "kind": "cell",
                                            "index": 0
                                        },
                                        "index": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 1
                                        },
                                        "loc": [8, 513, 23, 513, 0]
                                    },
                                    "value": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 2
                                    }
                                },
                                {
                                    "type": "assign",
                                    "slot": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 3
                                    },
                                    "value": {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "dict",
                                            "loc": [18, 514, 22, 514, 0]
                                        },
                                        "args": [],
                                        "loc": [18, 514, 24, 514, 0]
                                    }
                                },
                                {
                                    "type": "assign",
                                    "slot": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 4
                                    },
                                    "value": {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "dict",
                                            "loc": [22, 515, 26, 515, 0]
                                        },
                                        "args": [],
                                        "loc": [22, 515, 28, 515, 0]
                                    }
                                },
                                {
                                    "type": "repeat",
                                    "fresh": [],
                                    "heads": [
                                        {
                                            "type": "for",
                                            "slot": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 5
                                            },
                                            "value": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 1
                                            }
                                        }
                                    ],
                                    "body": [
                                        {
                                            "type": "assert",
                                            "cond": {
                                                "type": "not",
                                                "value": {
                                                    "type": "call",
                                                    "callee": {
                                                        "type": "slot",
                                                        "kind": "global",
                                                        "name": "in",
                                                        "loc": [
                                                            19,
                                                            517,
                                                            32,
                                                            517,
                                                            0
                                                        ]
                                                    },
                                                    "args": [
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 5
                                                        },
                                                        {
                                                            "type": "slot",
                                                            "kind": "cell",
                                                            "index": 1
                                                        }
                                                    ],
                                                    "loc": [19, 517, 32, 517, 0]
                                                },
                                                "loc": [19, 517, 32, 517, 0]
                                            },
                                            "value": {
                                                "type": "literal",
                                                "kind": "string",
                                                "value": "bug: subset must not contain free states"
                                            },
                                            "loc": [12, 517, 78, 517, 0]
                                        },
                                        {
                                            "type": "repeat",
                                            "fresh": [],
                                            "heads": [
                                                {
                                                    "type": "for",
                                                    "slot": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 6
                                                    },
                                                    "value": {
                                                        "type": "slot",
                                                        "kind": "attr",
                                                        "base": {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 5
                                                        },
                                                        "name": "heads",
                                                        "loc": [
                                                            24,
                                                            518,
                                                            31,
                                                            518,
                                                            0
                                                        ]
                                                    }
                                                }
                                            ],
                                            "body": [
                                                {
                                                    "type": "case",
                                                    "value": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 6
                                                    },
                                                    "cases": [
                                                        {
                                                            "type": "pattern",
                                                            "pattern": {
                                                                "type": "slot",
                                                                "kind": "global",
                                                                "name": "sink",
                                                                "loc": [
                                                                    16,
                                                                    520,
                                                                    20,
                                                                    520,
                                                                    0
                                                                ]
                                                            },
                                                            "slot": {
                                                                "type": "slot",
                                                                "kind": "tuple",
                                                                "slots": [
                                                                    {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 7
                                                                    },
                                                                    {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 8
                                                                    }
                                                                ],
                                                                "loc": [
                                                                    16,
                                                                    520,
                                                                    52,
                                                                    523,
                                                                    0
                                                                ]
                                                            },
                                                            "body": [
                                                                {
                                                                    "type": "assign",
                                                                    "slot": {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 9
                                                                    },
                                                                    "value": {
                                                                        "type": "call",
                                                                        "callee": {
                                                                            "type": "slot",
                                                                            "kind": "attr",
                                                                            "base": {
                                                                                "type": "slot",
                                                                                "kind": "local",
                                                                                "index": 8
                                                                            },
                                                                            "name": "transfer",
                                                                            "loc": [
                                                                                29,
                                                                                521,
                                                                                42,
                                                                                521,
                                                                                0
                                                                            ]
                                                                        },
                                                                        "args": [
                                                                            {
                                                                                "type": "slot",
                                                                                "kind": "cell",
                                                                                "index": 2
                                                                            }
                                                                        ],
                                                                        "loc": [
                                                                            29,
                                                                            521,
                                                                            60,
                                                                            521,
                                                                            0
                                                                        ]
                                                                    }
                                                                },
                                                                {
                                                                    "type": "assign",
                                                                    "slot": {
                                                                        "type": "slot",
                                                                        "kind": "item",
                                                                        "base": {
                                                                            "type": "slot",
                                                                            "kind": "local",
                                                                            "index": 3
                                                                        },
                                                                        "index": {
                                                                            "type": "slot",
                                                                            "kind": "attr",
                                                                            "base": {
                                                                                "type": "slot",
                                                                                "kind": "local",
                                                                                "index": 8
                                                                            },
                                                                            "name": "edge",
                                                                            "loc": [
                                                                                28,
                                                                                522,
                                                                                37,
                                                                                522,
                                                                                0
                                                                            ]
                                                                        },
                                                                        "loc": [
                                                                            20,
                                                                            522,
                                                                            38,
                                                                            522,
                                                                            0
                                                                        ]
                                                                    },
                                                                    "value": {
                                                                        "type": "slot",
                                                                        "kind": "attr",
                                                                        "base": {
                                                                            "type": "slot",
                                                                            "kind": "local",
                                                                            "index": 9
                                                                        },
                                                                        "name": "edge",
                                                                        "loc": [
                                                                            41,
                                                                            522,
                                                                            52,
                                                                            522,
                                                                            0
                                                                        ]
                                                                    }
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "callee": {
                                                                        "type": "slot",
                                                                        "kind": "attr",
                                                                        "base": {
                                                                            "type": "slot",
                                                                            "kind": "attr",
                                                                            "base": {
                                                                                "type": "slot",
                                                                                "kind": "local",
                                                                                "index": 2
                                                                            },
                                                                            "name": "heads",
                                                                            "loc": [
                                                                                20,
                                                                                523,
                                                                                27,
                                                                                523,
                                                                                0
                                                                            ]
                                                                        },
                                                                        "name": "add",
                                                                        "loc": [
                                                                            20,
                                                                            523,
                                                                            31,
                                                                            523,
                                                                            0
                                                                        ]
                                                                    },
                                                                    "args": [
                                                                        {
                                                                            "type": "call",
                                                                            "callee": {
                                                                                "type": "slot",
                                                                                "kind": "global",
                                                                                "name": "sink",
                                                                                "loc": [
                                                                                    32,
                                                                                    523,
                                                                                    36,
                                                                                    523,
                                                                                    0
                                                                                ]
                                                                            },
                                                                            "args": [
                                                                                {
                                                                                    "type": "slot",
                                                                                    "kind": "local",
                                                                                    "index": 7
                                                                                },
                                                                                {
                                                                                    "type": "slot",
                                                                                    "kind": "local",
                                                                                    "index": 9
                                                                                }
                                                                            ],
                                                                            "loc": [
                                                                                32,
                                                                                523,
                                                                                51,
                                                                                523,
                                                                                0
                                                                            ]
                                                                        }
                                                                    ],
                                                                    "loc": [
                                                                        20,
                                                                        523,
                                                                        52,
                                                                        523,
                                                                        0
                                                                    ]
                                                                }
                                                            ],
                                                            "loc": [
                                                                16,
                                                                520,
                                                                52,
                                                                523,
                                                                0
                                                            ]
                                                        },
                                                        {
                                                            "type": "pattern",
                                                            "pattern": {
                                                                "type": "slot",
                                                                "kind": "global",
                                                                "name": "faucet",
                                                                "loc": [
                                                                    16,
                                                                    524,
                                                                    22,
                                                                    524,
                                                                    0
                                                                ]
                                                            },
                                                            "slot": {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 10
                                                            },
                                                            "body": [
                                                                {
                                                                    "type": "call",
                                                                    "callee": {
                                                                        "type": "slot",
                                                                        "kind": "attr",
                                                                        "base": {
                                                                            "type": "slot",
                                                                            "kind": "attr",
                                                                            "base": {
                                                                                "type": "slot",
                                                                                "kind": "local",
                                                                                "index": 2
                                                                            },
                                                                            "name": "heads",
                                                                            "loc": [
                                                                                20,
                                                                                525,
                                                                                27,
                                                                                525,
                                                                                0
                                                                            ]
                                                                        },
                                                                        "name": "add",
                                                                        "loc": [
                                                                            20,
                                                                            525,
                                                                            31,
                                                                            525,
                                                                            0
                                                                        ]
                                                                    },
                                                                    "args": [
                                                                        {
                                                                            "type": "slot",
                                                                            "kind": "local",
                                                                            "index": 6
                                                                        }
                                                                    ],
                                                                    "loc": [
                                                                        20,
                                                                        525,
                                                                        37,
                                                                        525,
                                                                        0
                                                                    ]
                                                                }
                                                            ],
                                                            "loc": [
                                                                16,
                                                                524,
                                                                37,
                                                                525,
                                                                0
                                                            ]
                                                        }
                                                    ],
                                                    "default": [],
                                                    "loc": [16, 519, 37, 525, 0]
                                                }
                                            ]
                                        },
                                        {
                                            "type": "except",
                                            "body": [
                                                {
                                                    "type": "call",
                                                    "callee": {
                                                        "type": "slot",
                                                        "kind": "attr",
                                                        "base": {
                                                            "type": "slot",
                                                            "kind": "item",
                                                            "base": {
                                                                "type": "slot",
                                                                "kind": "cell",
                                                                "index": 3
                                                            },
                                                            "index": {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 5
                                                            },
                                                            "loc": [
                                                                12,
                                                                526,
                                                                25,
                                                                526,
                                                                0
                                                            ]
                                                        },
                                                        "name": "append",
                                                        "loc": [
                                                            12,
                                                            526,
                                                            32,
                                                            526,
                                                            0
                                                        ]
                                                    },
                                                    "args": [
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 2
                                                        }
                                                    ],
                                                    "loc": [12, 526, 35, 526, 0]
                                                }
                                            ],
                                            "excepts": [
                                                {
                                                    "exc": {
                                                        "type": "slot",
                                                        "kind": "global",
                                                        "name": "NoIndex",
                                                        "loc": [
                                                            19,
                                                            527,
                                                            26,
                                                            527,
                                                            0
                                                        ]
                                                    },
                                                    "body": [
                                                        {
                                                            "type": "assign",
                                                            "slot": {
                                                                "type": "slot",
                                                                "kind": "item",
                                                                "base": {
                                                                    "type": "slot",
                                                                    "kind": "cell",
                                                                    "index": 3
                                                                },
                                                                "index": {
                                                                    "type": "slot",
                                                                    "kind": "local",
                                                                    "index": 5
                                                                },
                                                                "loc": [
                                                                    16,
                                                                    528,
                                                                    29,
                                                                    528,
                                                                    0
                                                                ]
                                                            },
                                                            "value": {
                                                                "type": "list",
                                                                "values": [
                                                                    {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 2
                                                                    }
                                                                ]
                                                            }
                                                        }
                                                    ]
                                                }
                                            ],
                                            "loc": [12, 526, 35, 528, 0]
                                        },
                                        {
                                            "type": "repeat",
                                            "fresh": [],
                                            "heads": [
                                                {
                                                    "type": "for",
                                                    "slot": {
                                                        "type": "slot",
                                                        "kind": "tuple",
                                                        "slots": [
                                                            {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 11
                                                            },
                                                            {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 12
                                                            }
                                                        ],
                                                        "loc": [
                                                            16,
                                                            529,
                                                            24,
                                                            529,
                                                            0
                                                        ]
                                                    },
                                                    "value": {
                                                        "type": "slot",
                                                        "kind": "attr",
                                                        "base": {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 5
                                                        },
                                                        "name": "transitions",
                                                        "loc": [
                                                            28,
                                                            529,
                                                            41,
                                                            529,
                                                            0
                                                        ]
                                                    }
                                                },
                                                {
                                                    "type": "for",
                                                    "slot": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 13
                                                    },
                                                    "value": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 12
                                                    }
                                                }
                                            ],
                                            "body": [
                                                {
                                                    "type": "except",
                                                    "body": [
                                                        {
                                                            "type": "call",
                                                            "callee": {
                                                                "type": "slot",
                                                                "kind": "attr",
                                                                "base": {
                                                                    "type": "slot",
                                                                    "kind": "item",
                                                                    "base": {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 4
                                                                    },
                                                                    "index": {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 11
                                                                    },
                                                                    "loc": [
                                                                        16,
                                                                        531,
                                                                        33,
                                                                        531,
                                                                        0
                                                                    ]
                                                                },
                                                                "name": "add",
                                                                "loc": [
                                                                    16,
                                                                    531,
                                                                    37,
                                                                    531,
                                                                    0
                                                                ]
                                                            },
                                                            "args": [
                                                                {
                                                                    "type": "slot",
                                                                    "kind": "local",
                                                                    "index": 13
                                                                }
                                                            ],
                                                            "loc": [
                                                                16,
                                                                531,
                                                                40,
                                                                531,
                                                                0
                                                            ]
                                                        }
                                                    ],
                                                    "excepts": [
                                                        {
                                                            "exc": {
                                                                "type": "slot",
                                                                "kind": "global",
                                                                "name": "NoIndex",
                                                                "loc": [
                                                                    23,
                                                                    532,
                                                                    30,
                                                                    532,
                                                                    0
                                                                ]
                                                            },
                                                            "body": [
                                                                {
                                                                    "type": "assign",
                                                                    "slot": {
                                                                        "type": "slot",
                                                                        "kind": "item",
                                                                        "base": {
                                                                            "type": "slot",
                                                                            "kind": "local",
                                                                            "index": 4
                                                                        },
                                                                        "index": {
                                                                            "type": "slot",
                                                                            "kind": "local",
                                                                            "index": 11
                                                                        },
                                                                        "loc": [
                                                                            20,
                                                                            533,
                                                                            37,
                                                                            533,
                                                                            0
                                                                        ]
                                                                    },
                                                                    "value": {
                                                                        "type": "call",
                                                                        "callee": {
                                                                            "type": "slot",
                                                                            "kind": "global",
                                                                            "name": "set",
                                                                            "loc": [
                                                                                40,
                                                                                533,
                                                                                43,
                                                                                533,
                                                                                0
                                                                            ]
                                                                        },
                                                                        "args": [
                                                                            {
                                                                                "type": "list",
                                                                                "values": [
                                                                                    {
                                                                                        "type": "slot",
                                                                                        "kind": "local",
                                                                                        "index": 13
                                                                                    }
                                                                                ]
                                                                            }
                                                                        ],
                                                                        "loc": [
                                                                            40,
                                                                            533,
                                                                            48,
                                                                            533,
                                                                            0
                                                                        ]
                                                                    }
                                                                }
                                                            ]
                                                        }
                                                    ],
                                                    "loc": [16, 531, 48, 533, 0]
                                                }
                                            ]
                                        }
                                    ]
                                },
                                {
                                    "type": "repeat",
                                    "fresh": [],
                                    "heads": [
                                        {
                                            "type": "for",
                                            "slot": {
                                                "type": "slot",
                                                "kind": "tuple",
                                                "slots": [
                                                    {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 14
                                                    },
                                                    {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 15
                                                    }
                                                ],
                                                "loc": [12, 535, 20, 535, 0]
                                            },
                                            "value": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 4
                                            }
                                        }
                                    ],
                                    "body": [
                                        {
                                            "type": "assign",
                                            "slot": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 14
                                            },
                                            "value": {
                                                "type": "call",
                                                "callee": {
                                                    "type": "slot",
                                                    "kind": "attr",
                                                    "base": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 3
                                                    },
                                                    "name": "get",
                                                    "loc": [19, 536, 30, 536, 0]
                                                },
                                                "args": [
                                                    {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 14
                                                    },
                                                    {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 14
                                                    }
                                                ],
                                                "loc": [19, 536, 42, 536, 0]
                                            }
                                        },
                                        {
                                            "type": "assign",
                                            "slot": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 16
                                            },
                                            "value": {
                                                "type": "call",
                                                "callee": {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "set",
                                                    "loc": [21, 537, 24, 537, 0]
                                                },
                                                "args": [],
                                                "loc": [21, 537, 26, 537, 0]
                                            }
                                        },
                                        {
                                            "type": "repeat",
                                            "fresh": [],
                                            "heads": [
                                                {
                                                    "type": "for",
                                                    "slot": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 17
                                                    },
                                                    "value": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 15
                                                    }
                                                },
                                                {
                                                    "type": "if",
                                                    "cond": {
                                                        "type": "call",
                                                        "callee": {
                                                            "type": "slot",
                                                            "kind": "global",
                                                            "name": "in",
                                                            "loc": [
                                                                27,
                                                                538,
                                                                36,
                                                                538,
                                                                0
                                                            ]
                                                        },
                                                        "args": [
                                                            {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 17
                                                            },
                                                            {
                                                                "type": "slot",
                                                                "kind": "cell",
                                                                "index": 1
                                                            }
                                                        ],
                                                        "loc": [
                                                            27,
                                                            538,
                                                            36,
                                                            538,
                                                            0
                                                        ]
                                                    }
                                                }
                                            ],
                                            "body": [
                                                {
                                                    "type": "call",
                                                    "callee": {
                                                        "type": "slot",
                                                        "kind": "attr",
                                                        "base": {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 16
                                                        },
                                                        "name": "add",
                                                        "loc": [
                                                            16,
                                                            539,
                                                            26,
                                                            539,
                                                            0
                                                        ]
                                                    },
                                                    "args": [
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 17
                                                        }
                                                    ],
                                                    "loc": [16, 539, 29, 539, 0]
                                                }
                                            ]
                                        },
                                        {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "attr",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 15
                                                },
                                                "name": "difference_update",
                                                "loc": [12, 540, 32, 540, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 16
                                                }
                                            ],
                                            "loc": [12, 540, 40, 540, 0]
                                        },
                                        {
                                            "type": "assign",
                                            "slot": {
                                                "type": "slot",
                                                "kind": "item",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "attr",
                                                    "base": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 2
                                                    },
                                                    "name": "transitions",
                                                    "loc": [12, 541, 25, 541, 0]
                                                },
                                                "index": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 14
                                                },
                                                "loc": [12, 541, 31, 541, 0]
                                            },
                                            "value": {
                                                "type": "call",
                                                "callee": {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "|",
                                                    "loc": [34, 541, 81, 541, 0]
                                                },
                                                "args": [
                                                    {
                                                        "type": "call",
                                                        "callee": {
                                                            "type": "slot",
                                                            "kind": "global",
                                                            "name": "set",
                                                            "loc": [
                                                                34,
                                                                541,
                                                                37,
                                                                541,
                                                                0
                                                            ]
                                                        },
                                                        "args": [
                                                            {
                                                                "type": "list",
                                                                "values": [
                                                                    {
                                                                        "type": "call",
                                                                        "callee": {
                                                                            "type": "slot",
                                                                            "kind": "cell",
                                                                            "index": 4
                                                                        },
                                                                        "args": [
                                                                            {
                                                                                "type": "call",
                                                                                "callee": {
                                                                                    "type": "slot",
                                                                                    "kind": "global",
                                                                                    "name": "*",
                                                                                    "loc": [
                                                                                        53,
                                                                                        541,
                                                                                        65,
                                                                                        541,
                                                                                        0
                                                                                    ]
                                                                                },
                                                                                "args": [
                                                                                    {
                                                                                        "type": "slot",
                                                                                        "kind": "local",
                                                                                        "index": 0
                                                                                    },
                                                                                    {
                                                                                        "type": "slot",
                                                                                        "kind": "attr",
                                                                                        "base": {
                                                                                            "type": "slot",
                                                                                            "kind": "local",
                                                                                            "index": 14
                                                                                        },
                                                                                        "name": "pol",
                                                                                        "loc": [
                                                                                            57,
                                                                                            541,
                                                                                            65,
                                                                                            541,
                                                                                            0
                                                                                        ]
                                                                                    }
                                                                                ],
                                                                                "loc": [
                                                                                    53,
                                                                                    541,
                                                                                    65,
                                                                                    541,
                                                                                    0
                                                                                ]
                                                                            },
                                                                            {
                                                                                "type": "slot",
                                                                                "kind": "local",
                                                                                "index": 15
                                                                            }
                                                                        ],
                                                                        "loc": [
                                                                            39,
                                                                            541,
                                                                            70,
                                                                            541,
                                                                            0
                                                                        ]
                                                                    }
                                                                ]
                                                            }
                                                        ],
                                                        "loc": [
                                                            34,
                                                            541,
                                                            72,
                                                            541,
                                                            0
                                                        ]
                                                    },
                                                    {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 16
                                                    }
                                                ],
                                                "loc": [34, 541, 81, 541, 0]
                                            }
                                        }
                                    ]
                                },
                                {
                                    "type": "return",
                                    "value": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 2
                                    }
                                }
                            ],
                            "loc": [20, 509, 16, 542, 0]
                        }
                    },
                    {
                        "type": "cond",
                        "cond": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "global",
                                "name": "in",
                                "loc": [7, 544, 19, 544, 0]
                            },
                            "args": [
                                {"type": "slot", "kind": "local", "index": 0},
                                {"type": "slot", "kind": "cell", "index": 1}
                            ],
                            "loc": [7, 544, 19, 544, 0]
                        },
                        "tbody": [
                            {
                                "type": "return",
                                "value": {
                                    "type": "record",
                                    "fields": [
                                        {
                                            "name": "generic",
                                            "mutable": false,
                                            "value": {
                                                "type": "call",
                                                "callee": {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "set",
                                                    "loc": [24, 545, 27, 545, 0]
                                                },
                                                "args": [],
                                                "loc": [24, 545, 29, 545, 0]
                                            }
                                        },
                                        {
                                            "name": "root",
                                            "mutable": false,
                                            "value": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 0
                                            }
                                        }
                                    ]
                                }
                            }
                        ],
                        "fbody": [],
                        "loc": [4, 544, 41, 545, 0]
                    },
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "local", "index": 0},
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "cell",
                                "index": 5
                            },
                            "args": [
                                {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 0
                                    },
                                    "name": "pol",
                                    "loc": [25, 546, 33, 546, 0]
                                },
                                {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "set",
                                        "loc": [35, 546, 38, 546, 0]
                                    },
                                    "args": [
                                        {
                                            "type": "list",
                                            "values": [
                                                {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 0
                                                }
                                            ]
                                        }
                                    ],
                                    "loc": [35, 546, 46, 546, 0]
                                }
                            ],
                            "loc": [11, 546, 47, 546, 0]
                        }
                    },
                    {
                        "type": "repeat",
                        "fresh": [],
                        "heads": [
                            {
                                "type": "for",
                                "slot": {
                                    "type": "slot",
                                    "kind": "tuple",
                                    "slots": [
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 2
                                        },
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 3
                                        }
                                    ],
                                    "loc": [8, 547, 17, 547, 0]
                                },
                                "value": {
                                    "type": "slot",
                                    "kind": "cell",
                                    "index": 3
                                }
                            }
                        ],
                        "body": [
                            {
                                "type": "cond",
                                "cond": {
                                    "type": "cmp",
                                    "exprs": [
                                        {
                                            "type": "slot",
                                            "kind": "attr",
                                            "base": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 2
                                            },
                                            "name": "pol",
                                            "loc": [11, 548, 20, 548, 0]
                                        },
                                        {
                                            "type": "literal",
                                            "kind": "integer",
                                            "value": "0"
                                        }
                                    ],
                                    "ops": [
                                        {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": ">",
                                            "loc": [11, 548, 24, 548, 0]
                                        }
                                    ],
                                    "loc": [11, 548, 24, 548, 0]
                                },
                                "tbody": [{"type": "continue"}],
                                "fbody": [],
                                "loc": [8, 548, 38, 548, 0]
                            },
                            {
                                "type": "repeat",
                                "fresh": [],
                                "heads": [
                                    {
                                        "type": "for",
                                        "slot": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 4
                                        },
                                        "value": {
                                            "type": "slot",
                                            "kind": "attr",
                                            "base": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 2
                                            },
                                            "name": "flow",
                                            "loc": [17, 549, 27, 549, 0]
                                        }
                                    }
                                ],
                                "body": [
                                    {
                                        "type": "assert",
                                        "cond": {
                                            "type": "not",
                                            "value": {
                                                "type": "call",
                                                "callee": {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "in",
                                                    "loc": [19, 550, 32, 550, 0]
                                                },
                                                "args": [
                                                    {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 4
                                                    },
                                                    {
                                                        "type": "slot",
                                                        "kind": "cell",
                                                        "index": 1
                                                    }
                                                ],
                                                "loc": [19, 550, 32, 550, 0]
                                            },
                                            "loc": [19, 550, 32, 550, 0]
                                        },
                                        "value": {
                                            "type": "literal",
                                            "kind": "string",
                                            "value": "bug: free state that is not marked free"
                                        },
                                        "loc": [12, 550, 77, 550, 0]
                                    },
                                    {
                                        "type": "assign",
                                        "slot": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 5
                                        },
                                        "value": {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "attr",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "cell",
                                                    "index": 3
                                                },
                                                "name": "get",
                                                "loc": [17, 551, 31, 551, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 4
                                                },
                                                {"type": "list", "values": []}
                                            ],
                                            "loc": [17, 551, 38, 551, 0]
                                        }
                                    },
                                    {
                                        "type": "repeat",
                                        "fresh": [],
                                        "heads": [
                                            {
                                                "type": "for",
                                                "slot": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 6
                                                },
                                                "value": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 3
                                                }
                                            },
                                            {
                                                "type": "for",
                                                "slot": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 7
                                                },
                                                "value": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 5
                                                }
                                            }
                                        ],
                                        "body": [
                                            {
                                                "type": "call",
                                                "callee": {
                                                    "type": "slot",
                                                    "kind": "attr",
                                                    "base": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 6
                                                    },
                                                    "name": "add_flow",
                                                    "loc": [16, 553, 26, 553, 0]
                                                },
                                                "args": [
                                                    {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 7
                                                    }
                                                ],
                                                "loc": [16, 553, 29, 553, 0]
                                            }
                                        ]
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "type": "return",
                        "value": {
                            "type": "record",
                            "fields": [
                                {
                                    "name": "generic",
                                    "mutable": false,
                                    "value": {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "set",
                                            "loc": [20, 554, 23, 554, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "call",
                                                "callee": {
                                                    "type": "slot",
                                                    "kind": "attr",
                                                    "base": {
                                                        "type": "slot",
                                                        "kind": "cell",
                                                        "index": 2
                                                    },
                                                    "name": "values",
                                                    "loc": [24, 554, 38, 554, 0]
                                                },
                                                "args": [],
                                                "loc": [24, 554, 40, 554, 0]
                                            }
                                        ],
                                        "loc": [20, 554, 41, 554, 0]
                                    }
                                },
                                {
                                    "name": "root",
                                    "mutable": false,
                                    "value": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 0
                                    }
                                }
                            ]
                        }
                    }
                ],
                "loc": [13, 481, 53, 554, 0]
            }
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "instantiate_type",
                "loc": [0, 556, 16, 556, 0]
            },
            "value": {
                "type": "closure",
                "cellvars": [
                    {"type": "cell", "deref": true, "name": "scheme", "defs": 1
                    },
                    {
                        "type": "cell",
                        "deref": true,
                        "name": "mapping",
                        "defs": 1
                    },
                    {
                        "type": "cell",
                        "deref": true,
                        "name": "copy_state",
                        "defs": 1
                    }
                ],
                "localvars": [
                    {"type": "cell", "deref": false, "name": "root", "defs": 1}
                ],
                "frame": [],
                "args": [{"slot": {"type": "slot", "kind": "cell", "index": 0}}
                ],
                "body": [
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "cell", "index": 1},
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "global",
                                "name": "dict",
                                "loc": [14, 557, 18, 557, 0]
                            },
                            "args": [],
                            "loc": [14, 557, 20, 557, 0]
                        }
                    },
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "cell", "index": 2},
                        "value": {
                            "type": "closure",
                            "cellvars": [
                                {
                                    "type": "cell",
                                    "deref": true,
                                    "name": "scheme",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": true,
                                    "name": "mapping",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": true,
                                    "name": "copy_state",
                                    "defs": 1
                                }
                            ],
                            "localvars": [
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "n",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "m",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "rw_edge",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "head",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "index",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "site",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "n_site",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "_",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "w",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "edge",
                                    "defs": 2
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "ws",
                                    "defs": 1
                                },
                                {
                                    "type": "cell",
                                    "deref": false,
                                    "name": "w",
                                    "defs": 1
                                }
                            ],
                            "frame": [0, 1, 2],
                            "args": [
                                {
                                    "slot": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 0
                                    }
                                }
                            ],
                            "body": [
                                {
                                    "type": "cond",
                                    "cond": {
                                        "type": "not",
                                        "value": {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "in",
                                                "loc": [11, 559, 34, 559, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 0
                                                },
                                                {
                                                    "type": "slot",
                                                    "kind": "attr",
                                                    "base": {
                                                        "type": "slot",
                                                        "kind": "cell",
                                                        "index": 0
                                                    },
                                                    "name": "generic",
                                                    "loc": [20, 559, 34, 559, 0]
                                                }
                                            ],
                                            "loc": [11, 559, 34, 559, 0]
                                        },
                                        "loc": [11, 559, 34, 559, 0]
                                    },
                                    "tbody": [
                                        {
                                            "type": "return",
                                            "value": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 0
                                            }
                                        }
                                    ],
                                    "fbody": [],
                                    "loc": [8, 559, 48, 559, 0]
                                },
                                {
                                    "type": "except",
                                    "body": [
                                        {
                                            "type": "return",
                                            "value": {
                                                "type": "slot",
                                                "kind": "item",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "cell",
                                                    "index": 1
                                                },
                                                "index": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 0
                                                },
                                                "loc": [15, 560, 25, 560, 0]
                                            }
                                        }
                                    ],
                                    "excepts": [
                                        {
                                            "exc": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "KeyError",
                                                "loc": [15, 561, 23, 561, 0]
                                            },
                                            "body": [
                                                {
                                                    "type": "assign",
                                                    "slot": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 1
                                                    },
                                                    "value": {
                                                        "type": "call",
                                                        "callee": {
                                                            "type": "slot",
                                                            "kind": "global",
                                                            "name": "fresh_state",
                                                            "loc": [
                                                                16,
                                                                562,
                                                                27,
                                                                562,
                                                                0
                                                            ]
                                                        },
                                                        "args": [
                                                            {
                                                                "type": "slot",
                                                                "kind": "attr",
                                                                "base": {
                                                                    "type": "slot",
                                                                    "kind": "local",
                                                                    "index": 0
                                                                },
                                                                "name": "pol",
                                                                "loc": [
                                                                    28,
                                                                    562,
                                                                    33,
                                                                    562,
                                                                    0
                                                                ]
                                                            }
                                                        ],
                                                        "loc": [
                                                            16,
                                                            562,
                                                            34,
                                                            562,
                                                            0
                                                        ]
                                                    }
                                                },
                                                {
                                                    "type": "assign",
                                                    "slot": {
                                                        "type": "slot",
                                                        "kind": "item",
                                                        "base": {
                                                            "type": "slot",
                                                            "kind": "cell",
                                                            "index": 1
                                                        },
                                                        "index": {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 0
                                                        },
                                                        "loc": [
                                                            12,
                                                            563,
                                                            22,
                                                            563,
                                                            0
                                                        ]
                                                    },
                                                    "value": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 1
                                                    }
                                                },
                                                {
                                                    "type": "assign",
                                                    "slot": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 2
                                                    },
                                                    "value": {
                                                        "type": "call",
                                                        "callee": {
                                                            "type": "slot",
                                                            "kind": "global",
                                                            "name": "dict",
                                                            "loc": [
                                                                22,
                                                                564,
                                                                26,
                                                                564,
                                                                0
                                                            ]
                                                        },
                                                        "args": [],
                                                        "loc": [
                                                            22,
                                                            564,
                                                            28,
                                                            564,
                                                            0
                                                        ]
                                                    }
                                                },
                                                {
                                                    "type": "repeat",
                                                    "fresh": [],
                                                    "heads": [
                                                        {
                                                            "type": "for",
                                                            "slot": {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 3
                                                            },
                                                            "value": {
                                                                "type": "slot",
                                                                "kind": "attr",
                                                                "base": {
                                                                    "type": "slot",
                                                                    "kind": "local",
                                                                    "index": 0
                                                                },
                                                                "name": "heads",
                                                                "loc": [
                                                                    24,
                                                                    565,
                                                                    31,
                                                                    565,
                                                                    0
                                                                ]
                                                            }
                                                        }
                                                    ],
                                                    "body": [
                                                        {
                                                            "type": "case",
                                                            "value": {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 3
                                                            },
                                                            "cases": [
                                                                {
                                                                    "type": "pattern",
                                                                    "pattern": {
                                                                        "type": "slot",
                                                                        "kind": "global",
                                                                        "name": "sink",
                                                                        "loc": [
                                                                            16,
                                                                            567,
                                                                            20,
                                                                            567,
                                                                            0
                                                                        ]
                                                                    },
                                                                    "slot": {
                                                                        "type": "slot",
                                                                        "kind": "tuple",
                                                                        "slots": [
                                                                            {
                                                                                "type": "slot",
                                                                                "kind": "local",
                                                                                "index": 4
                                                                            },
                                                                            {
                                                                                "type": "slot",
                                                                                "kind": "local",
                                                                                "index": 5
                                                                            }
                                                                        ],
                                                                        "loc": [
                                                                            16,
                                                                            567,
                                                                            52,
                                                                            570,
                                                                            0
                                                                        ]
                                                                    },
                                                                    "body": [
                                                                        {
                                                                            "type": "assign",
                                                                            "slot": {
                                                                                "type": "slot",
                                                                                "kind": "local",
                                                                                "index": 6
                                                                            },
                                                                            "value": {
                                                                                "type": "call",
                                                                                "callee": {
                                                                                    "type": "slot",
                                                                                    "kind": "attr",
                                                                                    "base": {
                                                                                        "type": "slot",
                                                                                        "kind": "local",
                                                                                        "index": 5
                                                                                    },
                                                                                    "name": "transfer",
                                                                                    "loc": [
                                                                                        29,
                                                                                        568,
                                                                                        42,
                                                                                        568,
                                                                                        0
                                                                                    ]
                                                                                },
                                                                                "args": [
                                                                                    {
                                                                                        "type": "slot",
                                                                                        "kind": "global",
                                                                                        "name": "reduce_site_port",
                                                                                        "loc": [
                                                                                            43,
                                                                                            568,
                                                                                            59,
                                                                                            568,
                                                                                            0
                                                                                        ]
                                                                                    }
                                                                                ],
                                                                                "loc": [
                                                                                    29,
                                                                                    568,
                                                                                    60,
                                                                                    568,
                                                                                    0
                                                                                ]
                                                                            }
                                                                        },
                                                                        {
                                                                            "type": "assign",
                                                                            "slot": {
                                                                                "type": "slot",
                                                                                "kind": "item",
                                                                                "base": {
                                                                                    "type": "slot",
                                                                                    "kind": "local",
                                                                                    "index": 2
                                                                                },
                                                                                "index": {
                                                                                    "type": "slot",
                                                                                    "kind": "attr",
                                                                                    "base": {
                                                                                        "type": "slot",
                                                                                        "kind": "local",
                                                                                        "index": 5
                                                                                    },
                                                                                    "name": "param",
                                                                                    "loc": [
                                                                                        28,
                                                                                        569,
                                                                                        38,
                                                                                        569,
                                                                                        0
                                                                                    ]
                                                                                },
                                                                                "loc": [
                                                                                    20,
                                                                                    569,
                                                                                    39,
                                                                                    569,
                                                                                    0
                                                                                ]
                                                                            },
                                                                            "value": {
                                                                                "type": "slot",
                                                                                "kind": "attr",
                                                                                "base": {
                                                                                    "type": "slot",
                                                                                    "kind": "local",
                                                                                    "index": 6
                                                                                },
                                                                                "name": "edge",
                                                                                "loc": [
                                                                                    42,
                                                                                    569,
                                                                                    53,
                                                                                    569,
                                                                                    0
                                                                                ]
                                                                            }
                                                                        },
                                                                        {
                                                                            "type": "call",
                                                                            "callee": {
                                                                                "type": "slot",
                                                                                "kind": "attr",
                                                                                "base": {
                                                                                    "type": "slot",
                                                                                    "kind": "attr",
                                                                                    "base": {
                                                                                        "type": "slot",
                                                                                        "kind": "global",
                                                                                        "name": "s",
                                                                                        "loc": [
                                                                                            20,
                                                                                            570,
                                                                                            21,
                                                                                            570,
                                                                                            0
                                                                                        ]
                                                                                    },
                                                                                    "name": "heads",
                                                                                    "loc": [
                                                                                        20,
                                                                                        570,
                                                                                        27,
                                                                                        570,
                                                                                        0
                                                                                    ]
                                                                                },
                                                                                "name": "add",
                                                                                "loc": [
                                                                                    20,
                                                                                    570,
                                                                                    31,
                                                                                    570,
                                                                                    0
                                                                                ]
                                                                            },
                                                                            "args": [
                                                                                {
                                                                                    "type": "call",
                                                                                    "callee": {
                                                                                        "type": "slot",
                                                                                        "kind": "global",
                                                                                        "name": "sink",
                                                                                        "loc": [
                                                                                            32,
                                                                                            570,
                                                                                            36,
                                                                                            570,
                                                                                            0
                                                                                        ]
                                                                                    },
                                                                                    "args": [
                                                                                        {
                                                                                            "type": "slot",
                                                                                            "kind": "local",
                                                                                            "index": 4
                                                                                        },
                                                                                        {
                                                                                            "type": "slot",
                                                                                            "kind": "local",
                                                                                            "index": 6
                                                                                        }
                                                                                    ],
                                                                                    "loc": [
                                                                                        32,
                                                                                        570,
                                                                                        51,
                                                                                        570,
                                                                                        0
                                                                                    ]
                                                                                }
                                                                            ],
                                                                            "loc": [
                                                                                20,
                                                                                570,
                                                                                52,
                                                                                570,
                                                                                0
                                                                            ]
                                                                        }
                                                                    ],
                                                                    "loc": [
                                                                        16,
                                                                        567,
                                                                        52,
                                                                        570,
                                                                        0
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "pattern",
                                                                    "pattern": {
                                                                        "type": "slot",
                                                                        "kind": "global",
                                                                        "name": "faucet",
                                                                        "loc": [
                                                                            16,
                                                                            571,
                                                                            22,
                                                                            571,
                                                                            0
                                                                        ]
                                                                    },
                                                                    "slot": {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 7
                                                                    },
                                                                    "body": [
                                                                        {
                                                                            "type": "call",
                                                                            "callee": {
                                                                                "type": "slot",
                                                                                "kind": "attr",
                                                                                "base": {
                                                                                    "type": "slot",
                                                                                    "kind": "attr",
                                                                                    "base": {
                                                                                        "type": "slot",
                                                                                        "kind": "global",
                                                                                        "name": "s",
                                                                                        "loc": [
                                                                                            20,
                                                                                            572,
                                                                                            21,
                                                                                            572,
                                                                                            0
                                                                                        ]
                                                                                    },
                                                                                    "name": "heads",
                                                                                    "loc": [
                                                                                        20,
                                                                                        572,
                                                                                        27,
                                                                                        572,
                                                                                        0
                                                                                    ]
                                                                                },
                                                                                "name": "add",
                                                                                "loc": [
                                                                                    20,
                                                                                    572,
                                                                                    31,
                                                                                    572,
                                                                                    0
                                                                                ]
                                                                            },
                                                                            "args": [
                                                                                {
                                                                                    "type": "slot",
                                                                                    "kind": "local",
                                                                                    "index": 3
                                                                                }
                                                                            ],
                                                                            "loc": [
                                                                                20,
                                                                                572,
                                                                                37,
                                                                                572,
                                                                                0
                                                                            ]
                                                                        }
                                                                    ],
                                                                    "loc": [
                                                                        16,
                                                                        571,
                                                                        37,
                                                                        572,
                                                                        0
                                                                    ]
                                                                }
                                                            ],
                                                            "default": [],
                                                            "loc": [
                                                                16,
                                                                566,
                                                                37,
                                                                572,
                                                                0
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "repeat",
                                                    "fresh": [],
                                                    "heads": [
                                                        {
                                                            "type": "for",
                                                            "slot": {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 8
                                                            },
                                                            "value": {
                                                                "type": "slot",
                                                                "kind": "attr",
                                                                "base": {
                                                                    "type": "slot",
                                                                    "kind": "local",
                                                                    "index": 0
                                                                },
                                                                "name": "flow",
                                                                "loc": [
                                                                    21,
                                                                    573,
                                                                    27,
                                                                    573,
                                                                    0
                                                                ]
                                                            }
                                                        }
                                                    ],
                                                    "body": [
                                                        {
                                                            "type": "call",
                                                            "callee": {
                                                                "type": "slot",
                                                                "kind": "attr",
                                                                "base": {
                                                                    "type": "slot",
                                                                    "kind": "attr",
                                                                    "base": {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 1
                                                                    },
                                                                    "name": "flow",
                                                                    "loc": [
                                                                        16,
                                                                        574,
                                                                        22,
                                                                        574,
                                                                        0
                                                                    ]
                                                                },
                                                                "name": "add",
                                                                "loc": [
                                                                    16,
                                                                    574,
                                                                    26,
                                                                    574,
                                                                    0
                                                                ]
                                                            },
                                                            "args": [
                                                                {
                                                                    "type": "call",
                                                                    "callee": {
                                                                        "type": "slot",
                                                                        "kind": "cell",
                                                                        "index": 2
                                                                    },
                                                                    "args": [
                                                                        {
                                                                            "type": "slot",
                                                                            "kind": "local",
                                                                            "index": 8
                                                                        }
                                                                    ],
                                                                    "loc": [
                                                                        27,
                                                                        574,
                                                                        40,
                                                                        574,
                                                                        0
                                                                    ]
                                                                }
                                                            ],
                                                            "loc": [
                                                                16,
                                                                574,
                                                                41,
                                                                574,
                                                                0
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "repeat",
                                                    "fresh": [],
                                                    "heads": [
                                                        {
                                                            "type": "for",
                                                            "slot": {
                                                                "type": "slot",
                                                                "kind": "tuple",
                                                                "slots": [
                                                                    {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 9
                                                                    },
                                                                    {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 10
                                                                    }
                                                                ],
                                                                "loc": [
                                                                    16,
                                                                    575,
                                                                    24,
                                                                    575,
                                                                    0
                                                                ]
                                                            },
                                                            "value": {
                                                                "type": "slot",
                                                                "kind": "attr",
                                                                "base": {
                                                                    "type": "slot",
                                                                    "kind": "local",
                                                                    "index": 0
                                                                },
                                                                "name": "transitions",
                                                                "loc": [
                                                                    28,
                                                                    575,
                                                                    41,
                                                                    575,
                                                                    0
                                                                ]
                                                            }
                                                        }
                                                    ],
                                                    "body": [
                                                        {
                                                            "type": "assign",
                                                            "slot": {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 9
                                                            },
                                                            "value": {
                                                                "type": "call",
                                                                "callee": {
                                                                    "type": "slot",
                                                                    "kind": "attr",
                                                                    "base": {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 2
                                                                    },
                                                                    "name": "get",
                                                                    "loc": [
                                                                        23,
                                                                        576,
                                                                        34,
                                                                        576,
                                                                        0
                                                                    ]
                                                                },
                                                                "args": [
                                                                    {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 9
                                                                    },
                                                                    {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 9
                                                                    }
                                                                ],
                                                                "loc": [
                                                                    23,
                                                                    576,
                                                                    46,
                                                                    576,
                                                                    0
                                                                ]
                                                            }
                                                        },
                                                        {
                                                            "type": "repeat",
                                                            "fresh": [],
                                                            "heads": [
                                                                {
                                                                    "type": "for",
                                                                    "slot": {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 11
                                                                    },
                                                                    "value": {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 10
                                                                    }
                                                                }
                                                            ],
                                                            "body": [
                                                                {
                                                                    "type": "call",
                                                                    "callee": {
                                                                        "type": "slot",
                                                                        "kind": "attr",
                                                                        "base": {
                                                                            "type": "slot",
                                                                            "kind": "local",
                                                                            "index": 1
                                                                        },
                                                                        "name": "add_transition",
                                                                        "loc": [
                                                                            20,
                                                                            578,
                                                                            36,
                                                                            578,
                                                                            0
                                                                        ]
                                                                    },
                                                                    "args": [
                                                                        {
                                                                            "type": "slot",
                                                                            "kind": "local",
                                                                            "index": 9
                                                                        },
                                                                        {
                                                                            "type": "call",
                                                                            "callee": {
                                                                                "type": "slot",
                                                                                "kind": "cell",
                                                                                "index": 2
                                                                            },
                                                                            "args": [
                                                                                {
                                                                                    "type": "slot",
                                                                                    "kind": "local",
                                                                                    "index": 11
                                                                                }
                                                                            ],
                                                                            "loc": [
                                                                                43,
                                                                                578,
                                                                                56,
                                                                                578,
                                                                                0
                                                                            ]
                                                                        }
                                                                    ],
                                                                    "loc": [
                                                                        20,
                                                                        578,
                                                                        57,
                                                                        578,
                                                                        0
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "return",
                                                    "value": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 1
                                                    }
                                                }
                                            ]
                                        }
                                    ],
                                    "loc": [8, 560, 20, 579, 0]
                                }
                            ],
                            "loc": [17, 558, 20, 579, 0]
                        }
                    },
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "local", "index": 0},
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "cell",
                                "index": 2
                            },
                            "args": [
                                {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "cell",
                                        "index": 0
                                    },
                                    "name": "root",
                                    "loc": [22, 580, 33, 580, 0]
                                }
                            ],
                            "loc": [11, 580, 34, 580, 0]
                        }
                    },
                    {
                        "type": "return",
                        "value": {
                            "type": "record",
                            "fields": [
                                {
                                    "name": "root",
                                    "mutable": false,
                                    "value": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 0
                                    }
                                }
                            ]
                        }
                    }
                ],
                "loc": [19, 556, 23, 581, 0]
            }
        },
        {
            "type": "datatype",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "Env",
                "loc": [9, 584, 12, 584, 0]
            },
            "varc": 2,
            "rows": [
                [
                    {
                        "type": "slot",
                        "kind": "global",
                        "name": "environ",
                        "loc": [22, 584, 29, 584, 0]
                    },
                    4,
                    {"schemes": 0, "locals": 1, "parent": 2, "free": 3},
                    {
                        "type": "closure",
                        "cellvars": [],
                        "localvars": [
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "op",
                                "defs": 1
                            },
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "a",
                                "defs": 1
                            }
                        ],
                        "frame": [],
                        "args": [
                            {
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 0
                                }
                            },
                            {
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 1
                                }
                            }
                        ],
                        "body": [
                            {
                                "type": "return",
                                "value": {
                                    "type": "make_tuple",
                                    "items": [
                                        {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "Dict",
                                                "loc": [13, 585, 17, 585, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "String",
                                                    "loc": [18, 585, 24, 585, 0]
                                                },
                                                {
                                                    "type": "record",
                                                    "fields": [
                                                        {
                                                            "name": "generic",
                                                            "mutable": false,
                                                            "value": {
                                                                "type": "call",
                                                                "callee": {
                                                                    "type": "slot",
                                                                    "kind": "global",
                                                                    "name": "Set",
                                                                    "loc": [
                                                                        36,
                                                                        585,
                                                                        39,
                                                                        585,
                                                                        0
                                                                    ]
                                                                },
                                                                "args": [
                                                                    {
                                                                        "type": "call",
                                                                        "callee": {
                                                                            "type": "slot",
                                                                            "kind": "global",
                                                                            "name": "State",
                                                                            "loc": [
                                                                                40,
                                                                                585,
                                                                                45,
                                                                                585,
                                                                                0
                                                                            ]
                                                                        },
                                                                        "args": [
                                                                            {
                                                                                "type": "slot",
                                                                                "kind": "local",
                                                                                "index": 0
                                                                            },
                                                                            {
                                                                                "type": "slot",
                                                                                "kind": "local",
                                                                                "index": 1
                                                                            }
                                                                        ],
                                                                        "loc": [
                                                                            40,
                                                                            585,
                                                                            52,
                                                                            585,
                                                                            0
                                                                        ]
                                                                    }
                                                                ],
                                                                "loc": [
                                                                    36,
                                                                    585,
                                                                    53,
                                                                    585,
                                                                    0
                                                                ]
                                                            }
                                                        },
                                                        {
                                                            "name": "root",
                                                            "mutable": false,
                                                            "value": {
                                                                "type": "call",
                                                                "callee": {
                                                                    "type": "slot",
                                                                    "kind": "global",
                                                                    "name": "State",
                                                                    "loc": [
                                                                        61,
                                                                        585,
                                                                        66,
                                                                        585,
                                                                        0
                                                                    ]
                                                                },
                                                                "args": [
                                                                    {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 0
                                                                    },
                                                                    {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 1
                                                                    }
                                                                ],
                                                                "loc": [
                                                                    61,
                                                                    585,
                                                                    73,
                                                                    585,
                                                                    0
                                                                ]
                                                            }
                                                        }
                                                    ]
                                                }
                                            ],
                                            "loc": [13, 585, 75, 585, 0]
                                        },
                                        {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "Dict",
                                                "loc": [12, 586, 16, 586, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "String",
                                                    "loc": [17, 586, 23, 586, 0]
                                                },
                                                {
                                                    "type": "record",
                                                    "fields": [
                                                        {
                                                            "name": "input",
                                                            "mutable": false,
                                                            "value": {
                                                                "type": "call",
                                                                "callee": {
                                                                    "type": "slot",
                                                                    "kind": "global",
                                                                    "name": "State",
                                                                    "loc": [
                                                                        33,
                                                                        586,
                                                                        38,
                                                                        586,
                                                                        0
                                                                    ]
                                                                },
                                                                "args": [
                                                                    {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 0
                                                                    },
                                                                    {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 1
                                                                    }
                                                                ],
                                                                "loc": [
                                                                    33,
                                                                    586,
                                                                    44,
                                                                    586,
                                                                    0
                                                                ]
                                                            }
                                                        },
                                                        {
                                                            "name": "output",
                                                            "mutable": false,
                                                            "value": {
                                                                "type": "call",
                                                                "callee": {
                                                                    "type": "slot",
                                                                    "kind": "global",
                                                                    "name": "State",
                                                                    "loc": [
                                                                        54,
                                                                        586,
                                                                        59,
                                                                        586,
                                                                        0
                                                                    ]
                                                                },
                                                                "args": [
                                                                    {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 0
                                                                    },
                                                                    {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 1
                                                                    }
                                                                ],
                                                                "loc": [
                                                                    54,
                                                                    586,
                                                                    66,
                                                                    586,
                                                                    0
                                                                ]
                                                            }
                                                        }
                                                    ]
                                                }
                                            ],
                                            "loc": [12, 586, 68, 586, 0]
                                        },
                                        {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "Env",
                                                "loc": [12, 587, 15, 587, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 0
                                                },
                                                {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 1
                                                }
                                            ],
                                            "loc": [12, 587, 22, 587, 0]
                                        },
                                        {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "Set",
                                                "loc": [10, 588, 13, 588, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "call",
                                                    "callee": {
                                                        "type": "slot",
                                                        "kind": "global",
                                                        "name": "State",
                                                        "loc": [
                                                            14,
                                                            588,
                                                            19,
                                                            588,
                                                            0
                                                        ]
                                                    },
                                                    "args": [
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 0
                                                        },
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 1
                                                        }
                                                    ],
                                                    "loc": [14, 588, 26, 588, 0]
                                                }
                                            ],
                                            "loc": [10, 588, 27, 588, 0]
                                        }
                                    ]
                                }
                            }
                        ],
                        "loc": [0, 584, 27, 596, 0]
                    }
                ],
                [
                    {
                        "type": "slot",
                        "kind": "global",
                        "name": "environ_end",
                        "loc": [31, 588, 42, 588, 0]
                    },
                    0,
                    {},
                    {
                        "type": "closure",
                        "cellvars": [],
                        "localvars": [
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "op",
                                "defs": 1
                            },
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "a",
                                "defs": 1
                            }
                        ],
                        "frame": [],
                        "args": [
                            {
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 0
                                }
                            },
                            {
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 1
                                }
                            }
                        ],
                        "body": [
                            {
                                "type": "return",
                                "value": {"type": "make_tuple", "items": []}
                            }
                        ],
                        "loc": [0, 584, 27, 596, 0]
                    }
                ]
            ],
            "decls": [
                {
                    "type": "method",
                    "op": {
                        "type": "slot",
                        "kind": "global",
                        "name": "getitem",
                        "loc": [7, 589, 14, 589, 0]
                    },
                    "value": {
                        "type": "closure",
                        "cellvars": [],
                        "localvars": [
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "env",
                                "defs": 1
                            },
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "name",
                                "defs": 1
                            },
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "schemes",
                                "defs": 1
                            },
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "locals",
                                "defs": 1
                            },
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "parent",
                                "defs": 1
                            },
                            {
                                "type": "cell",
                                "deref": false,
                                "name": "free",
                                "defs": 1
                            }
                        ],
                        "frame": [],
                        "args": [
                            {
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 0
                                }
                            },
                            {
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 1
                                }
                            }
                        ],
                        "body": [
                            {
                                "type": "case",
                                "value": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 0
                                },
                                "cases": [
                                    {
                                        "type": "pattern",
                                        "pattern": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "environ",
                                            "loc": [4, 591, 11, 591, 0]
                                        },
                                        "slot": {
                                            "type": "slot",
                                            "kind": "tuple",
                                            "slots": [
                                                {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 2
                                                },
                                                {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 3
                                                },
                                                {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 4
                                                },
                                                {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 5
                                                }
                                            ],
                                            "loc": [4, 591, 31, 594, 0]
                                        },
                                        "body": [
                                            {
                                                "type": "except",
                                                "body": [
                                                    {
                                                        "type": "return",
                                                        "value": {
                                                            "type": "slot",
                                                            "kind": "item",
                                                            "base": {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 2
                                                            },
                                                            "index": {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 1
                                                            },
                                                            "loc": [
                                                                15,
                                                                592,
                                                                28,
                                                                592,
                                                                0
                                                            ]
                                                        }
                                                    }
                                                ],
                                                "excepts": [
                                                    {
                                                        "exc": {
                                                            "type": "slot",
                                                            "kind": "global",
                                                            "name": "NoIndex",
                                                            "loc": [
                                                                15,
                                                                593,
                                                                22,
                                                                593,
                                                                0
                                                            ]
                                                        },
                                                        "body": [
                                                            {
                                                                "type": "return",
                                                                "value": {
                                                                    "type": "slot",
                                                                    "kind": "item",
                                                                    "base": {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 4
                                                                    },
                                                                    "index": {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 1
                                                                    },
                                                                    "loc": [
                                                                        19,
                                                                        594,
                                                                        31,
                                                                        594,
                                                                        0
                                                                    ]
                                                                }
                                                            }
                                                        ]
                                                    }
                                                ],
                                                "loc": [8, 592, 31, 594, 0]
                                            }
                                        ],
                                        "loc": [4, 591, 31, 594, 0]
                                    },
                                    {
                                        "type": "constant",
                                        "value": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "environ_end",
                                            "loc": [4, 595, 15, 595, 0]
                                        },
                                        "body": [
                                            {
                                                "type": "return",
                                                "value": {
                                                    "type": "slot",
                                                    "kind": "item",
                                                    "base": {
                                                        "type": "call",
                                                        "callee": {
                                                            "type": "slot",
                                                            "kind": "global",
                                                            "name": "dict",
                                                            "loc": [
                                                                15,
                                                                596,
                                                                19,
                                                                596,
                                                                0
                                                            ]
                                                        },
                                                        "args": [],
                                                        "loc": [
                                                            15,
                                                            596,
                                                            21,
                                                            596,
                                                            0
                                                        ]
                                                    },
                                                    "index": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 1
                                                    },
                                                    "loc": [15, 596, 27, 596, 0]
                                                }
                                            }
                                        ],
                                        "loc": [4, 595, 27, 596, 0]
                                    }
                                ],
                                "default": [],
                                "loc": [4, 590, 27, 596, 0]
                            }
                        ],
                        "loc": [17, 589, 27, 596, 0]
                    }
                }
            ],
            "loc": [0, 584, 27, 596, 0]
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "inference_function",
                "loc": [0, 598, 18, 598, 0]
            },
            "value": {
                "type": "closure",
                "cellvars": [],
                "localvars": [
                    {"type": "cell", "deref": false, "name": "fn", "defs": 1},
                    {"type": "cell", "deref": false, "name": "env", "defs": 2},
                    {
                        "type": "cell",
                        "deref": false,
                        "name": "visited",
                        "defs": 1
                    },
                    {"type": "cell", "deref": false, "name": "head", "defs": 1},
                    {"type": "cell", "deref": false, "name": "info", "defs": 1},
                    {"type": "cell", "deref": false, "name": "out", "defs": 1},
                    {
                        "type": "cell",
                        "deref": false,
                        "name": "params",
                        "defs": 3
                    },
                    {"type": "cell", "deref": false, "name": "arg", "defs": 1},
                    {"type": "cell", "deref": false, "name": "port", "defs": 1},
                    {"type": "cell", "deref": false, "name": "dom", "defs": 1},
                    {"type": "cell", "deref": false, "name": "slot", "defs": 1},
                    {
                        "type": "cell",
                        "deref": false,
                        "name": "retval",
                        "defs": 1
                    }
                ],
                "frame": [],
                "args": [
                    {"slot": {"type": "slot", "kind": "local", "index": 0}},
                    {"slot": {"type": "slot", "kind": "local", "index": 1}},
                    {"slot": {"type": "slot", "kind": "local", "index": 2}}
                ],
                "body": [
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "local", "index": 1},
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "global",
                                "name": "environ",
                                "loc": [10, 599, 17, 599, 0]
                            },
                            "args": [
                                {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "dict",
                                        "loc": [18, 599, 22, 599, 0]
                                    },
                                    "args": [],
                                    "loc": [18, 599, 24, 599, 0]
                                },
                                {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "dict",
                                        "loc": [26, 599, 30, 599, 0]
                                    },
                                    "args": [],
                                    "loc": [26, 599, 32, 599, 0]
                                },
                                {"type": "slot", "kind": "local", "index": 1},
                                {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "set",
                                        "loc": [39, 599, 42, 599, 0]
                                    },
                                    "args": [],
                                    "loc": [39, 599, 44, 599, 0]
                                }
                            ],
                            "loc": [10, 599, 45, 599, 0]
                        }
                    },
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "local", "index": 3},
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "global",
                                "name": "face",
                                "loc": [11, 600, 15, 600, 0]
                            },
                            "args": [
                                {"type": "slot", "kind": "local", "index": 0}
                            ],
                            "loc": [11, 600, 19, 600, 0]
                        }
                    },
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "local", "index": 4},
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "global",
                                "name": "inspect",
                                "loc": [11, 601, 18, 601, 0]
                            },
                            "args": [
                                {"type": "slot", "kind": "local", "index": 0}
                            ],
                            "loc": [11, 601, 22, 601, 0]
                        }
                    },
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "local", "index": 5},
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "global",
                                "name": "fresh_state",
                                "loc": [10, 602, 21, 602, 0]
                            },
                            "args": [
                                {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "+expr",
                                        "loc": [22, 602, 24, 602, 0]
                                    },
                                    "args": [
                                        {
                                            "type": "literal",
                                            "kind": "integer",
                                            "value": "1"
                                        }
                                    ],
                                    "loc": [22, 602, 24, 602, 0]
                                }
                            ],
                            "loc": [10, 602, 25, 602, 0]
                        }
                    },
                    {
                        "type": "call",
                        "callee": {
                            "type": "slot",
                            "kind": "attr",
                            "base": {
                                "type": "slot",
                                "kind": "attr",
                                "base": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 5
                                },
                                "name": "heads",
                                "loc": [4, 603, 13, 603, 0]
                            },
                            "name": "add",
                            "loc": [4, 603, 17, 603, 0]
                        },
                        "args": [
                            {
                                "type": "call",
                                "callee": {
                                    "type": "slot",
                                    "kind": "global",
                                    "name": "faucet",
                                    "loc": [18, 603, 24, 603, 0]
                                },
                                "args": [
                                    {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 3
                                    }
                                ],
                                "loc": [18, 603, 30, 603, 0]
                            }
                        ],
                        "loc": [4, 603, 31, 603, 0]
                    },
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "local", "index": 6},
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "attr",
                                "base": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 3
                                },
                                "name": "params",
                                "loc": [13, 604, 24, 604, 0]
                            },
                            "args": [],
                            "loc": [13, 604, 26, 604, 0]
                        }
                    },
                    {
                        "type": "repeat",
                        "fresh": [],
                        "heads": [
                            {
                                "type": "for",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 7
                                },
                                "value": {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 4
                                    },
                                    "name": "args",
                                    "loc": [15, 605, 24, 605, 0]
                                }
                            }
                        ],
                        "body": [
                            {
                                "type": "assign",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 8
                                },
                                "value": {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "fresh_port",
                                        "loc": [15, 606, 25, 606, 0]
                                    },
                                    "args": [],
                                    "loc": [15, 606, 27, 606, 0]
                                }
                            },
                            {
                                "type": "assign",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 9
                                },
                                "value": {
                                    "type": "iter_once",
                                    "value": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 6
                                    },
                                    "slot": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 6
                                    },
                                    "loc": [14, 607, 31, 607, 0]
                                }
                            },
                            {
                                "type": "call",
                                "callee": {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 5
                                    },
                                    "name": "add_transition",
                                    "loc": [8, 608, 26, 608, 0]
                                },
                                "args": [
                                    {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 9
                                    },
                                    {
                                        "type": "slot",
                                        "kind": "attr",
                                        "base": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 8
                                        },
                                        "name": "input",
                                        "loc": [32, 608, 42, 608, 0]
                                    }
                                ],
                                "loc": [8, 608, 43, 608, 0]
                            },
                            {
                                "type": "assign",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 10
                                },
                                "value": {
                                    "type": "call",
                                    "callee": {
                                        "type": "slot",
                                        "kind": "global",
                                        "name": "inference_slot",
                                        "loc": [15, 609, 29, 609, 0]
                                    },
                                    "args": [
                                        {
                                            "type": "slot",
                                            "kind": "item",
                                            "base": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 7
                                            },
                                            "index": {
                                                "type": "literal",
                                                "kind": "string",
                                                "value": "slot"
                                            },
                                            "loc": [30, 609, 41, 609, 0]
                                        },
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 1
                                        },
                                        {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 2
                                        }
                                    ],
                                    "loc": [15, 609, 56, 609, 0]
                                }
                            },
                            {
                                "type": "call",
                                "callee": {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 10
                                    },
                                    "name": "set",
                                    "loc": [8, 610, 16, 610, 0]
                                },
                                "args": [
                                    {
                                        "type": "slot",
                                        "kind": "attr",
                                        "base": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 8
                                        },
                                        "name": "output",
                                        "loc": [17, 610, 28, 610, 0]
                                    }
                                ],
                                "loc": [8, 610, 29, 610, 0]
                            }
                        ]
                    },
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "local", "index": 11},
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "global",
                                "name": "inference_program",
                                "loc": [13, 611, 30, 611, 0]
                            },
                            "args": [
                                {
                                    "type": "slot",
                                    "kind": "attr",
                                    "base": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 4
                                    },
                                    "name": "body",
                                    "loc": [31, 611, 40, 611, 0]
                                },
                                {"type": "slot", "kind": "local", "index": 1},
                                {"type": "slot", "kind": "local", "index": 2}
                            ],
                            "loc": [13, 611, 55, 611, 0]
                        }
                    },
                    {
                        "type": "call",
                        "callee": {
                            "type": "slot",
                            "kind": "attr",
                            "base": {
                                "type": "slot",
                                "kind": "local",
                                "index": 5
                            },
                            "name": "add_transition",
                            "loc": [4, 612, 22, 612, 0]
                        },
                        "args": [
                            {
                                "type": "iter_once",
                                "value": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 6
                                },
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 6
                                },
                                "loc": [23, 612, 40, 612, 0]
                            },
                            {"type": "slot", "kind": "local", "index": 11}
                        ],
                        "loc": [4, 612, 49, 612, 0]
                    },
                    {
                        "type": "return",
                        "value": {"type": "slot", "kind": "local", "index": 5}
                    }
                ],
                "loc": [21, 598, 14, 613, 0]
            }
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "inference_program",
                "loc": [0, 615, 17, 615, 0]
            },
            "value": {
                "type": "closure",
                "cellvars": [],
                "localvars": [
                    {"type": "cell", "deref": false, "name": "body", "defs": 1},
                    {"type": "cell", "deref": false, "name": "env", "defs": 1},
                    {
                        "type": "cell",
                        "deref": false,
                        "name": "visited",
                        "defs": 1
                    },
                    {
                        "type": "cell",
                        "deref": false,
                        "name": "result",
                        "defs": 1
                    },
                    {"type": "cell", "deref": false, "name": "stmt", "defs": 1},
                    {"type": "cell", "deref": false, "name": "value", "defs": 2}
                ],
                "frame": [],
                "args": [
                    {"slot": {"type": "slot", "kind": "local", "index": 0}},
                    {"slot": {"type": "slot", "kind": "local", "index": 1}},
                    {"slot": {"type": "slot", "kind": "local", "index": 2}}
                ],
                "body": [
                    {
                        "type": "assign",
                        "slot": {"type": "slot", "kind": "local", "index": 3},
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "global",
                                "name": "fresh_port",
                                "loc": [13, 616, 23, 616, 0]
                            },
                            "args": [],
                            "loc": [13, 616, 25, 616, 0]
                        }
                    },
                    {
                        "type": "repeat",
                        "fresh": [],
                        "heads": [
                            {
                                "type": "for",
                                "slot": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 4
                                },
                                "value": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 0
                                }
                            }
                        ],
                        "body": [
                            {
                                "type": "case",
                                "value": {
                                    "type": "slot",
                                    "kind": "item",
                                    "base": {
                                        "type": "slot",
                                        "kind": "local",
                                        "index": 4
                                    },
                                    "index": {
                                        "type": "literal",
                                        "kind": "string",
                                        "value": "type"
                                    },
                                    "loc": [13, 618, 25, 618, 0]
                                },
                                "cases": [
                                    {
                                        "type": "constant",
                                        "value": {
                                            "type": "literal",
                                            "kind": "string",
                                            "value": "return"
                                        },
                                        "body": [
                                            {
                                                "type": "assign",
                                                "slot": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 5
                                                },
                                                "value": {
                                                    "type": "slot",
                                                    "kind": "item",
                                                    "base": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 4
                                                    },
                                                    "index": {
                                                        "type": "literal",
                                                        "kind": "string",
                                                        "value": "value"
                                                    },
                                                    "loc": [20, 620, 33, 620, 0]
                                                }
                                            },
                                            {
                                                "type": "assign",
                                                "slot": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 5
                                                },
                                                "value": {
                                                    "type": "call",
                                                    "callee": {
                                                        "type": "slot",
                                                        "kind": "global",
                                                        "name": "inference_expr",
                                                        "loc": [
                                                            20,
                                                            621,
                                                            34,
                                                            621,
                                                            0
                                                        ]
                                                    },
                                                    "args": [
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 5
                                                        },
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 1
                                                        },
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 2
                                                        }
                                                    ],
                                                    "loc": [20, 621, 55, 621, 0]
                                                }
                                            },
                                            {
                                                "type": "call",
                                                "callee": {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "biunify",
                                                    "loc": [12, 622, 19, 622, 0]
                                                },
                                                "args": [
                                                    {
                                                        "type": "make_tuple",
                                                        "items": [
                                                            {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 5
                                                            },
                                                            {
                                                                "type": "slot",
                                                                "kind": "attr",
                                                                "base": {
                                                                    "type": "slot",
                                                                    "kind": "local",
                                                                    "index": 3
                                                                },
                                                                "name": "input",
                                                                "loc": [
                                                                    28,
                                                                    622,
                                                                    40,
                                                                    622,
                                                                    0
                                                                ]
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 2
                                                    }
                                                ],
                                                "loc": [12, 622, 51, 622, 0]
                                            }
                                        ],
                                        "loc": [8, 619, 51, 622, 0]
                                    }
                                ],
                                "default": [
                                    {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "print",
                                            "loc": [12, 624, 17, 624, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "slot",
                                                "kind": "item",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 4
                                                },
                                                "index": {
                                                    "type": "literal",
                                                    "kind": "string",
                                                    "value": "type"
                                                },
                                                "loc": [18, 624, 30, 624, 0]
                                            },
                                            {
                                                "type": "literal",
                                                "kind": "string",
                                                "value": "missing"
                                            }
                                        ],
                                        "loc": [12, 624, 42, 624, 0]
                                    },
                                    {
                                        "type": "assert",
                                        "cond": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "false",
                                            "loc": [19, 625, 24, 625, 0]
                                        },
                                        "value": {
                                            "type": "literal",
                                            "kind": "string",
                                            "value": "missing inference for stmt"
                                        },
                                        "loc": [12, 625, 56, 625, 0]
                                    }
                                ],
                                "loc": [8, 618, 56, 625, 0]
                            }
                        ]
                    },
                    {
                        "type": "return",
                        "value": {
                            "type": "slot",
                            "kind": "attr",
                            "base": {
                                "type": "slot",
                                "kind": "local",
                                "index": 3
                            },
                            "name": "output",
                            "loc": [11, 626, 24, 626, 0]
                        }
                    }
                ],
                "loc": [20, 615, 24, 626, 0]
            }
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "inference_expr",
                "loc": [0, 628, 14, 628, 0]
            },
            "value": {
                "type": "closure",
                "cellvars": [],
                "localvars": [
                    {"type": "cell", "deref": false, "name": "a", "defs": 1},
                    {"type": "cell", "deref": false, "name": "env", "defs": 1},
                    {
                        "type": "cell",
                        "deref": false,
                        "name": "visited",
                        "defs": 1
                    },
                    {
                        "type": "cell",
                        "deref": false,
                        "name": "result",
                        "defs": 2
                    },
                    {
                        "type": "cell",
                        "deref": false,
                        "name": "callee",
                        "defs": 1
                    },
                    {
                        "type": "cell",
                        "deref": false,
                        "name": "op_site",
                        "defs": 1
                    },
                    {"type": "cell", "deref": false, "name": "sinky", "defs": 1
                    },
                    {
                        "type": "cell",
                        "deref": false,
                        "name": "calltype",
                        "defs": 1
                    },
                    {"type": "cell", "deref": false, "name": "dom_0", "defs": 1
                    },
                    {
                        "type": "cell",
                        "deref": false,
                        "name": "params",
                        "defs": 3
                    },
                    {"type": "cell", "deref": false, "name": "arg", "defs": 2}
                ],
                "frame": [],
                "args": [
                    {"slot": {"type": "slot", "kind": "local", "index": 0}},
                    {"slot": {"type": "slot", "kind": "local", "index": 1}},
                    {"slot": {"type": "slot", "kind": "local", "index": 2}}
                ],
                "body": [
                    {
                        "type": "case",
                        "value": {
                            "type": "slot",
                            "kind": "item",
                            "base": {
                                "type": "slot",
                                "kind": "local",
                                "index": 0
                            },
                            "index": {
                                "type": "literal",
                                "kind": "string",
                                "value": "type"
                            },
                            "loc": [9, 629, 18, 629, 0]
                        },
                        "cases": [
                            {
                                "type": "constant",
                                "value": {
                                    "type": "literal",
                                    "kind": "string",
                                    "value": "literal"
                                },
                                "body": [
                                    {
                                        "type": "assign",
                                        "slot": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 3
                                        },
                                        "value": {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "fresh_state",
                                                "loc": [17, 631, 28, 631, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "call",
                                                    "callee": {
                                                        "type": "slot",
                                                        "kind": "global",
                                                        "name": "+expr",
                                                        "loc": [
                                                            29,
                                                            631,
                                                            31,
                                                            631,
                                                            0
                                                        ]
                                                    },
                                                    "args": [
                                                        {
                                                            "type": "literal",
                                                            "kind": "integer",
                                                            "value": "1"
                                                        }
                                                    ],
                                                    "loc": [29, 631, 31, 631, 0]
                                                }
                                            ],
                                            "loc": [17, 631, 32, 631, 0]
                                        }
                                    },
                                    {
                                        "type": "case",
                                        "value": {
                                            "type": "slot",
                                            "kind": "item",
                                            "base": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 0
                                            },
                                            "index": {
                                                "type": "literal",
                                                "kind": "string",
                                                "value": "kind"
                                            },
                                            "loc": [13, 632, 22, 632, 0]
                                        },
                                        "cases": [
                                            {
                                                "type": "constant",
                                                "value": {
                                                    "type": "literal",
                                                    "kind": "string",
                                                    "value": "string"
                                                },
                                                "body": [
                                                    {
                                                        "type": "call",
                                                        "callee": {
                                                            "type": "slot",
                                                            "kind": "attr",
                                                            "base": {
                                                                "type": "slot",
                                                                "kind": "attr",
                                                                "base": {
                                                                    "type": "slot",
                                                                    "kind": "local",
                                                                    "index": 3
                                                                },
                                                                "name": "heads",
                                                                "loc": [
                                                                    12,
                                                                    634,
                                                                    24,
                                                                    634,
                                                                    0
                                                                ]
                                                            },
                                                            "name": "add",
                                                            "loc": [
                                                                12,
                                                                634,
                                                                28,
                                                                634,
                                                                0
                                                            ]
                                                        },
                                                        "args": [
                                                            {
                                                                "type": "call",
                                                                "callee": {
                                                                    "type": "slot",
                                                                    "kind": "global",
                                                                    "name": "faucet",
                                                                    "loc": [
                                                                        29,
                                                                        634,
                                                                        35,
                                                                        634,
                                                                        0
                                                                    ]
                                                                },
                                                                "args": [
                                                                    {
                                                                        "type": "slot",
                                                                        "kind": "global",
                                                                        "name": "String",
                                                                        "loc": [
                                                                            36,
                                                                            634,
                                                                            42,
                                                                            634,
                                                                            0
                                                                        ]
                                                                    }
                                                                ],
                                                                "loc": [
                                                                    29,
                                                                    634,
                                                                    43,
                                                                    634,
                                                                    0
                                                                ]
                                                            }
                                                        ],
                                                        "loc": [
                                                            12,
                                                            634,
                                                            44,
                                                            634,
                                                            0
                                                        ]
                                                    }
                                                ],
                                                "loc": [8, 633, 44, 634, 0]
                                            },
                                            {
                                                "type": "constant",
                                                "value": {
                                                    "type": "literal",
                                                    "kind": "string",
                                                    "value": "integer"
                                                },
                                                "body": [
                                                    {
                                                        "type": "call",
                                                        "callee": {
                                                            "type": "slot",
                                                            "kind": "attr",
                                                            "base": {
                                                                "type": "slot",
                                                                "kind": "attr",
                                                                "base": {
                                                                    "type": "slot",
                                                                    "kind": "local",
                                                                    "index": 3
                                                                },
                                                                "name": "heads",
                                                                "loc": [
                                                                    12,
                                                                    636,
                                                                    24,
                                                                    636,
                                                                    0
                                                                ]
                                                            },
                                                            "name": "add",
                                                            "loc": [
                                                                12,
                                                                636,
                                                                28,
                                                                636,
                                                                0
                                                            ]
                                                        },
                                                        "args": [
                                                            {
                                                                "type": "call",
                                                                "callee": {
                                                                    "type": "slot",
                                                                    "kind": "global",
                                                                    "name": "faucet",
                                                                    "loc": [
                                                                        29,
                                                                        636,
                                                                        35,
                                                                        636,
                                                                        0
                                                                    ]
                                                                },
                                                                "args": [
                                                                    {
                                                                        "type": "slot",
                                                                        "kind": "global",
                                                                        "name": "Integer",
                                                                        "loc": [
                                                                            36,
                                                                            636,
                                                                            43,
                                                                            636,
                                                                            0
                                                                        ]
                                                                    }
                                                                ],
                                                                "loc": [
                                                                    29,
                                                                    636,
                                                                    44,
                                                                    636,
                                                                    0
                                                                ]
                                                            }
                                                        ],
                                                        "loc": [
                                                            12,
                                                            636,
                                                            45,
                                                            636,
                                                            0
                                                        ]
                                                    }
                                                ],
                                                "loc": [8, 635, 45, 636, 0]
                                            }
                                        ],
                                        "default": [
                                            {
                                                "type": "assert",
                                                "cond": {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "false",
                                                    "loc": [19, 638, 24, 638, 0]
                                                },
                                                "value": {
                                                    "type": "literal",
                                                    "kind": "string",
                                                    "value": "missing inference for literal"
                                                },
                                                "loc": [12, 638, 59, 638, 0]
                                            }
                                        ],
                                        "loc": [8, 632, 59, 638, 0]
                                    },
                                    {
                                        "type": "return",
                                        "value": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 3
                                        }
                                    }
                                ],
                                "loc": [4, 630, 21, 639, 0]
                            },
                            {
                                "type": "constant",
                                "value": {
                                    "type": "literal",
                                    "kind": "string",
                                    "value": "slot"
                                },
                                "body": [
                                    {
                                        "type": "return",
                                        "value": {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "attr",
                                                "base": {
                                                    "type": "call",
                                                    "callee": {
                                                        "type": "slot",
                                                        "kind": "global",
                                                        "name": "inference_slot",
                                                        "loc": [
                                                            15,
                                                            641,
                                                            29,
                                                            641,
                                                            0
                                                        ]
                                                    },
                                                    "args": [
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 0
                                                        },
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 1
                                                        },
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 2
                                                        }
                                                    ],
                                                    "loc": [15, 641, 46, 641, 0]
                                                },
                                                "name": "get",
                                                "loc": [15, 641, 50, 641, 0]
                                            },
                                            "args": [],
                                            "loc": [15, 641, 52, 641, 0]
                                        }
                                    }
                                ],
                                "loc": [4, 640, 52, 641, 0]
                            },
                            {
                                "type": "constant",
                                "value": {
                                    "type": "literal",
                                    "kind": "string",
                                    "value": "call"
                                },
                                "body": [
                                    {
                                        "type": "assign",
                                        "slot": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 4
                                        },
                                        "value": {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "inference_expr",
                                                "loc": [17, 643, 31, 643, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "slot",
                                                    "kind": "item",
                                                    "base": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 0
                                                    },
                                                    "index": {
                                                        "type": "literal",
                                                        "kind": "string",
                                                        "value": "callee"
                                                    },
                                                    "loc": [32, 643, 43, 643, 0]
                                                },
                                                {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 1
                                                },
                                                {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 2
                                                }
                                            ],
                                            "loc": [17, 643, 58, 643, 0]
                                        }
                                    },
                                    {
                                        "type": "assign",
                                        "slot": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 5
                                        },
                                        "value": {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "fresh_operator",
                                                "loc": [18, 644, 32, 644, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "call",
                                                    "loc": [33, 644, 37, 644, 0]
                                                },
                                                {
                                                    "type": "list",
                                                    "values": [
                                                        {
                                                            "type": "literal",
                                                            "kind": "integer",
                                                            "value": "0"
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "call",
                                                    "callee": {
                                                        "type": "slot",
                                                        "kind": "global",
                                                        "name": "+",
                                                        "loc": [
                                                            44,
                                                            644,
                                                            64,
                                                            644,
                                                            0
                                                        ]
                                                    },
                                                    "args": [
                                                        {
                                                            "type": "literal",
                                                            "kind": "integer",
                                                            "value": "1"
                                                        },
                                                        {
                                                            "type": "slot",
                                                            "kind": "attr",
                                                            "base": {
                                                                "type": "slot",
                                                                "kind": "item",
                                                                "base": {
                                                                    "type": "slot",
                                                                    "kind": "local",
                                                                    "index": 0
                                                                },
                                                                "index": {
                                                                    "type": "literal",
                                                                    "kind": "string",
                                                                    "value": "args"
                                                                },
                                                                "loc": [
                                                                    48,
                                                                    644,
                                                                    57,
                                                                    644,
                                                                    0
                                                                ]
                                                            },
                                                            "name": "length",
                                                            "loc": [
                                                                48,
                                                                644,
                                                                64,
                                                                644,
                                                                0
                                                            ]
                                                        }
                                                    ],
                                                    "loc": [44, 644, 64, 644, 0]
                                                }
                                            ],
                                            "loc": [18, 644, 65, 644, 0]
                                        }
                                    },
                                    {
                                        "type": "assign",
                                        "slot": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 6
                                        },
                                        "value": {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "fresh_port",
                                                "loc": [16, 645, 26, 645, 0]
                                            },
                                            "args": [],
                                            "loc": [16, 645, 28, 645, 0]
                                        }
                                    },
                                    {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "attr",
                                            "base": {
                                                "type": "slot",
                                                "kind": "attr",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "attr",
                                                    "base": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 6
                                                    },
                                                    "name": "input",
                                                    "loc": [8, 646, 19, 646, 0]
                                                },
                                                "name": "heads",
                                                "loc": [8, 646, 25, 646, 0]
                                            },
                                            "name": "add",
                                            "loc": [8, 646, 29, 646, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "call",
                                                "callee": {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "sink",
                                                    "loc": [30, 646, 34, 646, 0]
                                                },
                                                "args": [
                                                    {
                                                        "type": "literal",
                                                        "kind": "integer",
                                                        "value": "0"
                                                    },
                                                    {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 5
                                                    }
                                                ],
                                                "loc": [30, 646, 46, 646, 0]
                                            }
                                        ],
                                        "loc": [8, 646, 47, 646, 0]
                                    },
                                    {
                                        "type": "assign",
                                        "slot": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 7
                                        },
                                        "value": {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "fresh_state",
                                                "loc": [19, 648, 30, 648, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "call",
                                                    "callee": {
                                                        "type": "slot",
                                                        "kind": "global",
                                                        "name": "-expr",
                                                        "loc": [
                                                            31,
                                                            648,
                                                            33,
                                                            648,
                                                            0
                                                        ]
                                                    },
                                                    "args": [
                                                        {
                                                            "type": "literal",
                                                            "kind": "integer",
                                                            "value": "1"
                                                        }
                                                    ],
                                                    "loc": [31, 648, 33, 648, 0]
                                                }
                                            ],
                                            "loc": [19, 648, 34, 648, 0]
                                        }
                                    },
                                    {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "attr",
                                            "base": {
                                                "type": "slot",
                                                "kind": "attr",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 7
                                                },
                                                "name": "heads",
                                                "loc": [8, 649, 22, 649, 0]
                                            },
                                            "name": "add",
                                            "loc": [8, 649, 26, 649, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "slot",
                                                "kind": "attr",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 5
                                                },
                                                "name": "expect",
                                                "loc": [27, 649, 41, 649, 0]
                                            }
                                        ],
                                        "loc": [8, 649, 42, 649, 0]
                                    },
                                    {
                                        "type": "assign",
                                        "slot": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 8
                                        },
                                        "value": {
                                            "type": "iter_once",
                                            "value": {
                                                "type": "call",
                                                "callee": {
                                                    "type": "slot",
                                                    "kind": "attr",
                                                    "base": {
                                                        "type": "slot",
                                                        "kind": "attr",
                                                        "base": {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 5
                                                        },
                                                        "name": "expect",
                                                        "loc": [
                                                            16,
                                                            651,
                                                            30,
                                                            651,
                                                            0
                                                        ]
                                                    },
                                                    "name": "params",
                                                    "loc": [16, 651, 37, 651, 0]
                                                },
                                                "args": [],
                                                "loc": [16, 651, 39, 651, 0]
                                            },
                                            "slot": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 9
                                            },
                                            "loc": [16, 651, 50, 651, 0]
                                        }
                                    },
                                    {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "attr",
                                            "base": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 7
                                            },
                                            "name": "add_transition",
                                            "loc": [8, 652, 31, 652, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 8
                                            },
                                            {
                                                "type": "slot",
                                                "kind": "attr",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 6
                                                },
                                                "name": "output",
                                                "loc": [39, 652, 51, 652, 0]
                                            }
                                        ],
                                        "loc": [8, 652, 52, 652, 0]
                                    },
                                    {
                                        "type": "repeat",
                                        "fresh": [],
                                        "heads": [
                                            {
                                                "type": "for",
                                                "slot": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 10
                                                },
                                                "value": {
                                                    "type": "slot",
                                                    "kind": "item",
                                                    "base": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 0
                                                    },
                                                    "index": {
                                                        "type": "literal",
                                                        "kind": "string",
                                                        "value": "args"
                                                    },
                                                    "loc": [19, 653, 28, 653, 0]
                                                }
                                            }
                                        ],
                                        "body": [
                                            {
                                                "type": "assign",
                                                "slot": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 10
                                                },
                                                "value": {
                                                    "type": "call",
                                                    "callee": {
                                                        "type": "slot",
                                                        "kind": "global",
                                                        "name": "inference_expr",
                                                        "loc": [
                                                            18,
                                                            654,
                                                            32,
                                                            654,
                                                            0
                                                        ]
                                                    },
                                                    "args": [
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 10
                                                        },
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 1
                                                        },
                                                        {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 2
                                                        }
                                                    ],
                                                    "loc": [18, 654, 51, 654, 0]
                                                }
                                            },
                                            {
                                                "type": "call",
                                                "callee": {
                                                    "type": "slot",
                                                    "kind": "attr",
                                                    "base": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 7
                                                    },
                                                    "name": "add_transition",
                                                    "loc": [12, 655, 35, 655, 0]
                                                },
                                                "args": [
                                                    {
                                                        "type": "iter_once",
                                                        "value": {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 9
                                                        },
                                                        "slot": {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 9
                                                        },
                                                        "loc": [
                                                            36,
                                                            655,
                                                            53,
                                                            655,
                                                            0
                                                        ]
                                                    },
                                                    {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 10
                                                    }
                                                ],
                                                "loc": [12, 655, 59, 655, 0]
                                            }
                                        ]
                                    },
                                    {
                                        "type": "assign",
                                        "slot": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 3
                                        },
                                        "value": {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "fresh_port",
                                                "loc": [17, 656, 27, 656, 0]
                                            },
                                            "args": [],
                                            "loc": [17, 656, 29, 656, 0]
                                        }
                                    },
                                    {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "attr",
                                            "base": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 7
                                            },
                                            "name": "add_transition",
                                            "loc": [8, 657, 31, 657, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "iter_once",
                                                "value": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 9
                                                },
                                                "slot": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 9
                                                },
                                                "loc": [32, 657, 49, 657, 0]
                                            },
                                            {
                                                "type": "slot",
                                                "kind": "attr",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 3
                                                },
                                                "name": "input",
                                                "loc": [51, 657, 63, 657, 0]
                                            }
                                        ],
                                        "loc": [8, 657, 64, 657, 0]
                                    },
                                    {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "attr",
                                            "base": {
                                                "type": "slot",
                                                "kind": "attr",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 6
                                                },
                                                "name": "input",
                                                "loc": [8, 658, 19, 658, 0]
                                            },
                                            "name": "add_transition",
                                            "loc": [8, 658, 34, 658, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "slot",
                                                "kind": "attr",
                                                "base": {
                                                    "type": "slot",
                                                    "kind": "local",
                                                    "index": 5
                                                },
                                                "name": "param",
                                                "loc": [35, 658, 48, 658, 0]
                                            },
                                            {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 7
                                            }
                                        ],
                                        "loc": [8, 658, 59, 658, 0]
                                    },
                                    {
                                        "type": "call",
                                        "callee": {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "biunify",
                                            "loc": [8, 659, 15, 659, 0]
                                        },
                                        "args": [
                                            {
                                                "type": "make_tuple",
                                                "items": [
                                                    {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 4
                                                    },
                                                    {
                                                        "type": "slot",
                                                        "kind": "attr",
                                                        "base": {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 6
                                                        },
                                                        "name": "input",
                                                        "loc": [
                                                            25,
                                                            659,
                                                            36,
                                                            659,
                                                            0
                                                        ]
                                                    }
                                                ]
                                            },
                                            {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 2
                                            }
                                        ],
                                        "loc": [8, 659, 47, 659, 0]
                                    },
                                    {
                                        "type": "return",
                                        "value": {
                                            "type": "slot",
                                            "kind": "attr",
                                            "base": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 3
                                            },
                                            "name": "output",
                                            "loc": [15, 661, 28, 661, 0]
                                        }
                                    }
                                ],
                                "loc": [4, 642, 28, 661, 0]
                            }
                        ],
                        "default": [
                            {
                                "type": "call",
                                "callee": {
                                    "type": "slot",
                                    "kind": "global",
                                    "name": "print",
                                    "loc": [8, 663, 13, 663, 0]
                                },
                                "args": [
                                    {
                                        "type": "slot",
                                        "kind": "item",
                                        "base": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 0
                                        },
                                        "index": {
                                            "type": "literal",
                                            "kind": "string",
                                            "value": "type"
                                        },
                                        "loc": [14, 663, 23, 663, 0]
                                    },
                                    {
                                        "type": "literal",
                                        "kind": "string",
                                        "value": "missing"
                                    }
                                ],
                                "loc": [8, 663, 35, 663, 0]
                            },
                            {
                                "type": "assert",
                                "cond": {
                                    "type": "slot",
                                    "kind": "global",
                                    "name": "false",
                                    "loc": [15, 664, 20, 664, 0]
                                },
                                "value": {
                                    "type": "literal",
                                    "kind": "string",
                                    "value": "missing inference for expression"
                                },
                                "loc": [8, 664, 58, 664, 0]
                            }
                        ],
                        "loc": [4, 629, 58, 664, 0]
                    }
                ],
                "loc": [17, 628, 58, 664, 0]
            }
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "inference_slot",
                "loc": [0, 666, 14, 666, 0]
            },
            "value": {
                "type": "closure",
                "cellvars": [
                    {
                        "type": "cell",
                        "deref": true,
                        "name": "visited",
                        "defs": 1
                    },
                    {"type": "cell", "deref": true, "name": "port", "defs": 2},
                    {"type": "cell", "deref": true, "name": "name", "defs": 1}
                ],
                "localvars": [
                    {"type": "cell", "deref": false, "name": "a", "defs": 1},
                    {"type": "cell", "deref": false, "name": "env", "defs": 1},
                    {"type": "cell", "deref": false, "name": "key", "defs": 1}
                ],
                "frame": [],
                "args": [
                    {"slot": {"type": "slot", "kind": "local", "index": 0}},
                    {"slot": {"type": "slot", "kind": "local", "index": 1}},
                    {"slot": {"type": "slot", "kind": "cell", "index": 0}}
                ],
                "body": [
                    {
                        "type": "case",
                        "value": {
                            "type": "slot",
                            "kind": "item",
                            "base": {
                                "type": "slot",
                                "kind": "local",
                                "index": 0
                            },
                            "index": {
                                "type": "literal",
                                "kind": "string",
                                "value": "kind"
                            },
                            "loc": [9, 667, 18, 667, 0]
                        },
                        "cases": [
                            {
                                "type": "constant",
                                "value": {
                                    "type": "literal",
                                    "kind": "string",
                                    "value": "local"
                                },
                                "body": [
                                    {
                                        "type": "assign",
                                        "slot": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 2
                                        },
                                        "value": {
                                            "type": "call",
                                            "callee": {
                                                "type": "slot",
                                                "kind": "global",
                                                "name": "++",
                                                "loc": [14, 669, 46, 669, 0]
                                            },
                                            "args": [
                                                {
                                                    "type": "literal",
                                                    "kind": "string",
                                                    "value": "local"
                                                },
                                                {
                                                    "type": "call",
                                                    "callee": {
                                                        "type": "slot",
                                                        "kind": "global",
                                                        "name": "stringify",
                                                        "loc": [
                                                            25,
                                                            669,
                                                            34,
                                                            669,
                                                            0
                                                        ]
                                                    },
                                                    "args": [
                                                        {
                                                            "type": "slot",
                                                            "kind": "item",
                                                            "base": {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 0
                                                            },
                                                            "index": {
                                                                "type": "literal",
                                                                "kind": "string",
                                                                "value": "index"
                                                            },
                                                            "loc": [
                                                                35,
                                                                669,
                                                                45,
                                                                669,
                                                                0
                                                            ]
                                                        }
                                                    ],
                                                    "loc": [25, 669, 46, 669, 0]
                                                }
                                            ],
                                            "loc": [14, 669, 46, 669, 0]
                                        }
                                    },
                                    {
                                        "type": "except",
                                        "body": [
                                            {
                                                "type": "assign",
                                                "slot": {
                                                    "type": "slot",
                                                    "kind": "cell",
                                                    "index": 1
                                                },
                                                "value": {
                                                    "type": "slot",
                                                    "kind": "item",
                                                    "base": {
                                                        "type": "slot",
                                                        "kind": "attr",
                                                        "base": {
                                                            "type": "slot",
                                                            "kind": "local",
                                                            "index": 1
                                                        },
                                                        "name": "schemes",
                                                        "loc": [
                                                            15,
                                                            670,
                                                            26,
                                                            670,
                                                            0
                                                        ]
                                                    },
                                                    "index": {
                                                        "type": "slot",
                                                        "kind": "local",
                                                        "index": 2
                                                    },
                                                    "loc": [15, 670, 31, 670, 0]
                                                }
                                            }
                                        ],
                                        "excepts": [
                                            {
                                                "exc": {
                                                    "type": "slot",
                                                    "kind": "global",
                                                    "name": "NoIndex",
                                                    "loc": [15, 671, 22, 671, 0]
                                                },
                                                "body": [
                                                    {
                                                        "type": "assign",
                                                        "slot": {
                                                            "type": "slot",
                                                            "kind": "cell",
                                                            "index": 1
                                                        },
                                                        "value": {
                                                            "type": "call",
                                                            "callee": {
                                                                "type": "slot",
                                                                "kind": "global",
                                                                "name": "fresh_free_port",
                                                                "loc": [
                                                                    19,
                                                                    672,
                                                                    34,
                                                                    672,
                                                                    0
                                                                ]
                                                            },
                                                            "args": [
                                                                {
                                                                    "type": "slot",
                                                                    "kind": "attr",
                                                                    "base": {
                                                                        "type": "slot",
                                                                        "kind": "local",
                                                                        "index": 1
                                                                    },
                                                                    "name": "free",
                                                                    "loc": [
                                                                        35,
                                                                        672,
                                                                        43,
                                                                        672,
                                                                        0
                                                                    ]
                                                                }
                                                            ],
                                                            "loc": [
                                                                19,
                                                                672,
                                                                44,
                                                                672,
                                                                0
                                                            ]
                                                        }
                                                    },
                                                    {
                                                        "type": "assign",
                                                        "slot": {
                                                            "type": "slot",
                                                            "kind": "item",
                                                            "base": {
                                                                "type": "slot",
                                                                "kind": "attr",
                                                                "base": {
                                                                    "type": "slot",
                                                                    "kind": "local",
                                                                    "index": 1
                                                                },
                                                                "name": "schemes",
                                                                "loc": [
                                                                    12,
                                                                    673,
                                                                    23,
                                                                    673,
                                                                    0
                                                                ]
                                                            },
                                                            "index": {
                                                                "type": "slot",
                                                                "kind": "local",
                                                                "index": 2
                                                            },
                                                            "loc": [
                                                                12,
                                                                673,
                                                                28,
                                                                673,
                                                                0
                                                            ]
                                                        },
                                                        "value": {
                                                            "type": "slot",
                                                            "kind": "cell",
                                                            "index": 1
                                                        }
                                                    }
                                                ]
                                            }
                                        ],
                                        "loc": [8, 670, 35, 673, 0]
                                    },
                                    {
                                        "type": "return",
                                        "value": {
                                            "type": "record",
                                            "fields": [
                                                {
                                                    "name": "set",
                                                    "mutable": false,
                                                    "value": {
                                                        "type": "closure",
                                                        "cellvars": [
                                                            {
                                                                "type": "cell",
                                                                "deref": true,
                                                                "name": "port",
                                                                "defs": 2
                                                            },
                                                            {
                                                                "type": "cell",
                                                                "deref": true,
                                                                "name": "visited",
                                                                "defs": 1
                                                            }
                                                        ],
                                                        "localvars": [
                                                            {
                                                                "type": "cell",
                                                                "deref": false,
                                                                "name": "a",
                                                                "defs": 1
                                                            }
                                                        ],
                                                        "frame": [1, 0],
                                                        "args": [
                                                            {
                                                                "slot": {
                                                                    "type": "slot",
                                                                    "kind": "local",
                                                                    "index": 0
                                                                }
                                                            }
                                                        ],
                                                        "body": [
                                                            {
                                                                "type": "return",
                                                                "value": {
                                                                    "type": "call",
                                                                    "callee": {
                                                                        "type": "slot",
                                                                        "kind": "global",
                                                                        "name": "biunify",
                                                                        "loc": [
                                                                            23,
                                                                            675,
                                                                            30,
                                                                            675,
                                                                            0
                                                                        ]
                                                                    },
                                                                    "args": [
                                                                        {
                                                                            "type": "make_tuple",
                                                                            "items": [
                                                                                {
                                                                                    "type": "slot",
                                                                                    "kind": "local",
                                                                                    "index": 0
                                                                                },
                                                                                {
                                                                                    "type": "slot",
                                                                                    "kind": "attr",
                                                                                    "base": {
                                                                                        "type": "slot",
                                                                                        "kind": "cell",
                                                                                        "index": 0
                                                                                    },
                                                                                    "name": "input",
                                                                                    "loc": [
                                                                                        35,
                                                                                        675,
                                                                                        45,
                                                                                        675,
                                                                                        0
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "slot",
                                                                            "kind": "cell",
                                                                            "index": 1
                                                                        }
                                                                    ],
                                                                    "loc": [
                                                                        23,
                                                                        675,
                                                                        56,
                                                                        675,
                                                                        0
                                                                    ]
                                                                }
                                                            }
                                                        ],
                                                        "loc": [
                                                            18,
                                                            675,
                                                            56,
                                                            675,
                                                            0
                                                        ]
                                                    }
                                                },
                                                {
                                                    "name": "get",
                                                    "mutable": false,
                                                    "value": {
                                                        "type": "closure",
                                                        "cellvars": [
                                                            {
                                                                "type": "cell",
                                                                "deref": true,
                                                                "name": "port",
                                                                "defs": 2
                                                            }
                                                        ],
                                                        "localvars": [],
                                                        "frame": [1],
                                                        "args": [],
                                                        "body": [
                                                            {
                                                                "type": "return",
                                                                "value": {
                                                                    "type": "slot",
                                                                    "kind": "attr",
                                                                    "base": {
                                                                        "type": "slot",
                                                                        "kind": "cell",
                                                                        "index": 0
                                                                    },
                                                                    "name": "output",
                                                                    "loc": [
                                                                        29,
                                                                        676,
                                                                        40,
                                                                        676,
                                                                        0
                                                                    ]
                                                                }
                                                            }
                                                        ],
                                                        "loc": [
                                                            18,
                                                            676,
                                                            40,
                                                            676,
                                                            0
                                                        ]
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                ],
                                "loc": [4, 668, 43, 676, 0]
                            },
                            {
                                "type": "constant",
                                "value": {
                                    "type": "literal",
                                    "kind": "string",
                                    "value": "global"
                                },
                                "body": [
                                    {
                                        "type": "assign",
                                        "slot": {
                                            "type": "slot",
                                            "kind": "cell",
                                            "index": 2
                                        },
                                        "value": {
                                            "type": "slot",
                                            "kind": "item",
                                            "base": {
                                                "type": "slot",
                                                "kind": "local",
                                                "index": 0
                                            },
                                            "index": {
                                                "type": "literal",
                                                "kind": "string",
                                                "value": "name"
                                            },
                                            "loc": [15, 678, 24, 678, 0]
                                        }
                                    },
                                    {
                                        "type": "return",
                                        "value": {
                                            "type": "record",
                                            "fields": [
                                                {
                                                    "name": "set",
                                                    "mutable": false,
                                                    "value": {
                                                        "type": "closure",
                                                        "cellvars": [],
                                                        "localvars": [
                                                            {
                                                                "type": "cell",
                                                                "deref": false,
                                                                "name": "a",
                                                                "defs": 1
                                                            }
                                                        ],
                                                        "frame": [],
                                                        "args": [
                                                            {
                                                                "slot": {
                                                                    "type": "slot",
                                                                    "kind": "local",
                                                                    "index": 0
                                                                }
                                                            }
                                                        ],
                                                        "body": [
                                                            {
                                                                "type": "assert",
                                                                "cond": {
                                                                    "type": "slot",
                                                                    "kind": "global",
                                                                    "name": "false",
                                                                    "loc": [
                                                                        30,
                                                                        680,
                                                                        35,
                                                                        680,
                                                                        0
                                                                    ]
                                                                },
                                                                "value": {
                                                                    "type": "literal",
                                                                    "kind": "string",
                                                                    "value": "not supported"
                                                                },
                                                                "loc": [
                                                                    23,
                                                                    680,
                                                                    54,
                                                                    680,
                                                                    0
                                                                ]
                                                            }
                                                        ],
                                                        "loc": [
                                                            18,
                                                            680,
                                                            54,
                                                            680,
                                                            0
                                                        ]
                                                    }
                                                },
                                                {
                                                    "name": "get",
                                                    "mutable": false,
                                                    "value": {
                                                        "type": "closure",
                                                        "cellvars": [
                                                            {
                                                                "type": "cell",
                                                                "deref": true,
                                                                "name": "name",
                                                                "defs": 1
                                                            }
                                                        ],
                                                        "localvars": [
                                                            {
                                                                "type": "cell",
                                                                "deref": false,
                                                                "name": "f",
                                                                "defs": 1
                                                            }
                                                        ],
                                                        "frame": [2],
                                                        "args": [],
                                                        "body": [
                                                            {
                                                                "type": "cond",
                                                                "cond": {
                                                                    "type": "cmp",
                                                                    "exprs": [
                                                                        {
                                                                            "type": "slot",
                                                                            "kind": "cell",
                                                                            "index": 0
                                                                        },
                                                                        {
                                                                            "type": "literal",
                                                                            "kind": "string",
                                                                            "value": "+"
                                                                        }
                                                                    ],
                                                                    "ops": [
                                                                        {
                                                                            "type": "slot",
                                                                            "kind": "global",
                                                                            "name": "==",
                                                                            "loc": [
                                                                                19,
                                                                                682,
                                                                                30,
                                                                                682,
                                                                                0
                                                                            ]
                                                                        }
                                                                    ],
                                                                    "loc": [
                                                                        19,
                                                                        682,
                                                                        30,
                                                                        682,
                                                                        0
                                                                    ]
                                                                },
                                                                "tbody": [
                                                                    {
                                                                        "type": "assign",
                                                                        "slot": {
                                                                            "type": "slot",
                                                                            "kind": "local",
                                                                            "index": 0
                                                                        },
                                                                        "value": {
                                                                            "type": "call",
                                                                            "callee": {
                                                                                "type": "slot",
                                                                                "kind": "global",
                                                                                "name": "fresh_state",
                                                                                "loc": [
                                                                                    24,
                                                                                    683,
                                                                                    35,
                                                                                    683,
                                                                                    0
                                                                                ]
                                                                            },
                                                                            "args": [
                                                                                {
                                                                                    "type": "call",
                                                                                    "callee": {
                                                                                        "type": "slot",
                                                                                        "kind": "global",
                                                                                        "name": "+expr",
                                                                                        "loc": [
                                                                                            36,
                                                                                            683,
                                                                                            38,
                                                                                            683,
                                                                                            0
                                                                                        ]
                                                                                    },
                                                                                    "args": [
                                                                                        {
                                                                                            "type": "literal",
                                                                                            "kind": "integer",
                                                                                            "value": "1"
                                                                                        }
                                                                                    ],
                                                                                    "loc": [
                                                                                        36,
                                                                                        683,
                                                                                        38,
                                                                                        683,
                                                                                        0
                                                                                    ]
                                                                                }
                                                                            ],
                                                                            "loc": [
                                                                                24,
                                                                                683,
                                                                                39,
                                                                                683,
                                                                                0
                                                                            ]
                                                                        }
                                                                    },
                                                                    {
                                                                        "type": "call",
                                                                        "callee": {
                                                                            "type": "slot",
                                                                            "kind": "attr",
                                                                            "base": {
                                                                                "type": "slot",
                                                                                "kind": "attr",
                                                                                "base": {
                                                                                    "type": "slot",
                                                                                    "kind": "local",
                                                                                    "index": 0
                                                                                },
                                                                                "name": "heads",
                                                                                "loc": [
                                                                                    20,
                                                                                    684,
                                                                                    27,
                                                                                    684,
                                                                                    0
                                                                                ]
                                                                            },
                                                                            "name": "add",
                                                                            "loc": [
                                                                                20,
                                                                                684,
                                                                                31,
                                                                                684,
                                                                                0
                                                                            ]
                                                                        },
                                                                        "args": [
                                                                            {
                                                                                "type": "call",
                                                                                "callee": {
                                                                                    "type": "slot",
                                                                                    "kind": "global",
                                                                                    "name": "faucet",
                                                                                    "loc": [
                                                                                        32,
                                                                                        684,
                                                                                        38,
                                                                                        684,
                                                                                        0
                                                                                    ]
                                                                                },
                                                                                "args": [
                                                                                    {
                                                                                        "type": "call",
                                                                                        "callee": {
                                                                                            "type": "slot",
                                                                                            "kind": "global",
                                                                                            "name": "face",
                                                                                            "loc": [
                                                                                                39,
                                                                                                684,
                                                                                                43,
                                                                                                684,
                                                                                                0
                                                                                            ]
                                                                                        },
                                                                                        "args": [
                                                                                            {
                                                                                                "type": "slot",
                                                                                                "kind": "global",
                                                                                                "name": "+",
                                                                                                "loc": [
                                                                                                    45,
                                                                                                    684,
                                                                                                    46,
                                                                                                    684,
                                                                                                    0
                                                                                                ]
                                                                                            }
                                                                                        ],
                                                                                        "loc": [
                                                                                            39,
                                                                                            684,
                                                                                            48,
                                                                                            684,
                                                                                            0
                                                                                        ]
                                                                                    }
                                                                                ],
                                                                                "loc": [
                                                                                    32,
                                                                                    684,
                                                                                    49,
                                                                                    684,
                                                                                    0
                                                                                ]
                                                                            }
                                                                        ],
                                                                        "loc": [
                                                                            20,
                                                                            684,
                                                                            50,
                                                                            684,
                                                                            0
                                                                        ]
                                                                    },
                                                                    {
                                                                        "type": "return",
                                                                        "value": {
                                                                            "type": "slot",
                                                                            "kind": "local",
                                                                            "index": 0
                                                                        }
                                                                    }
                                                                ],
                                                                "fbody": [],
                                                                "loc": [
                                                                    16,
                                                                    682,
                                                                    28,
                                                                    685,
                                                                    0
                                                                ]
                                                            },
                                                            {
                                                                "type": "assert",
                                                                "cond": {
                                                                    "type": "slot",
                                                                    "kind": "global",
                                                                    "name": "false",
                                                                    "loc": [
                                                                        23,
                                                                        686,
                                                                        28,
                                                                        686,
                                                                        0
                                                                    ]
                                                                },
                                                                "value": {
                                                                    "type": "literal",
                                                                    "kind": "string",
                                                                    "value": "not supported"
                                                                },
                                                                "loc": [
                                                                    16,
                                                                    686,
                                                                    47,
                                                                    686,
                                                                    0
                                                                ]
                                                            }
                                                        ],
                                                        "loc": [
                                                            18,
                                                            681,
                                                            47,
                                                            686,
                                                            0
                                                        ]
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                ],
                                "loc": [4, 677, 13, 687, 0]
                            }
                        ],
                        "default": [
                            {
                                "type": "call",
                                "callee": {
                                    "type": "slot",
                                    "kind": "global",
                                    "name": "print",
                                    "loc": [8, 689, 13, 689, 0]
                                },
                                "args": [
                                    {
                                        "type": "slot",
                                        "kind": "item",
                                        "base": {
                                            "type": "slot",
                                            "kind": "local",
                                            "index": 0
                                        },
                                        "index": {
                                            "type": "literal",
                                            "kind": "string",
                                            "value": "kind"
                                        },
                                        "loc": [14, 689, 23, 689, 0]
                                    },
                                    {
                                        "type": "literal",
                                        "kind": "string",
                                        "value": "missing"
                                    }
                                ],
                                "loc": [8, 689, 35, 689, 0]
                            },
                            {
                                "type": "assert",
                                "cond": {
                                    "type": "slot",
                                    "kind": "global",
                                    "name": "false",
                                    "loc": [15, 690, 20, 690, 0]
                                },
                                "value": {
                                    "type": "literal",
                                    "kind": "string",
                                    "value": "missing inference for expression"
                                },
                                "loc": [8, 690, 58, 690, 0]
                            }
                        ],
                        "loc": [4, 667, 58, 690, 0]
                    }
                ],
                "loc": [17, 666, 58, 690, 0]
            }
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "foo",
                "loc": [0, 694, 3, 694, 0]
            },
            "value": {
                "type": "closure",
                "cellvars": [],
                "localvars": [
                    {"type": "cell", "deref": false, "name": "bar", "defs": 1}
                ],
                "frame": [],
                "args": [
                    {"slot": {"type": "slot", "kind": "local", "index": 0}}
                ],
                "body": [
                    {
                        "type": "return",
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "global",
                                "name": "+",
                                "loc": [11, 695, 18, 695, 0]
                            },
                            "args": [
                                {"type": "slot", "kind": "local", "index": 0},
                                {
                                    "type": "literal",
                                    "kind": "integer",
                                    "value": "5"
                                }
                            ],
                            "loc": [11, 695, 18, 695, 0]
                        }
                    }
                ],
                "loc": [6, 694, 18, 695, 0]
            }
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "env",
                "loc": [0, 697, 3, 697, 0]
            },
            "value": {
                "type": "call",
                "callee": {
                    "type": "slot",
                    "kind": "global",
                    "name": "environ",
                    "loc": [6, 697, 13, 697, 0]
                },
                "args": [
                    {
                        "type": "call",
                        "callee": {
                            "type": "slot",
                            "kind": "global",
                            "name": "dict",
                            "loc": [14, 697, 18, 697, 0]
                        },
                        "args": [],
                        "loc": [14, 697, 20, 697, 0]
                    },
                    {
                        "type": "call",
                        "callee": {
                            "type": "slot",
                            "kind": "global",
                            "name": "dict",
                            "loc": [22, 697, 26, 697, 0]
                        },
                        "args": [],
                        "loc": [22, 697, 28, 697, 0]
                    },
                    {
                        "type": "slot",
                        "kind": "global",
                        "name": "environ_end",
                        "loc": [30, 697, 41, 697, 0]
                    },
                    {
                        "type": "call",
                        "callee": {
                            "type": "slot",
                            "kind": "global",
                            "name": "set",
                            "loc": [43, 697, 46, 697, 0]
                        },
                        "args": [],
                        "loc": [43, 697, 48, 697, 0]
                    }
                ],
                "loc": [6, 697, 49, 697, 0]
            }
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "visited",
                "loc": [0, 698, 7, 698, 0]
            },
            "value": {
                "type": "call",
                "callee": {
                    "type": "slot",
                    "kind": "global",
                    "name": "set",
                    "loc": [10, 698, 13, 698, 0]
                },
                "args": [],
                "loc": [10, 698, 15, 698, 0]
            }
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "out",
                "loc": [0, 700, 3, 700, 0]
            },
            "value": {
                "type": "call",
                "callee": {
                    "type": "slot",
                    "kind": "global",
                    "name": "inference_function",
                    "loc": [6, 700, 24, 700, 0]
                },
                "args": [
                    {
                        "type": "slot",
                        "kind": "global",
                        "name": "foo",
                        "loc": [25, 700, 28, 700, 0]
                    },
                    {
                        "type": "slot",
                        "kind": "global",
                        "name": "env",
                        "loc": [30, 700, 33, 700, 0]
                    },
                    {
                        "type": "slot",
                        "kind": "global",
                        "name": "visited",
                        "loc": [35, 700, 42, 700, 0]
                    }
                ],
                "loc": [6, 700, 43, 700, 0]
            }
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "out_scheme",
                "loc": [0, 701, 10, 701, 0]
            },
            "value": {
                "type": "call",
                "callee": {
                    "type": "slot",
                    "kind": "global",
                    "name": "generalize",
                    "loc": [13, 701, 23, 701, 0]
                },
                "args": [
                    {
                        "type": "slot",
                        "kind": "global",
                        "name": "out",
                        "loc": [24, 701, 27, 701, 0]
                    },
                    {
                        "type": "slot",
                        "kind": "global",
                        "name": "env",
                        "loc": [29, 701, 32, 701, 0]
                    }
                ],
                "loc": [13, 701, 33, 701, 0]
            }
        },
        {
            "type": "call",
            "callee": {
                "type": "slot",
                "kind": "global",
                "name": "print",
                "loc": [0, 702, 5, 702, 0]
            },
            "args": [
                {
                    "type": "call",
                    "callee": {
                        "type": "slot",
                        "kind": "global",
                        "name": "to_raw_type",
                        "loc": [6, 702, 17, 702, 0]
                    },
                    "args": [
                        {
                            "type": "slot",
                            "kind": "global",
                            "name": "out_scheme",
                            "loc": [18, 702, 28, 702, 0]
                        }
                    ],
                    "loc": [6, 702, 29, 702, 0]
                }
            ],
            "loc": [0, 702, 30, 702, 0]
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "test1",
                "loc": [0, 738, 5, 738, 0]
            },
            "value": {
                "type": "call",
                "callee": {
                    "type": "slot",
                    "kind": "global",
                    "name": "fresh_state",
                    "loc": [8, 738, 19, 738, 0]
                },
                "args": [
                    {
                        "type": "call",
                        "callee": {
                            "type": "slot",
                            "kind": "global",
                            "name": "+expr",
                            "loc": [20, 738, 22, 738, 0]
                        },
                        "args": [
                            {"type": "literal", "kind": "integer", "value": "1"}
                        ],
                        "loc": [20, 738, 22, 738, 0]
                    }
                ],
                "loc": [8, 738, 23, 738, 0]
            }
        },
        {
            "type": "call",
            "callee": {
                "type": "slot",
                "kind": "attr",
                "base": {
                    "type": "slot",
                    "kind": "attr",
                    "base": {
                        "type": "slot",
                        "kind": "global",
                        "name": "test1",
                        "loc": [0, 739, 5, 739, 0]
                    },
                    "name": "heads",
                    "loc": [0, 739, 11, 739, 0]
                },
                "name": "add",
                "loc": [0, 739, 15, 739, 0]
            },
            "args": [
                {
                    "type": "call",
                    "callee": {
                        "type": "slot",
                        "kind": "global",
                        "name": "faucet",
                        "loc": [16, 739, 22, 739, 0]
                    },
                    "args": [
                        {
                            "type": "slot",
                            "kind": "global",
                            "name": "Integer",
                            "loc": [23, 739, 30, 739, 0]
                        }
                    ],
                    "loc": [16, 739, 31, 739, 0]
                }
            ],
            "loc": [0, 739, 32, 739, 0]
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "test1_scheme",
                "loc": [0, 740, 12, 740, 0]
            },
            "value": {
                "type": "record",
                "fields": [
                    {
                        "name": "generic",
                        "mutable": false,
                        "value": {
                            "type": "call",
                            "callee": {
                                "type": "slot",
                                "kind": "global",
                                "name": "set",
                                "loc": [13, 741, 16, 741, 0]
                            },
                            "args": [
                                {
                                    "type": "list",
                                    "values": [
                                        {
                                            "type": "slot",
                                            "kind": "global",
                                            "name": "test1",
                                            "loc": [18, 741, 23, 741, 0]
                                        }
                                    ]
                                }
                            ],
                            "loc": [13, 741, 25, 741, 0]
                        }
                    },
                    {
                        "name": "root",
                        "mutable": false,
                        "value": {
                            "type": "slot",
                            "kind": "global",
                            "name": "test1",
                            "loc": [13, 742, 18, 742, 0]
                        }
                    }
                ]
            }
        },
        {
            "type": "call",
            "callee": {
                "type": "slot",
                "kind": "global",
                "name": "print",
                "loc": [0, 743, 5, 743, 0]
            },
            "args": [
                {
                    "type": "call",
                    "callee": {
                        "type": "slot",
                        "kind": "global",
                        "name": "to_raw_type",
                        "loc": [6, 743, 17, 743, 0]
                    },
                    "args": [
                        {
                            "type": "slot",
                            "kind": "global",
                            "name": "test1_scheme",
                            "loc": [18, 743, 30, 743, 0]
                        }
                    ],
                    "loc": [6, 743, 31, 743, 0]
                }
            ],
            "loc": [0, 743, 32, 743, 0]
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "test2_generic",
                "loc": [0, 745, 13, 745, 0]
            },
            "value": {
                "type": "call",
                "callee": {
                    "type": "slot",
                    "kind": "global",
                    "name": "set",
                    "loc": [16, 745, 19, 745, 0]
                },
                "args": [],
                "loc": [16, 745, 21, 745, 0]
            }
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "test2",
                "loc": [0, 746, 5, 746, 0]
            },
            "value": {
                "type": "call",
                "callee": {
                    "type": "slot",
                    "kind": "global",
                    "name": "fresh_state",
                    "loc": [8, 746, 19, 746, 0]
                },
                "args": [
                    {
                        "type": "call",
                        "callee": {
                            "type": "slot",
                            "kind": "global",
                            "name": "+expr",
                            "loc": [20, 746, 22, 746, 0]
                        },
                        "args": [
                            {"type": "literal", "kind": "integer", "value": "1"}
                        ],
                        "loc": [20, 746, 22, 746, 0]
                    }
                ],
                "loc": [8, 746, 23, 746, 0]
            }
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "fn",
                "loc": [0, 747, 2, 747, 0]
            },
            "value": {
                "type": "call",
                "callee": {
                    "type": "slot",
                    "kind": "global",
                    "name": "face",
                    "loc": [5, 747, 9, 747, 0]
                },
                "args": [
                    {
                        "type": "slot",
                        "kind": "global",
                        "name": "greedy_biclique_decomposition",
                        "loc": [10, 747, 39, 747, 0]
                    }
                ],
                "loc": [5, 747, 40, 747, 0]
            }
        },
        {
            "type": "call",
            "callee": {
                "type": "slot",
                "kind": "attr",
                "base": {
                    "type": "slot",
                    "kind": "attr",
                    "base": {
                        "type": "slot",
                        "kind": "global",
                        "name": "test2",
                        "loc": [0, 748, 5, 748, 0]
                    },
                    "name": "heads",
                    "loc": [0, 748, 11, 748, 0]
                },
                "name": "add",
                "loc": [0, 748, 15, 748, 0]
            },
            "args": [
                {
                    "type": "call",
                    "callee": {
                        "type": "slot",
                        "kind": "global",
                        "name": "faucet",
                        "loc": [16, 748, 22, 748, 0]
                    },
                    "args": [
                        {
                            "type": "slot",
                            "kind": "global",
                            "name": "fn",
                            "loc": [23, 748, 25, 748, 0]
                        }
                    ],
                    "loc": [16, 748, 26, 748, 0]
                }
            ],
            "loc": [0, 748, 27, 748, 0]
        },
        {
            "type": "repeat",
            "fresh": [],
            "heads": [
                {
                    "type": "for",
                    "slot": {"type": "slot", "kind": "local", "index": 0},
                    "value": {
                        "type": "call",
                        "callee": {
                            "type": "slot",
                            "kind": "attr",
                            "base": {
                                "type": "slot",
                                "kind": "global",
                                "name": "fn",
                                "loc": [13, 749, 15, 749, 0]
                            },
                            "name": "params",
                            "loc": [13, 749, 22, 749, 0]
                        },
                        "args": [],
                        "loc": [13, 749, 24, 749, 0]
                    }
                }
            ],
            "body": [
                {
                    "type": "assign",
                    "slot": {"type": "slot", "kind": "local", "index": 1},
                    "value": {
                        "type": "call",
                        "callee": {
                            "type": "slot",
                            "kind": "global",
                            "name": "fresh_state",
                            "loc": [9, 750, 20, 750, 0]
                        },
                        "args": [
                            {
                                "type": "slot",
                                "kind": "attr",
                                "base": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 0
                                },
                                "name": "pol",
                                "loc": [21, 750, 30, 750, 0]
                            }
                        ],
                        "loc": [9, 750, 31, 750, 0]
                    }
                },
                {
                    "type": "call",
                    "callee": {
                        "type": "slot",
                        "kind": "attr",
                        "base": {
                            "type": "slot",
                            "kind": "global",
                            "name": "test2",
                            "loc": [4, 751, 9, 751, 0]
                        },
                        "name": "add_transition",
                        "loc": [4, 751, 24, 751, 0]
                    },
                    "args": [
                        {"type": "slot", "kind": "local", "index": 0},
                        {"type": "slot", "kind": "local", "index": 1}
                    ],
                    "loc": [4, 751, 35, 751, 0]
                },
                {
                    "type": "call",
                    "callee": {
                        "type": "slot",
                        "kind": "attr",
                        "base": {
                            "type": "slot",
                            "kind": "global",
                            "name": "test2_generic",
                            "loc": [4, 752, 17, 752, 0]
                        },
                        "name": "add",
                        "loc": [4, 752, 21, 752, 0]
                    },
                    "args": [{"type": "slot", "kind": "local", "index": 1}],
                    "loc": [4, 752, 25, 752, 0]
                }
            ]
        },
        {
            "type": "call",
            "callee": {
                "type": "slot",
                "kind": "attr",
                "base": {
                    "type": "slot",
                    "kind": "global",
                    "name": "test2_generic",
                    "loc": [0, 753, 13, 753, 0]
                },
                "name": "add",
                "loc": [0, 753, 17, 753, 0]
            },
            "args": [
                {
                    "type": "slot",
                    "kind": "global",
                    "name": "test2",
                    "loc": [18, 753, 23, 753, 0]
                }
            ],
            "loc": [0, 753, 24, 753, 0]
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "test2_scheme",
                "loc": [0, 754, 12, 754, 0]
            },
            "value": {
                "type": "record",
                "fields": [
                    {
                        "name": "generic",
                        "mutable": false,
                        "value": {
                            "type": "slot",
                            "kind": "global",
                            "name": "test2_generic",
                            "loc": [13, 755, 26, 755, 0]
                        }
                    },
                    {
                        "name": "root",
                        "mutable": false,
                        "value": {
                            "type": "slot",
                            "kind": "global",
                            "name": "test2",
                            "loc": [13, 756, 18, 756, 0]
                        }
                    }
                ]
            }
        },
        {
            "type": "call",
            "callee": {
                "type": "slot",
                "kind": "global",
                "name": "print",
                "loc": [0, 757, 5, 757, 0]
            },
            "args": [
                {
                    "type": "call",
                    "callee": {
                        "type": "slot",
                        "kind": "global",
                        "name": "to_raw_type",
                        "loc": [6, 757, 17, 757, 0]
                    },
                    "args": [
                        {
                            "type": "slot",
                            "kind": "global",
                            "name": "test2_scheme",
                            "loc": [18, 757, 30, 757, 0]
                        }
                    ],
                    "loc": [6, 757, 31, 757, 0]
                }
            ],
            "loc": [0, 757, 32, 757, 0]
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "test3_generic",
                "loc": [0, 759, 13, 759, 0]
            },
            "value": {
                "type": "call",
                "callee": {
                    "type": "slot",
                    "kind": "global",
                    "name": "set",
                    "loc": [16, 759, 19, 759, 0]
                },
                "args": [],
                "loc": [16, 759, 21, 759, 0]
            }
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "test3",
                "loc": [0, 760, 5, 760, 0]
            },
            "value": {
                "type": "call",
                "callee": {
                    "type": "slot",
                    "kind": "global",
                    "name": "fresh_state",
                    "loc": [8, 760, 19, 760, 0]
                },
                "args": [
                    {
                        "type": "call",
                        "callee": {
                            "type": "slot",
                            "kind": "global",
                            "name": "+expr",
                            "loc": [20, 760, 22, 760, 0]
                        },
                        "args": [
                            {"type": "literal", "kind": "integer", "value": "1"}
                        ],
                        "loc": [20, 760, 22, 760, 0]
                    }
                ],
                "loc": [8, 760, 23, 760, 0]
            }
        },
        {
            "type": "call",
            "callee": {
                "type": "slot",
                "kind": "attr",
                "base": {
                    "type": "slot",
                    "kind": "attr",
                    "base": {
                        "type": "slot",
                        "kind": "global",
                        "name": "test3",
                        "loc": [0, 761, 5, 761, 0]
                    },
                    "name": "heads",
                    "loc": [0, 761, 11, 761, 0]
                },
                "name": "add",
                "loc": [0, 761, 15, 761, 0]
            },
            "args": [
                {
                    "type": "call",
                    "callee": {
                        "type": "slot",
                        "kind": "global",
                        "name": "faucet",
                        "loc": [16, 761, 22, 761, 0]
                    },
                    "args": [
                        {
                            "type": "slot",
                            "kind": "global",
                            "name": "List",
                            "loc": [23, 761, 27, 761, 0]
                        }
                    ],
                    "loc": [16, 761, 28, 761, 0]
                }
            ],
            "loc": [0, 761, 29, 761, 0]
        },
        {
            "type": "repeat",
            "fresh": [],
            "heads": [
                {
                    "type": "for",
                    "slot": {"type": "slot", "kind": "local", "index": 2},
                    "value": {
                        "type": "call",
                        "callee": {
                            "type": "slot",
                            "kind": "attr",
                            "base": {
                                "type": "slot",
                                "kind": "global",
                                "name": "List",
                                "loc": [13, 762, 17, 762, 0]
                            },
                            "name": "params",
                            "loc": [13, 762, 24, 762, 0]
                        },
                        "args": [],
                        "loc": [13, 762, 26, 762, 0]
                    }
                }
            ],
            "body": [
                {
                    "type": "assign",
                    "slot": {"type": "slot", "kind": "local", "index": 3},
                    "value": {
                        "type": "call",
                        "callee": {
                            "type": "slot",
                            "kind": "global",
                            "name": "fresh_state",
                            "loc": [9, 763, 20, 763, 0]
                        },
                        "args": [
                            {
                                "type": "slot",
                                "kind": "attr",
                                "base": {
                                    "type": "slot",
                                    "kind": "local",
                                    "index": 2
                                },
                                "name": "pol",
                                "loc": [21, 763, 30, 763, 0]
                            }
                        ],
                        "loc": [9, 763, 31, 763, 0]
                    }
                },
                {
                    "type": "call",
                    "callee": {
                        "type": "slot",
                        "kind": "attr",
                        "base": {
                            "type": "slot",
                            "kind": "global",
                            "name": "test3",
                            "loc": [4, 764, 9, 764, 0]
                        },
                        "name": "add_transition",
                        "loc": [4, 764, 24, 764, 0]
                    },
                    "args": [
                        {"type": "slot", "kind": "local", "index": 2},
                        {"type": "slot", "kind": "local", "index": 3}
                    ],
                    "loc": [4, 764, 35, 764, 0]
                },
                {
                    "type": "call",
                    "callee": {
                        "type": "slot",
                        "kind": "attr",
                        "base": {
                            "type": "slot",
                            "kind": "global",
                            "name": "test3_generic",
                            "loc": [4, 765, 17, 765, 0]
                        },
                        "name": "add",
                        "loc": [4, 765, 21, 765, 0]
                    },
                    "args": [{"type": "slot", "kind": "local", "index": 3}],
                    "loc": [4, 765, 25, 765, 0]
                }
            ]
        },
        {
            "type": "call",
            "callee": {
                "type": "slot",
                "kind": "attr",
                "base": {
                    "type": "slot",
                    "kind": "global",
                    "name": "test3_generic",
                    "loc": [0, 766, 13, 766, 0]
                },
                "name": "add",
                "loc": [0, 766, 17, 766, 0]
            },
            "args": [
                {
                    "type": "slot",
                    "kind": "global",
                    "name": "test3",
                    "loc": [18, 766, 23, 766, 0]
                }
            ],
            "loc": [0, 766, 24, 766, 0]
        },
        {
            "type": "assign",
            "slot": {
                "type": "slot",
                "kind": "global",
                "name": "test3_scheme",
                "loc": [0, 767, 12, 767, 0]
            },
            "value": {
                "type": "record",
                "fields": [
                    {
                        "name": "generic",
                        "mutable": false,
                        "value": {
                            "type": "slot",
                            "kind": "global",
                            "name": "test3_generic",
                            "loc": [13, 768, 26, 768, 0]
                        }
                    },
                    {
                        "name": "root",
                        "mutable": false,
                        "value": {
                            "type": "slot",
                            "kind": "global",
                            "name": "test3",
                            "loc": [13, 769, 18, 769, 0]
                        }
                    }
                ]
            }
        },
        {
            "type": "call",
            "callee": {
                "type": "slot",
                "kind": "global",
                "name": "print",
                "loc": [0, 770, 5, 770, 0]
            },
            "args": [
                {
                    "type": "call",
                    "callee": {
                        "type": "slot",
                        "kind": "global",
                        "name": "to_raw_type",
                        "loc": [6, 770, 17, 770, 0]
                    },
                    "args": [
                        {
                            "type": "slot",
                            "kind": "global",
                            "name": "test3_scheme",
                            "loc": [18, 770, 30, 770, 0]
                        }
                    ],
                    "loc": [6, 770, 31, 770, 0]
                }
            ],
            "loc": [0, 770, 32, 770, 0]
        }
    ],
    "sources": ["intro.lc"]
}
